(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function a0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var yd={exports:{}},yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function nb(){if(p_)return yl;p_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return yl.Fragment=t,yl.jsx=n,yl.jsxs=n,yl}var y_;function ib(){return y_||(y_=1,yd.exports=nb()),yd.exports}var P=ib(),_d={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function rb(){if(__)return Ct;__=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.iterator;function D(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,it={};function tt(C,K,et){this.props=C,this.context=K,this.refs=it,this.updater=et||F}tt.prototype.isReactComponent={},tt.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},tt.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Tt(){}Tt.prototype=tt.prototype;function ot(C,K,et){this.props=C,this.context=K,this.refs=it,this.updater=et||F}var ct=ot.prototype=new Tt;ct.constructor=ot,Z(ct,tt.prototype),ct.isPureReactComponent=!0;var Mt=Array.isArray,yt={H:null,A:null,T:null,S:null,V:null},St=Object.prototype.hasOwnProperty;function O(C,K,et,W,ft,It){return et=It.ref,{$$typeof:r,type:C,key:K,ref:et!==void 0?et:null,props:It}}function b(C,K){return O(C.type,K,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function x(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return K[et]})}var V=/\/+/g;function M(C,K){return typeof C=="object"&&C!==null&&C.key!=null?x(""+C.key):K.toString(36)}function I(){}function qt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(I,I):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,K,et,W,ft){var It=typeof C;(It==="undefined"||It==="boolean")&&(C=null);var mt=!1;if(C===null)mt=!0;else switch(It){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(C.$$typeof){case r:case t:mt=!0;break;case A:return mt=C._init,re(mt(C._payload),K,et,W,ft)}}if(mt)return ft=ft(C),mt=W===""?"."+M(C,0):W,Mt(ft)?(et="",mt!=null&&(et=mt.replace(V,"$&/")+"/"),re(ft,K,et,"",function(hn){return hn})):ft!=null&&(R(ft)&&(ft=b(ft,et+(ft.key==null||C&&C.key===ft.key?"":(""+ft.key).replace(V,"$&/")+"/")+mt)),K.push(ft)),1;mt=0;var fe=W===""?".":W+":";if(Mt(C))for(var Ht=0;Ht<C.length;Ht++)W=C[Ht],It=fe+M(W,Ht),mt+=re(W,K,et,It,ft);else if(Ht=D(C),typeof Ht=="function")for(C=Ht.call(C),Ht=0;!(W=C.next()).done;)W=W.value,It=fe+M(W,Ht++),mt+=re(W,K,et,It,ft);else if(It==="object"){if(typeof C.then=="function")return re(qt(C),K,et,W,ft);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return mt}function H(C,K,et){if(C==null)return C;var W=[],ft=0;return re(C,W,"","",function(It){return K.call(et,It,ft++)}),W}function rt(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Dt(){}return Ct.Children={map:H,forEach:function(C,K,et){H(C,function(){K.apply(this,arguments)},et)},count:function(C){var K=0;return H(C,function(){K++}),K},toArray:function(C){return H(C,function(K){return K})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ct.Component=tt,Ct.Fragment=n,Ct.Profiler=l,Ct.PureComponent=ot,Ct.StrictMode=s,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(C){return yt.H.useMemoCache(C)}},Ct.cache=function(C){return function(){return C.apply(null,arguments)}},Ct.cloneElement=function(C,K,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=Z({},C.props),ft=C.key,It=void 0;if(K!=null)for(mt in K.ref!==void 0&&(It=void 0),K.key!==void 0&&(ft=""+K.key),K)!St.call(K,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&K.ref===void 0||(W[mt]=K[mt]);var mt=arguments.length-2;if(mt===1)W.children=et;else if(1<mt){for(var fe=Array(mt),Ht=0;Ht<mt;Ht++)fe[Ht]=arguments[Ht+2];W.children=fe}return O(C.type,ft,void 0,void 0,It,W)},Ct.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Ct.createElement=function(C,K,et){var W,ft={},It=null;if(K!=null)for(W in K.key!==void 0&&(It=""+K.key),K)St.call(K,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ft[W]=K[W]);var mt=arguments.length-2;if(mt===1)ft.children=et;else if(1<mt){for(var fe=Array(mt),Ht=0;Ht<mt;Ht++)fe[Ht]=arguments[Ht+2];ft.children=fe}if(C&&C.defaultProps)for(W in mt=C.defaultProps,mt)ft[W]===void 0&&(ft[W]=mt[W]);return O(C,It,void 0,void 0,null,ft)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(C){return{$$typeof:g,render:C}},Ct.isValidElement=R,Ct.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:rt}},Ct.memo=function(C,K){return{$$typeof:_,type:C,compare:K===void 0?null:K}},Ct.startTransition=function(C){var K=yt.T,et={};yt.T=et;try{var W=C(),ft=yt.S;ft!==null&&ft(et,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Dt,ut)}catch(It){ut(It)}finally{yt.T=K}},Ct.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},Ct.use=function(C){return yt.H.use(C)},Ct.useActionState=function(C,K,et){return yt.H.useActionState(C,K,et)},Ct.useCallback=function(C,K){return yt.H.useCallback(C,K)},Ct.useContext=function(C){return yt.H.useContext(C)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(C,K){return yt.H.useDeferredValue(C,K)},Ct.useEffect=function(C,K,et){var W=yt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,K)},Ct.useId=function(){return yt.H.useId()},Ct.useImperativeHandle=function(C,K,et){return yt.H.useImperativeHandle(C,K,et)},Ct.useInsertionEffect=function(C,K){return yt.H.useInsertionEffect(C,K)},Ct.useLayoutEffect=function(C,K){return yt.H.useLayoutEffect(C,K)},Ct.useMemo=function(C,K){return yt.H.useMemo(C,K)},Ct.useOptimistic=function(C,K){return yt.H.useOptimistic(C,K)},Ct.useReducer=function(C,K,et){return yt.H.useReducer(C,K,et)},Ct.useRef=function(C){return yt.H.useRef(C)},Ct.useState=function(C){return yt.H.useState(C)},Ct.useSyncExternalStore=function(C,K,et){return yt.H.useSyncExternalStore(C,K,et)},Ct.useTransition=function(){return yt.H.useTransition()},Ct.version="19.1.0",Ct}var v_;function lm(){return v_||(v_=1,_d.exports=rb()),_d.exports}var wt=lm();const sb=a0(wt);var vd={exports:{}},_l={},Ed={exports:{}},Td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function ab(){return E_||(E_=1,function(r){function t(H,rt){var ut=H.length;H.push(rt);t:for(;0<ut;){var Dt=ut-1>>>1,C=H[Dt];if(0<l(C,rt))H[Dt]=rt,H[ut]=C,ut=Dt;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var rt=H[0],ut=H.pop();if(ut!==rt){H[0]=ut;t:for(var Dt=0,C=H.length,K=C>>>1;Dt<K;){var et=2*(Dt+1)-1,W=H[et],ft=et+1,It=H[ft];if(0>l(W,ut))ft<C&&0>l(It,W)?(H[Dt]=It,H[ft]=ut,Dt=ft):(H[Dt]=W,H[et]=ut,Dt=et);else if(ft<C&&0>l(It,ut))H[Dt]=It,H[ft]=ut,Dt=ft;else break t}}return rt}function l(H,rt){var ut=H.sortIndex-rt.sortIndex;return ut!==0?ut:H.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],_=[],A=1,w=null,D=3,F=!1,Z=!1,it=!1,tt=!1,Tt=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Mt(H){for(var rt=n(_);rt!==null;){if(rt.callback===null)s(_);else if(rt.startTime<=H)s(_),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=n(_)}}function yt(H){if(it=!1,Mt(H),!Z)if(n(p)!==null)Z=!0,St||(St=!0,M());else{var rt=n(_);rt!==null&&re(yt,rt.startTime-H)}}var St=!1,O=-1,b=5,R=-1;function x(){return tt?!0:!(r.unstable_now()-R<b)}function V(){if(tt=!1,St){var H=r.unstable_now();R=H;var rt=!0;try{t:{Z=!1,it&&(it=!1,ot(O),O=-1),F=!0;var ut=D;try{e:{for(Mt(H),w=n(p);w!==null&&!(w.expirationTime>H&&x());){var Dt=w.callback;if(typeof Dt=="function"){w.callback=null,D=w.priorityLevel;var C=Dt(w.expirationTime<=H);if(H=r.unstable_now(),typeof C=="function"){w.callback=C,Mt(H),rt=!0;break e}w===n(p)&&s(p),Mt(H)}else s(p);w=n(p)}if(w!==null)rt=!0;else{var K=n(_);K!==null&&re(yt,K.startTime-H),rt=!1}}break t}finally{w=null,D=ut,F=!1}rt=void 0}}finally{rt?M():St=!1}}}var M;if(typeof ct=="function")M=function(){ct(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,qt=I.port2;I.port1.onmessage=V,M=function(){qt.postMessage(null)}}else M=function(){Tt(V,0)};function re(H,rt){O=Tt(function(){H(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(H){switch(D){case 1:case 2:case 3:var rt=3;break;default:rt=D}var ut=D;D=rt;try{return H()}finally{D=ut}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(H,rt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=D;D=H;try{return rt()}finally{D=ut}},r.unstable_scheduleCallback=function(H,rt,ut){var Dt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Dt+ut:Dt):ut=Dt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ut+C,H={id:A++,callback:rt,priorityLevel:H,startTime:ut,expirationTime:C,sortIndex:-1},ut>Dt?(H.sortIndex=ut,t(_,H),n(p)===null&&H===n(_)&&(it?(ot(O),O=-1):it=!0,re(yt,ut-Dt))):(H.sortIndex=C,t(p,H),Z||F||(Z=!0,St||(St=!0,M()))),H},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(H){var rt=D;return function(){var ut=D;D=rt;try{return H.apply(this,arguments)}finally{D=ut}}}}(Td)),Td}var T_;function ob(){return T_||(T_=1,Ed.exports=ab()),Ed.exports}var Ad={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function lb(){if(A_)return Ke;A_=1;var r=lm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:p,containerInfo:_,implementation:A}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(p,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,A)},Ke.flushSync=function(p){var _=f.T,A=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=A,s.d.f()}},Ke.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Ke.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ke.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var A=_.as,w=g(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:D,fetchPriority:F}):A==="script"&&s.d.X(p,{crossOrigin:w,integrity:D,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Ke.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,w=g(A,_.crossOrigin);s.d.L(p,A,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(p,_){if(typeof p=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Ke.requestFormReset=function(p){s.d.r(p)},Ke.unstable_batchedUpdates=function(p,_){return p(_)},Ke.useFormState=function(p,_,A){return f.H.useFormState(p,_,A)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.1.0",Ke}var b_;function ub(){if(b_)return Ad.exports;b_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ad.exports=lb(),Ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function cb(){if(S_)return _l;S_=1;var r=ob(),t=lm(),n=ub();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===o)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=d;break}if(E===o){v=!0,o=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,o=h;break}if(E===o){v=!0,o=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),ot=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case tt:return"Profiler";case it:return"StrictMode";case yt:return"Suspense";case St:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case ct:return(e.displayName||"Context")+".Provider";case ot:return(e._context.displayName||"Context")+".Consumer";case Mt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return i=e.displayName||null,i!==null?i:qt(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return qt(e(i))}catch{}}return null}var re=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Dt=[],C=-1;function K(e){return{current:e}}function et(e){0>C||(e.current=Dt[C],Dt[C]=null,C--)}function W(e,i){C++,Dt[C]=e.current,e.current=i}var ft=K(null),It=K(null),mt=K(null),fe=K(null);function Ht(e,i){switch(W(mt,i),W(It,e),W(ft,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Fy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Fy(i),e=Gy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(ft),W(ft,e)}function hn(){et(ft),et(It),et(mt)}function fn(e){e.memoizedState!==null&&W(fe,e);var i=ft.current,a=Gy(i,e.type);i!==a&&(W(It,e),W(ft,a))}function zn(e){It.current===e&&(et(ft),et(It)),fe.current===e&&(et(fe),fl._currentValue=ut)}var Bn=Object.prototype.hasOwnProperty,Ei=r.unstable_scheduleCallback,Ti=r.unstable_cancelCallback,dn=r.unstable_shouldYield,Qs=r.unstable_requestPaint,rn=r.unstable_now,Ks=r.unstable_getCurrentPriorityLevel,es=r.unstable_ImmediatePriority,rr=r.unstable_UserBlockingPriority,Ai=r.unstable_NormalPriority,co=r.unstable_LowPriority,sr=r.unstable_IdlePriority,ar=r.log,Ys=r.unstable_setDisableYieldValue,se=null,Gt=null;function G(e){if(typeof ar=="function"&&Ys(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(se,e)}catch{}}var _t=Math.clz32?Math.clz32:de,_e=Math.log,sn=Math.LN2;function de(e){return e>>>=0,e===0?32:31-(_e(e)/sn|0)|0}var Sn=256,wn=4194304;function mn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bi(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=mn(o):(v&=E,v!==0?h=mn(v):a||(a=E&~e,a!==0&&(h=mn(a))))):(E=o&~d,E!==0?h=mn(E):v!==0?h=mn(v):a||(a=o&~e,a!==0&&(h=mn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Jn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ho(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var e=Sn;return Sn<<=1,(Sn&4194048)===0&&(Sn=256),e}function mo(){var e=wn;return wn<<=1,(wn&62914560)===0&&(wn=4194304),e}function Si(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function wi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function go(e,i,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,S=e.expirationTimes,j=e.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-_t(a),X=1<<Q;E[Q]=0,S[Q]=-1;var z=j[Q];if(z!==null)for(j[Q]=null,Q=0;Q<z.length;Q++){var B=z[Q];B!==null&&(B.lane&=-536870913)}a&=~X}o!==0&&Wn(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Wn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-_t(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function po(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-_t(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lr(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:c_(e.type))}function tu(e,i){var a=rt.p;try{return rt.p=e,i()}finally{rt.p=a}}var ae=Math.random().toString(36).slice(2),we="__reactFiber$"+ae,ve="__reactProps$"+ae,Rn="__reactContainer$"+ae,yo="__reactEvents$"+ae,vh="__reactListeners$"+ae,ur="__reactHandles$"+ae,eu="__reactResources$"+ae,ns="__reactMarker$"+ae;function cr(e){delete e[we],delete e[ve],delete e[yo],delete e[vh],delete e[ur]}function Ri(e){var i=e[we];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Rn]||a[we]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Xy(e);e!==null;){if(a=e[we])return a;e=Xy(e)}return i}e=a,a=e.parentNode}return null}function ti(e){if(e=e[we]||e[Rn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function ei(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function We(e){var i=e[eu];return i||(i=e[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function me(e){e[ns]=!0}var _o=new Set,$s={};function qn(e,i){Ii(e,i),Ii(e+"Capture",i)}function Ii(e,i){for($s[e]=i,e=0;e<i.length;e++)_o.add(i[e])}var nu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),iu={},is={};function ru(e){return Bn.call(is,e)?!0:Bn.call(iu,e)?!1:nu.test(e)?is[e]=!0:(iu[e]=!0,!1)}function hr(e,i,a){if(ru(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ni(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Le(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var rs,su;function Ci(e){if(rs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);rs=i&&i[1]||"",su=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rs+e+su}var Zs=!1;function Js(e,i){if(!e||Zs)return"";Zs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var z=B}Reflect.construct(e,[],X)}else{try{X.call()}catch(B){z=B}e.call(X.prototype)}}else{try{throw Error()}catch(B){z=B}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var S=v.split(`
`),j=E.split(`
`);for(h=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===S.length||h===j.length)for(o=S.length-1,h=j.length-1;1<=o&&0<=h&&S[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(S[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||S[o]!==j[h]){var Q=`
`+S[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Zs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ci(a):""}function vo(e){switch(e.tag){case 26:case 27:case 5:return Ci(e.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return Js(e.type,!1);case 11:return Js(e.type.render,!1);case 1:return Js(e.type,!0);case 31:return Ci("Activity");default:return""}}function Ws(e){try{var i="";do i+=vo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Eo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Eh(e){var i=Eo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ta(e){e._valueTracker||(e._valueTracker=Eh(e))}function To(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=Eo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Th=/[\n"\\]/g;function Ee(e){return e.replace(Th,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function gn(e,i,a,o,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+tn(i)):e.value!==""+tn(i)&&(e.value=""+tn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?fr(e,v,tn(i)):a!=null?fr(e,v,tn(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+tn(E):e.removeAttribute("name")}function as(e,i,a,o,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function fr(e,i,a){i==="number"&&ss(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Di(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Zt(e,i,a){if(i!=null&&(i=""+tn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+tn(a):""}function os(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=tn(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function In(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function au(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||ls.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ao(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&au(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&au(e,d,i[d])}function bo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return bh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ni=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xi=null,Oi=null;function So(e){var i=ti(e);if(i&&(e=i.stateNode)){var a=e[ve]||null;t:switch(e=i.stateNode,i.type){case"input":if(gn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ee(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[ve]||null;if(!h)throw Error(s(90));gn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&To(o)}break t;case"textarea":Zt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Di(e,!!a.multiple,i,!1)}}}var ii=!1;function ou(e,i,a){if(ii)return e(i,a);ii=!0;try{var o=e(i);return o}finally{if(ii=!1,(xi!==null||Oi!==null)&&(tc(),xi&&(i=xi,e=Oi,Oi=xi=null,So(i),e)))for(i=0;i<e.length;i++)So(e[i])}}function us(e,i){var a=e.stateNode;if(a===null)return null;var o=a[ve]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Hn)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{Dn=!1}var ri=null,dr=null,Mi=null;function wo(){if(Mi)return Mi;var e,i=dr,a=i.length,o,h="value"in ri?ri.value:ri.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return Mi=h.slice(e,1<o?1-o:void 0)}function si(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ai(){return!0}function Ro(){return!1}function Oe(e){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ai:Ro,this.isPropagationStopped=Ro,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),i}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=Oe(Kt),hs=A({},Kt,{view:0,detail:0}),lu=Oe(hs),ia,ra,oi,fs=A({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(ia=e.screenX-oi.screenX,ra=e.screenY-oi.screenY):ra=ia=0,oi=e),ia)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),Nn=Oe(fs),uu=A({},fs,{dataTransfer:0}),Sh=Oe(uu),ds=A({},hs,{relatedTarget:0}),sa=Oe(ds),Io=A({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),aa=Oe(Io),cu=A({},Kt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oa=Oe(cu),wh=A({},Kt,{data:0}),Co=Oe(wh),ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Do(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=fu[e])?!!i[e]:!1}function gs(){return Do}var du=A({},hs,{key:function(e){if(e.key){var i=ms[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),la=Oe(du),mu=A({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),No=Oe(mu),Vi=A({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),gu=Oe(Vi),pu=A({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),yu=Oe(pu),_u=A({},fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ua=Oe(_u),en=A({},Kt,{newState:0,oldState:0}),vu=Oe(en),Eu=[9,13,27,32],li=Hn&&"CompositionEvent"in window,u=null;Hn&&"documentMode"in document&&(u=document.documentMode);var m=Hn&&"TextEvent"in window&&!u,y=Hn&&(!li||u&&8<u&&11>=u),T=" ",U=!1;function q(e,i){switch(e){case"keyup":return Eu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lt=!1;function Re(e,i){switch(e){case"compositionend":return nt(i);case"keypress":return i.which!==32?null:(U=!0,T);case"textInput":return e=i.data,e===T&&U?null:e;default:return null}}function jt(e,i){if(Lt)return e==="compositionend"||!li&&q(e,i)?(e=wo(),Mi=dr=ri=null,Lt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Me[e.type]:i==="textarea"}function Pi(e,i,a,o){xi?Oi?Oi.push(o):Oi=[o]:xi=o,i=ac(i,"onChange"),0<i.length&&(a=new na("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var je=null,ui=null;function xo(e){jy(e,0)}function Tu(e){var i=ei(e);if(To(i))return e}function ag(e,i){if(e==="change")return i}var og=!1;if(Hn){var Rh;if(Hn){var Ih="oninput"in document;if(!Ih){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),Ih=typeof lg.oninput=="function"}Rh=Ih}else Rh=!1;og=Rh&&(!document.documentMode||9<document.documentMode)}function ug(){je&&(je.detachEvent("onpropertychange",cg),ui=je=null)}function cg(e){if(e.propertyName==="value"&&Tu(ui)){var i=[];Pi(i,ui,e,Cn(e)),ou(xo,i)}}function OT(e,i,a){e==="focusin"?(ug(),je=i,ui=a,je.attachEvent("onpropertychange",cg)):e==="focusout"&&ug()}function MT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(ui)}function VT(e,i){if(e==="click")return Tu(i)}function PT(e,i){if(e==="input"||e==="change")return Tu(i)}function kT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:kT;function Oo(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Bn.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fg(e,i){var a=hg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=hg(a)}}function dg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?dg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function mg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ss(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ss(e.document)}return i}function Ch(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var UT=Hn&&"documentMode"in document&&11>=document.documentMode,ca=null,Dh=null,Mo=null,Nh=!1;function gg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nh||ca==null||ca!==ss(o)||(o=ca,"selectionStart"in o&&Ch(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Oo(Mo,o)||(Mo=o,o=ac(Dh,"onSelect"),0<o.length&&(i=new na("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ca)))}function ps(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ha={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},xh={},pg={};Hn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function ys(e){if(xh[e])return xh[e];if(!ha[e])return e;var i=ha[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in pg)return xh[e]=i[a];return e}var yg=ys("animationend"),_g=ys("animationiteration"),vg=ys("animationstart"),LT=ys("transitionrun"),jT=ys("transitionstart"),zT=ys("transitioncancel"),Eg=ys("transitionend"),Tg=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function Fn(e,i){Tg.set(e,i),qn(i,[e])}var Ag=new WeakMap;function xn(e,i){if(typeof e=="object"&&e!==null){var a=Ag.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ws(i)},Ag.set(e,i),i)}return{value:e,source:i,stack:Ws(i)}}var On=[],fa=0,Mh=0;function Au(){for(var e=fa,i=Mh=fa=0;i<e;){var a=On[i];On[i++]=null;var o=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&bg(a,h,d)}}function bu(e,i,a,o){On[fa++]=e,On[fa++]=i,On[fa++]=a,On[fa++]=o,Mh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Vh(e,i,a,o){return bu(e,i,a,o),Su(e)}function da(e,i){return bu(e,null,null,i),Su(e)}function bg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-_t(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Su(e){if(50<rl)throw rl=0,Bf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ma={};function BT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,i,a,o){return new BT(e,i,a,o)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,i){var a=e.alternate;return a===null?(a=yn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Sg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function wu(e,i,a,o,h,d){var v=0;if(o=e,typeof e=="function")Ph(e)&&(v=1);else if(typeof e=="string")v=HA(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=yn(31,a,i,h),e.elementType=R,e.lanes=d,e;case Z:return _s(a.children,h,d,i);case it:v=8,h|=24;break;case tt:return e=yn(12,a,i,h|2),e.elementType=tt,e.lanes=d,e;case yt:return e=yn(13,a,i,h),e.elementType=yt,e.lanes=d,e;case St:return e=yn(19,a,i,h),e.elementType=St,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:case ct:v=10;break t;case ot:v=9;break t;case Mt:v=11;break t;case O:v=14;break t;case b:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=yn(v,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function _s(e,i,a,o){return e=yn(7,e,o,i),e.lanes=a,e}function kh(e,i,a){return e=yn(6,e,null,i),e.lanes=a,e}function Uh(e,i,a){return i=yn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ga=[],pa=0,Ru=null,Iu=0,Mn=[],Vn=0,vs=null,Ui=1,Li="";function Es(e,i){ga[pa++]=Iu,ga[pa++]=Ru,Ru=e,Iu=i}function wg(e,i,a){Mn[Vn++]=Ui,Mn[Vn++]=Li,Mn[Vn++]=vs,vs=e;var o=Ui;e=Li;var h=32-_t(o)-1;o&=~(1<<h),a+=1;var d=32-_t(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ui=1<<32-_t(i)+h|a<<h|o,Li=d+e}else Ui=1<<d|a<<h|o,Li=e}function Lh(e){e.return!==null&&(Es(e,1),wg(e,1,0))}function jh(e){for(;e===Ru;)Ru=ga[--pa],ga[pa]=null,Iu=ga[--pa],ga[pa]=null;for(;e===vs;)vs=Mn[--Vn],Mn[Vn]=null,Li=Mn[--Vn],Mn[Vn]=null,Ui=Mn[--Vn],Mn[Vn]=null}var nn=null,ce=null,Qt=!1,Ts=null,ci=!1,zh=Error(s(519));function As(e){var i=Error(s(418,""));throw ko(xn(i,e)),zh}function Rg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[we]=e,i[ve]=o,a){case"dialog":Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":case"embed":Pt("load",i);break;case"video":case"audio":for(a=0;a<al.length;a++)Pt(al[a],i);break;case"source":Pt("error",i);break;case"img":case"image":case"link":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"input":Pt("invalid",i),as(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ta(i);break;case"select":Pt("invalid",i);break;case"textarea":Pt("invalid",i),os(i,o.value,o.defaultValue,o.children),ta(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Hy(i.textContent,a)?(o.popover!=null&&(Pt("beforetoggle",i),Pt("toggle",i)),o.onScroll!=null&&Pt("scroll",i),o.onScrollEnd!=null&&Pt("scrollend",i),o.onClick!=null&&(i.onclick=oc),i=!0):i=!1,i||As(e)}function Ig(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:nn=nn.return}}function Vo(e){if(e!==nn)return!1;if(!Qt)return Ig(e),Qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||id(e.type,e.memoizedProps)),a=!a),a&&ce&&As(e),Ig(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ce=Qn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ce=null}}else i===27?(i=ce,Dr(e.type)?(e=od,od=null,ce=e):ce=i):ce=nn?Qn(e.stateNode.nextSibling):null;return!0}function Po(){ce=nn=null,Qt=!1}function Cg(){var e=Ts;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),Ts=null),e}function ko(e){Ts===null?Ts=[e]:Ts.push(e)}var Bh=K(null),bs=null,ji=null;function mr(e,i,a){W(Bh,i._currentValue),i._currentValue=a}function zi(e){e._currentValue=Bh.current,et(Bh)}function qh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Hh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var S=0;S<i.length;S++)if(E.context===i[S]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),qh(d.return,a,e),o||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),qh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Uo(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;pn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===fe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&Hh(i,e,a,o),i.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){bs=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return Dg(bs,e)}function Du(e,i){return bs===null&&Ss(e),Dg(e,i)}function Dg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ji===null){if(e===null)throw Error(s(308));ji=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ji=ji.next=i;return a}var qT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},HT=r.unstable_scheduleCallback,FT=r.unstable_NormalPriority,Ce={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new qT,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&HT(FT,function(){e.controller.abort()})}var jo=null,Gh=0,ya=0,_a=null;function GT(e,i){if(jo===null){var a=jo=[];Gh=0,ya=Yf(),_a={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Gh++,i.then(Ng,Ng),i}function Ng(){if(--Gh===0&&jo!==null){_a!==null&&(_a.status="fulfilled");var e=jo;jo=null,ya=0,_a=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function QT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var xg=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&GT(e,i),xg!==null&&xg(e,i)};var ws=K(null);function Qh(){var e=ws.current;return e!==null?e:ne.pooledCache}function Nu(e,i){i===null?W(ws,ws.current):W(ws,i.pool)}function Og(){var e=Qh();return e===null?null:{parent:Ce._currentValue,pool:e}}var zo=Error(s(460)),Mg=Error(s(474)),xu=Error(s(542)),Kh={then:function(){}};function Vg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ou(){}function Pg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Ou,Ou),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ug(e),e;default:if(typeof i.status=="string")i.then(Ou,Ou);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ug(e),e}throw Bo=i,zo}}var Bo=null;function kg(){if(Bo===null)throw Error(s(459));var e=Bo;return Bo=null,e}function Ug(e){if(e===zo||e===xu)throw Error(s(483))}var gr=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Xt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Su(e),bg(e,null,a),i}return bu(e,o,i,a),Su(e)}function qo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,po(e,a)}}function $h(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Zh=!1;function Ho(){if(Zh){var e=_a;if(e!==null)throw e}}function Fo(e,i,a,o){Zh=!1;var h=e.updateQueue;gr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var S=E,j=S.next;S.next=null,v===null?d=j:v.next=j,v=S;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==v&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=S))}if(d!==null){var X=h.baseState;v=0,Q=j=S=null,E=d;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(zt&z)===z:(o&z)===z){z!==0&&z===ya&&(Zh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var At=e,gt=E;z=i;var te=a;switch(gt.tag){case 1:if(At=gt.payload,typeof At=="function"){X=At.call(te,X,z);break t}X=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=gt.payload,z=typeof At=="function"?At.call(te,X,z):At,z==null)break t;X=A({},X,z);break t;case 2:gr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=B,S=X):Q=Q.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);Q===null&&(S=X),h.baseState=S,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),wr|=v,e.lanes=v,e.memoizedState=X}}function Lg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function jg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Lg(a[e],i)}var va=K(null),Mu=K(0);function zg(e,i){e=Ki,W(Mu,e),W(va,i),Ki=e|i.baseLanes}function Jh(){W(Mu,Ki),W(va,va.current)}function Wh(){Ki=Mu.current,et(va),et(Mu)}var _r=0,Nt=null,Jt=null,Te=null,Vu=!1,Ea=!1,Rs=!1,Pu=0,Go=0,Ta=null,KT=0;function ge(){throw Error(s(321))}function tf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function ef(e,i,a,o,h,d){return _r=d,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?bp:Sp,Rs=!1,d=a(o,h),Rs=!1,Ea&&(d=qg(i,a,o,h)),Bg(e),d}function Bg(e){H.H=Bu;var i=Jt!==null&&Jt.next!==null;if(_r=0,Te=Jt=Nt=null,Vu=!1,Go=0,Ta=null,i)throw Error(s(300));e===null||Ve||(e=e.dependencies,e!==null&&Cu(e)&&(Ve=!0))}function qg(e,i,a,o){Nt=e;var h=0;do{if(Ea&&(Ta=null),Go=0,Ea=!1,25<=h)throw Error(s(301));if(h+=1,Te=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=tA,d=i(a,o)}while(Ea);return d}function YT(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?Qo(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Nt.flags|=1024),i}function nf(){var e=Pu!==0;return Pu=0,e}function rf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function sf(e){if(Vu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Vu=!1}_r=0,Te=Jt=Nt=null,Ea=!1,Go=Pu=0,Ta=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Nt.memoizedState=Te=e:Te=Te.next=e,Te}function Ae(){if(Jt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=Te===null?Nt.memoizedState:Te.next;if(i!==null)Te=i,Jt=e;else{if(e===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Te===null?Nt.memoizedState=Te=e:Te=Te.next=e}return Te}function af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var i=Go;return Go+=1,Ta===null&&(Ta=[]),e=Pg(Ta,e,i),i=Nt,(Te===null?i.memoizedState:Te.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?bp:Sp),e}function ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===ct)return Qe(e)}throw Error(s(438,String(e)))}function of(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=af(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=x;return i.index++,a}function Bi(e,i){return typeof i=="function"?i(e):i}function Uu(e){var i=Ae();return lf(i,Jt,e)}function lf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,S=null,j=i,Q=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(zt&X)===X:(_r&X)===X){var z=j.revertLane;if(z===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===ya&&(Q=!0);else if((_r&z)===z){j=j.next,z===ya&&(Q=!0);continue}else X={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},S===null?(E=S=X,v=d):S=S.next=X,Nt.lanes|=z,wr|=z;X=j.action,Rs&&a(d,X),d=j.hasEagerState?j.eagerState:a(d,X)}else z={lane:X,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},S===null?(E=S=z,v=d):S=S.next=z,Nt.lanes|=X,wr|=X;j=j.next}while(j!==null&&j!==i);if(S===null?v=d:S.next=E,!pn(d,e.memoizedState)&&(Ve=!0,Q&&(a=_a,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=S,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function uf(e){var i=Ae(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);pn(d,i.memoizedState)||(Ve=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Hg(e,i,a){var o=Nt,h=Ae(),d=Qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!pn((Jt||h).memoizedState,a);v&&(h.memoizedState=a,Ve=!0),h=h.queue;var E=Qg.bind(null,o,h,e);if(Ko(2048,8,E,[e]),h.getSnapshot!==i||v||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Aa(9,Lu(),Gg.bind(null,o,h,a,i),null),ne===null)throw Error(s(349));d||(_r&124)!==0||Fg(o,i,a)}return a}function Fg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=af(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Gg(e,i,a,o){i.value=a,i.getSnapshot=o,Kg(i)&&Yg(e)}function Qg(e,i,a){return a(function(){Kg(i)&&Yg(e)})}function Kg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function Yg(e){var i=da(e,2);i!==null&&An(i,e,2)}function cf(e){var i=an();if(typeof e=="function"){var a=e;if(e=a(),Rs){G(!0);try{a()}finally{G(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},i}function Xg(e,i,a,o){return e.baseState=a,lf(e,Jt,typeof o=="function"?o:Bi)}function XT(e,i,a,o,h){if(zu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};H.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,$g(i,d)):(d.next=a.next,i.pending=a.next=d)}}function $g(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=H.T,v={};H.T=v;try{var E=a(h,o),S=H.S;S!==null&&S(v,E),Zg(e,i,E)}catch(j){hf(e,i,j)}finally{H.T=d}}else try{d=a(h,o),Zg(e,i,d)}catch(j){hf(e,i,j)}}function Zg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Jg(e,i,o)},function(o){return hf(e,i,o)}):Jg(e,i,a)}function Jg(e,i,a){i.status="fulfilled",i.value=a,Wg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,$g(e,a)))}function hf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Wg(i),i=i.next;while(i!==o)}e.action=null}function Wg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function tp(e,i){return i}function ep(e,i){if(Qt){var a=ne.formState;if(a!==null){t:{var o=Nt;if(Qt){if(ce){e:{for(var h=ce,d=ci;h.nodeType!==8;){if(!d){h=null;break e}if(h=Qn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ce=Qn(h.nextSibling),o=h.data==="F!";break t}}As(o)}o=!1}o&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tp,lastRenderedState:i},a.queue=o,a=Ep.bind(null,Nt,o),o.dispatch=a,o=cf(!1),d=pf.bind(null,Nt,!1,o.queue),o=an(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=XT.bind(null,Nt,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function np(e){var i=Ae();return ip(i,Jt,e)}function ip(e,i,a){if(i=lf(e,i,tp)[0],e=Uu(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Qo(i)}catch(v){throw v===zo?xu:v}else o=i;i=Ae();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,Aa(9,Lu(),$T.bind(null,h,a),null)),[o,d,e]}function $T(e,i){e.action=i}function rp(e){var i=Ae(),a=Jt;if(a!==null)return ip(i,a,e);Ae(),i=i.memoizedState,a=Ae();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Aa(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=af(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Lu(){return{destroy:void 0,resource:void 0}}function sp(){return Ae().memoizedState}function ju(e,i,a,o){var h=an();o=o===void 0?null:o,Nt.flags|=e,h.memoizedState=Aa(1|i,Lu(),a,o)}function Ko(e,i,a,o){var h=Ae();o=o===void 0?null:o;var d=h.memoizedState.inst;Jt!==null&&o!==null&&tf(o,Jt.memoizedState.deps)?h.memoizedState=Aa(i,d,a,o):(Nt.flags|=e,h.memoizedState=Aa(1|i,d,a,o))}function ap(e,i){ju(8390656,8,e,i)}function op(e,i){Ko(2048,8,e,i)}function lp(e,i){return Ko(4,2,e,i)}function up(e,i){return Ko(4,4,e,i)}function cp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function hp(e,i,a){a=a!=null?a.concat([e]):null,Ko(4,4,cp.bind(null,i,e),a)}function ff(){}function fp(e,i){var a=Ae();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&tf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function dp(e,i){var a=Ae();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&tf(i,o[1]))return o[0];if(o=e(),Rs){G(!0);try{e()}finally{G(!1)}}return a.memoizedState=[o,i],o}function df(e,i,a){return a===void 0||(_r&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=py(),Nt.lanes|=e,wr|=e,a)}function mp(e,i,a,o){return pn(a,i)?a:va.current!==null?(e=df(e,a,o),pn(e,i)||(Ve=!0),e):(_r&42)===0?(Ve=!0,e.memoizedState=a):(e=py(),Nt.lanes|=e,wr|=e,i)}function gp(e,i,a,o,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var v=H.T,E={};H.T=E,pf(e,!1,i,a);try{var S=h(),j=H.S;if(j!==null&&j(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var Q=QT(S,o);Yo(e,i,Q,Tn(e))}else Yo(e,i,o,Tn(e))}catch(X){Yo(e,i,{then:function(){},status:"rejected",reason:X},Tn())}finally{rt.p=d,H.T=v}}function ZT(){}function mf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=pp(e).queue;gp(e,h,i,ut,a===null?ZT:function(){return yp(e),a(o)})}function pp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ut},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function yp(e){var i=pp(e).next.queue;Yo(e,i,{},Tn())}function gf(){return Qe(fl)}function _p(){return Ae().memoizedState}function vp(){return Ae().memoizedState}function JT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();e=pr(a);var o=yr(i,e,a);o!==null&&(An(o,i,a),qo(o,i,a)),i={cache:Fh()},e.payload=i;return}i=i.return}}function WT(e,i,a){var o=Tn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zu(e)?Tp(i,a):(a=Vh(e,i,a,o),a!==null&&(An(a,e,o),Ap(a,i,o)))}function Ep(e,i,a){var o=Tn();Yo(e,i,a,o)}function Yo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zu(e))Tp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,v))return bu(e,i,h,0),ne===null&&Au(),!1}catch{}finally{}if(a=Vh(e,i,h,o),a!==null)return An(a,e,o),Ap(a,i,o),!0}return!1}function pf(e,i,a,o){if(o={lane:2,revertLane:Yf(),action:o,hasEagerState:!1,eagerState:null,next:null},zu(e)){if(i)throw Error(s(479))}else i=Vh(e,a,o,2),i!==null&&An(i,e,2)}function zu(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function Tp(e,i){Ea=Vu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Ap(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,po(e,a)}}var Bu={readContext:Qe,use:ku,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},bp={readContext:Qe,use:ku,useCallback:function(e,i){return an().memoizedState=[e,i===void 0?null:i],e},useContext:Qe,useEffect:ap,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ju(4194308,4,cp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ju(4194308,4,e,i)},useInsertionEffect:function(e,i){ju(4,2,e,i)},useMemo:function(e,i){var a=an();i=i===void 0?null:i;var o=e();if(Rs){G(!0);try{e()}finally{G(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=an();if(a!==void 0){var h=a(i);if(Rs){G(!0);try{a(i)}finally{G(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=WT.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var i=an();return e={current:e},i.memoizedState=e},useState:function(e){e=cf(e);var i=e.queue,a=Ep.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:ff,useDeferredValue:function(e,i){var a=an();return df(a,e,i)},useTransition:function(){var e=cf(!1);return e=gp.bind(null,Nt,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Nt,h=an();if(Qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ne===null)throw Error(s(349));(zt&124)!==0||Fg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ap(Qg.bind(null,o,d,e),[e]),o.flags|=2048,Aa(9,Lu(),Gg.bind(null,o,d,a,i),null),a},useId:function(){var e=an(),i=ne.identifierPrefix;if(Qt){var a=Li,o=Ui;a=(o&~(1<<32-_t(o)-1)).toString(32)+a,i=""+i+"R"+a,a=Pu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=KT++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:gf,useFormState:ep,useActionState:ep,useOptimistic:function(e){var i=an();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=pf.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:of,useCacheRefresh:function(){return an().memoizedState=JT.bind(null,Nt)}},Sp={readContext:Qe,use:ku,useCallback:fp,useContext:Qe,useEffect:op,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:dp,useReducer:Uu,useRef:sp,useState:function(){return Uu(Bi)},useDebugValue:ff,useDeferredValue:function(e,i){var a=Ae();return mp(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Uu(Bi)[0],i=Ae().memoizedState;return[typeof e=="boolean"?e:Qo(e),i]},useSyncExternalStore:Hg,useId:_p,useHostTransitionStatus:gf,useFormState:np,useActionState:np,useOptimistic:function(e,i){var a=Ae();return Xg(a,Jt,e,i)},useMemoCache:of,useCacheRefresh:vp},tA={readContext:Qe,use:ku,useCallback:fp,useContext:Qe,useEffect:op,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:dp,useReducer:uf,useRef:sp,useState:function(){return uf(Bi)},useDebugValue:ff,useDeferredValue:function(e,i){var a=Ae();return Jt===null?df(a,e,i):mp(a,Jt.memoizedState,e,i)},useTransition:function(){var e=uf(Bi)[0],i=Ae().memoizedState;return[typeof e=="boolean"?e:Qo(e),i]},useSyncExternalStore:Hg,useId:_p,useHostTransitionStatus:gf,useFormState:rp,useActionState:rp,useOptimistic:function(e,i){var a=Ae();return Jt!==null?Xg(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:of,useCacheRefresh:vp},ba=null,Xo=0;function qu(e){var i=Xo;return Xo+=1,ba===null&&(ba=[]),Pg(ba,e,i)}function $o(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Hu(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function wp(e){var i=e._init;return i(e._payload)}function Rp(e){function i(k,N){if(e){var L=k.deletions;L===null?(k.deletions=[N],k.flags|=16):L.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)i(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=ki(k,N),k.index=0,k.sibling=null,k}function d(k,N,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<N?(k.flags|=67108866,N):L):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function v(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,L,Y){return N===null||N.tag!==6?(N=kh(L,k.mode,Y),N.return=k,N):(N=h(N,L),N.return=k,N)}function S(k,N,L,Y){var at=L.type;return at===Z?Q(k,N,L.props.children,Y,L.key):N!==null&&(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&wp(at)===N.type)?(N=h(N,L.props),$o(N,L),N.return=k,N):(N=wu(L.type,L.key,L.props,null,k.mode,Y),$o(N,L),N.return=k,N)}function j(k,N,L,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Uh(L,k.mode,Y),N.return=k,N):(N=h(N,L.children||[]),N.return=k,N)}function Q(k,N,L,Y,at){return N===null||N.tag!==7?(N=_s(L,k.mode,Y,at),N.return=k,N):(N=h(N,L),N.return=k,N)}function X(k,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=kh(""+N,k.mode,L),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case D:return L=wu(N.type,N.key,N.props,null,k.mode,L),$o(L,N),L.return=k,L;case F:return N=Uh(N,k.mode,L),N.return=k,N;case b:var Y=N._init;return N=Y(N._payload),X(k,N,L)}if(re(N)||M(N))return N=_s(N,k.mode,L,null),N.return=k,N;if(typeof N.then=="function")return X(k,qu(N),L);if(N.$$typeof===ct)return X(k,Du(k,N),L);Hu(k,N)}return null}function z(k,N,L,Y){var at=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return at!==null?null:E(k,N,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return L.key===at?S(k,N,L,Y):null;case F:return L.key===at?j(k,N,L,Y):null;case b:return at=L._init,L=at(L._payload),z(k,N,L,Y)}if(re(L)||M(L))return at!==null?null:Q(k,N,L,Y,null);if(typeof L.then=="function")return z(k,N,qu(L),Y);if(L.$$typeof===ct)return z(k,N,Du(k,L),Y);Hu(k,L)}return null}function B(k,N,L,Y,at){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(L)||null,E(N,k,""+Y,at);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return k=k.get(Y.key===null?L:Y.key)||null,S(N,k,Y,at);case F:return k=k.get(Y.key===null?L:Y.key)||null,j(N,k,Y,at);case b:var Ot=Y._init;return Y=Ot(Y._payload),B(k,N,L,Y,at)}if(re(Y)||M(Y))return k=k.get(L)||null,Q(N,k,Y,at,null);if(typeof Y.then=="function")return B(k,N,L,qu(Y),at);if(Y.$$typeof===ct)return B(k,N,L,Du(N,Y),at);Hu(N,Y)}return null}function At(k,N,L,Y){for(var at=null,Ot=null,ht=N,pt=N=0,ke=null;ht!==null&&pt<L.length;pt++){ht.index>pt?(ke=ht,ht=null):ke=ht.sibling;var Ft=z(k,ht,L[pt],Y);if(Ft===null){ht===null&&(ht=ke);break}e&&ht&&Ft.alternate===null&&i(k,ht),N=d(Ft,N,pt),Ot===null?at=Ft:Ot.sibling=Ft,Ot=Ft,ht=ke}if(pt===L.length)return a(k,ht),Qt&&Es(k,pt),at;if(ht===null){for(;pt<L.length;pt++)ht=X(k,L[pt],Y),ht!==null&&(N=d(ht,N,pt),Ot===null?at=ht:Ot.sibling=ht,Ot=ht);return Qt&&Es(k,pt),at}for(ht=o(ht);pt<L.length;pt++)ke=B(ht,k,pt,L[pt],Y),ke!==null&&(e&&ke.alternate!==null&&ht.delete(ke.key===null?pt:ke.key),N=d(ke,N,pt),Ot===null?at=ke:Ot.sibling=ke,Ot=ke);return e&&ht.forEach(function(Vr){return i(k,Vr)}),Qt&&Es(k,pt),at}function gt(k,N,L,Y){if(L==null)throw Error(s(151));for(var at=null,Ot=null,ht=N,pt=N=0,ke=null,Ft=L.next();ht!==null&&!Ft.done;pt++,Ft=L.next()){ht.index>pt?(ke=ht,ht=null):ke=ht.sibling;var Vr=z(k,ht,Ft.value,Y);if(Vr===null){ht===null&&(ht=ke);break}e&&ht&&Vr.alternate===null&&i(k,ht),N=d(Vr,N,pt),Ot===null?at=Vr:Ot.sibling=Vr,Ot=Vr,ht=ke}if(Ft.done)return a(k,ht),Qt&&Es(k,pt),at;if(ht===null){for(;!Ft.done;pt++,Ft=L.next())Ft=X(k,Ft.value,Y),Ft!==null&&(N=d(Ft,N,pt),Ot===null?at=Ft:Ot.sibling=Ft,Ot=Ft);return Qt&&Es(k,pt),at}for(ht=o(ht);!Ft.done;pt++,Ft=L.next())Ft=B(ht,k,pt,Ft.value,Y),Ft!==null&&(e&&Ft.alternate!==null&&ht.delete(Ft.key===null?pt:Ft.key),N=d(Ft,N,pt),Ot===null?at=Ft:Ot.sibling=Ft,Ot=Ft);return e&&ht.forEach(function(eb){return i(k,eb)}),Qt&&Es(k,pt),at}function te(k,N,L,Y){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case D:t:{for(var at=L.key;N!==null;){if(N.key===at){if(at=L.type,at===Z){if(N.tag===7){a(k,N.sibling),Y=h(N,L.props.children),Y.return=k,k=Y;break t}}else if(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&wp(at)===N.type){a(k,N.sibling),Y=h(N,L.props),$o(Y,L),Y.return=k,k=Y;break t}a(k,N);break}else i(k,N);N=N.sibling}L.type===Z?(Y=_s(L.props.children,k.mode,Y,L.key),Y.return=k,k=Y):(Y=wu(L.type,L.key,L.props,null,k.mode,Y),$o(Y,L),Y.return=k,k=Y)}return v(k);case F:t:{for(at=L.key;N!==null;){if(N.key===at)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(k,N.sibling),Y=h(N,L.children||[]),Y.return=k,k=Y;break t}else{a(k,N);break}else i(k,N);N=N.sibling}Y=Uh(L,k.mode,Y),Y.return=k,k=Y}return v(k);case b:return at=L._init,L=at(L._payload),te(k,N,L,Y)}if(re(L))return At(k,N,L,Y);if(M(L)){if(at=M(L),typeof at!="function")throw Error(s(150));return L=at.call(L),gt(k,N,L,Y)}if(typeof L.then=="function")return te(k,N,qu(L),Y);if(L.$$typeof===ct)return te(k,N,Du(k,L),Y);Hu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(k,N.sibling),Y=h(N,L),Y.return=k,k=Y):(a(k,N),Y=kh(L,k.mode,Y),Y.return=k,k=Y),v(k)):a(k,N)}return function(k,N,L,Y){try{Xo=0;var at=te(k,N,L,Y);return ba=null,at}catch(ht){if(ht===zo||ht===xu)throw ht;var Ot=yn(29,ht,null,k.mode);return Ot.lanes=Y,Ot.return=k,Ot}finally{}}}var Sa=Rp(!0),Ip=Rp(!1),Pn=K(null),hi=null;function vr(e){var i=e.alternate;W(De,De.current&1),W(Pn,e),hi===null&&(i===null||va.current!==null||i.memoizedState!==null)&&(hi=e)}function Cp(e){if(e.tag===22){if(W(De,De.current),W(Pn,e),hi===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(hi=e)}}else Er()}function Er(){W(De,De.current),W(Pn,Pn.current)}function qi(e){et(Pn),hi===e&&(hi=null),et(De)}var De=K(0);function Fu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ad(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function yf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var _f={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Tn(),h=pr(o);h.payload=i,a!=null&&(h.callback=a),i=yr(e,h,o),i!==null&&(An(i,e,o),qo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Tn(),h=pr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=yr(e,h,o),i!==null&&(An(i,e,o),qo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Tn(),o=pr(a);o.tag=2,i!=null&&(o.callback=i),i=yr(e,o,a),i!==null&&(An(i,e,a),qo(i,e,a))}};function Dp(e,i,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Oo(a,o)||!Oo(h,d):!0}function Np(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&_f.enqueueReplaceState(i,i.state,null)}function Is(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xp(e){Gu(e)}function Op(e){console.error(e)}function Mp(e){Gu(e)}function Qu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Vp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function vf(e,i,a){return a=pr(a),a.tag=3,a.payload={element:null},a.callback=function(){Qu(e,i)},a}function Pp(e){return e=pr(e),e.tag=3,e}function kp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){Vp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Vp(i,a,o),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function eA(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Uo(i,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return hi===null?Hf():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Kh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Gf(e,o,h)),!1;case 22:return a.flags|=65536,o===Kh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Gf(e,o,h)),!1}throw Error(s(435,a.tag))}return Gf(e,o,h),Hf(),!1}if(Qt)return i=Pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==zh&&(e=Error(s(422),{cause:o}),ko(xn(e,a)))):(o!==zh&&(i=Error(s(423),{cause:o}),ko(xn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=xn(o,a),h=vf(e.stateNode,o,h),$h(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:o});if(d=xn(d,a),il===null?il=[d]:il.push(d),he!==4&&(he=2),i===null)return!0;o=xn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=vf(a.stateNode,o,e),$h(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rr===null||!Rr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Pp(h),kp(h,e,a,o),$h(a,h),!1}a=a.return}while(a!==null);return!1}var Up=Error(s(461)),Ve=!1;function ze(e,i,a,o){i.child=e===null?Ip(i,null,a,o):Sa(i,e.child,a,o)}function Lp(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Ss(i),o=ef(e,i,a,v,d,h),E=nf(),e!==null&&!Ve?(rf(e,i,h),Hi(e,i,h)):(Qt&&E&&Lh(i),i.flags|=1,ze(e,i,o,h),i.child)}function jp(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!Ph(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,zp(e,i,d,o,h)):(e=wu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!If(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Oo,a(v,o)&&e.ref===i.ref)return Hi(e,i,h)}return i.flags|=1,e=ki(d,o),e.ref=i.ref,e.return=i,i.child=e}function zp(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Oo(d,o)&&e.ref===i.ref)if(Ve=!1,i.pendingProps=o=d,If(e,h))(e.flags&131072)!==0&&(Ve=!0);else return i.lanes=e.lanes,Hi(e,i,h)}return Ef(e,i,a,o,h)}function Bp(e,i,a){var o=i.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return qp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(i,d!==null?d.cachePool:null),d!==null?zg(i,d):Jh(),Cp(i);else return i.lanes=i.childLanes=536870912,qp(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Nu(i,d.cachePool),zg(i,d),Er(),i.memoizedState=null):(e!==null&&Nu(i,null),Jh(),Er());return ze(e,i,h,a),i.child}function qp(e,i,a,o){var h=Qh();return h=h===null?null:{parent:Ce._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Nu(i,null),Jh(),Cp(i),e!==null&&Uo(e,i,o,!0),null}function Ku(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Ef(e,i,a,o,h){return Ss(i),a=ef(e,i,a,o,void 0,h),o=nf(),e!==null&&!Ve?(rf(e,i,h),Hi(e,i,h)):(Qt&&o&&Lh(i),i.flags|=1,ze(e,i,a,h),i.child)}function Hp(e,i,a,o,h,d){return Ss(i),i.updateQueue=null,a=qg(i,o,a,h),Bg(e),o=nf(),e!==null&&!Ve?(rf(e,i,d),Hi(e,i,d)):(Qt&&o&&Lh(i),i.flags|=1,ze(e,i,a,d),i.child)}function Fp(e,i,a,o,h){if(Ss(i),i.stateNode===null){var d=ma,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qe(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_f,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Yh(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qe(v):ma,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(yf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&_f.enqueueReplaceState(d,d.state,null),Fo(i,o,d,h),Ho(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,S=Is(a,E);d.props=S;var j=d.context,Q=a.contextType;v=ma,typeof Q=="object"&&Q!==null&&(v=Qe(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||j!==v)&&Np(i,d,o,v),gr=!1;var z=i.memoizedState;d.state=z,Fo(i,o,d,h),Ho(),j=i.memoizedState,E||z!==j||gr?(typeof X=="function"&&(yf(i,a,X,o),j=i.memoizedState),(S=gr||Dp(i,a,S,o,z,j,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),d.props=o,d.state=j,d.context=v,o=S):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Xh(e,i),v=i.memoizedProps,Q=Is(a,v),d.props=Q,X=i.pendingProps,z=d.context,j=a.contextType,S=ma,typeof j=="object"&&j!==null&&(S=Qe(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||z!==S)&&Np(i,d,o,S),gr=!1,z=i.memoizedState,d.state=z,Fo(i,o,d,h),Ho();var B=i.memoizedState;v!==X||z!==B||gr||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof E=="function"&&(yf(i,a,E,o),B=i.memoizedState),(Q=gr||Dp(i,a,Q,o,z,B,S)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,B,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,B,S)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),d.props=o,d.state=B,d.context=S,o=Q):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,Ku(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=Sa(i,e.child,null,h),i.child=Sa(i,null,a,h)):ze(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Hi(e,i,h),e}function Gp(e,i,a,o){return Po(),i.flags|=256,ze(e,i,a,o),i.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(e){return{baseLanes:e,cachePool:Og()}}function bf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=kn),e}function Qp(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Qt){if(h?vr(i):Er(),Qt){var E=ce,S;if(S=E){t:{for(S=E,E=ci;S.nodeType!==8;){if(!E){E=null;break t}if(S=Qn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(i.memoizedState={dehydrated:E,treeContext:vs!==null?{id:Ui,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},S=yn(18,null,null,0),S.stateNode=E,S.return=i,i.child=S,nn=i,ce=null,S=!0):S=!1}S||As(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ad(E)?i.lanes=32:i.lanes=536870912,null;qi(i)}return E=o.children,o=o.fallback,h?(Er(),h=i.mode,E=Yu({mode:"hidden",children:E},h),o=_s(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=Af(a),h.childLanes=bf(e,v,a),i.memoizedState=Tf,o):(vr(i),Sf(i,E))}if(S=e.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(d)i.flags&256?(vr(i),i.flags&=-257,i=wf(e,i,a)):i.memoizedState!==null?(Er(),i.child=e.child,i.flags|=128,i=null):(Er(),h=o.fallback,E=i.mode,o=Yu({mode:"visible",children:o.children},E),h=_s(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,Sa(i,e.child,null,a),o=i.child,o.memoizedState=Af(a),o.childLanes=bf(e,v,a),i.memoizedState=Tf,i=h);else if(vr(i),ad(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var j=v.dgst;v=j,o=Error(s(419)),o.stack="",o.digest=v,ko({value:o,source:null,stack:null}),i=wf(e,i,a)}else if(Ve||Uo(e,i,a,!1),v=(a&e.childLanes)!==0,Ve||v){if(v=ne,v!==null&&(o=a&-a,o=(o&42)!==0?1:or(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==S.retryLane))throw S.retryLane=o,da(e,o),An(v,e,o),Up;E.data==="$?"||Hf(),i=wf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=S.treeContext,ce=Qn(E.nextSibling),nn=i,Qt=!0,Ts=null,ci=!1,e!==null&&(Mn[Vn++]=Ui,Mn[Vn++]=Li,Mn[Vn++]=vs,Ui=e.id,Li=e.overflow,vs=i),i=Sf(i,o.children),i.flags|=4096);return i}return h?(Er(),h=o.fallback,E=i.mode,S=e.child,j=S.sibling,o=ki(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&65011712,j!==null?h=ki(j,h):(h=_s(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=Af(a):(S=E.cachePool,S!==null?(j=Ce._currentValue,S=S.parent!==j?{parent:j,pool:j}:S):S=Og(),E={baseLanes:E.baseLanes|a,cachePool:S}),h.memoizedState=E,h.childLanes=bf(e,v,a),i.memoizedState=Tf,o):(vr(i),a=e.child,e=a.sibling,a=ki(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Sf(e,i){return i=Yu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Yu(e,i){return e=yn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function wf(e,i,a){return Sa(i,e.child,null,a),e=Sf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Kp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),qh(e.return,i,a)}function Rf(e,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Yp(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(ze(e,i,o.children,a),o=De.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kp(e,a,i);else if(e.tag===19)Kp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(W(De,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Fu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Rf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Rf(i,!0,a,null,d);break;case"together":Rf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Hi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),wr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Uo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=ki(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ki(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function If(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function nA(e,i,a){switch(i.tag){case 3:Ht(i,i.stateNode.containerInfo),mr(i,Ce,e.memoizedState.cache),Po();break;case 27:case 5:fn(i);break;case 4:Ht(i,i.stateNode.containerInfo);break;case 10:mr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Qp(e,i,a):(vr(i),e=Hi(e,i,a),e!==null?e.sibling:null);vr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Uo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Yp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(De,De.current),o)break;return null;case 22:case 23:return i.lanes=0,Bp(e,i,a);case 24:mr(i,Ce,e.memoizedState.cache)}return Hi(e,i,a)}function Xp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ve=!0;else{if(!If(e,a)&&(i.flags&128)===0)return Ve=!1,nA(e,i,a);Ve=(e.flags&131072)!==0}else Ve=!1,Qt&&(i.flags&1048576)!==0&&wg(i,Iu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Ph(o)?(e=Is(o,e),i.tag=1,i=Fp(null,i,o,e,a)):(i.tag=0,i=Ef(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Mt){i.tag=11,i=Lp(null,i,o,e,a);break t}else if(h===O){i.tag=14,i=jp(null,i,o,e,a);break t}}throw i=qt(o)||o,Error(s(306,i,""))}}return i;case 0:return Ef(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Is(o,i.pendingProps),Fp(e,i,o,h,a);case 3:t:{if(Ht(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Xh(e,i),Fo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,mr(i,Ce,o),o!==d.cache&&Hh(i,[Ce],a,!0),Ho(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Gp(e,i,o,a);break t}else if(o!==h){h=xn(Error(s(424)),i),ko(h),i=Gp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=Qn(e.firstChild),nn=i,Qt=!0,Ts=null,ci=!0,a=Ip(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Po(),o===h){i=Hi(e,i,a);break t}ze(e,i,o,a)}i=i.child}return i;case 26:return Ku(e,i),e===null?(a=Wy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qt||(a=i.type,e=i.pendingProps,o=lc(mt.current).createElement(a),o[we]=i,o[ve]=e,qe(o,a,e),me(o),i.stateNode=o):i.memoizedState=Wy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return fn(i),e===null&&Qt&&(o=i.stateNode=$y(i.type,i.pendingProps,mt.current),nn=i,ci=!0,h=ce,Dr(i.type)?(od=h,ce=Qn(o.firstChild)):ce=h),ze(e,i,i.pendingProps.children,a),Ku(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Qt&&((h=o=ce)&&(o=NA(o,i.type,i.pendingProps,ci),o!==null?(i.stateNode=o,nn=i,ce=Qn(o.firstChild),ci=!1,h=!0):h=!1),h||As(i)),fn(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,id(h,d)?o=null:v!==null&&id(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=ef(e,i,YT,null,null,a),fl._currentValue=h),Ku(e,i),ze(e,i,o,a),i.child;case 6:return e===null&&Qt&&((e=a=ce)&&(a=xA(a,i.pendingProps,ci),a!==null?(i.stateNode=a,nn=i,ce=null,e=!0):e=!1),e||As(i)),null;case 13:return Qp(e,i,a);case 4:return Ht(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Sa(i,null,o,a):ze(e,i,o,a),i.child;case 11:return Lp(e,i,i.type,i.pendingProps,a);case 7:return ze(e,i,i.pendingProps,a),i.child;case 8:return ze(e,i,i.pendingProps.children,a),i.child;case 12:return ze(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,mr(i,i.type,o.value),ze(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ss(i),h=Qe(h),o=o(h),i.flags|=1,ze(e,i,o,a),i.child;case 14:return jp(e,i,i.type,i.pendingProps,a);case 15:return zp(e,i,i.type,i.pendingProps,a);case 19:return Yp(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Yu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ki(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Bp(e,i,a);case 24:return Ss(i),o=Qe(Ce),e===null?(h=Qh(),h===null&&(h=ne,d=Fh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Yh(i),mr(i,Ce,h)):((e.lanes&a)!==0&&(Xh(e,i),Fo(i,null,null,a),Ho()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),mr(i,Ce,o)):(o=d.cache,mr(i,Ce,o),o!==h.cache&&Hh(i,[Ce],a,!0))),ze(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Fi(e){e.flags|=4}function $p(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!r_(i)){if(i=Pn.current,i!==null&&((zt&4194048)===zt?hi!==null:(zt&62914560)!==zt&&(zt&536870912)===0||i!==hi))throw Bo=Kh,Mg;e.flags|=8192}}function Xu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?mo():536870912,e.lanes|=i,Ca|=i)}function Zo(e,i){if(!Qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function le(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function iA(e,i,a){var o=i.pendingProps;switch(jh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(i),null;case 1:return le(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),zi(Ce),hn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vo(i)?Fi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cg())),le(i),null;case 26:return a=i.memoizedState,e===null?(Fi(i),a!==null?(le(i),$p(i,a)):(le(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Fi(i),le(i),$p(i,a)):(le(i),i.flags&=-16777217):(e.memoizedProps!==o&&Fi(i),le(i),i.flags&=-16777217),null;case 27:zn(i),a=mt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Fi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return le(i),null}e=ft.current,Vo(i)?Rg(i):(e=$y(h,o,a),i.stateNode=e,Fi(i))}return le(i),null;case 5:if(zn(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Fi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return le(i),null}if(e=ft.current,Vo(i))Rg(i);else{switch(h=lc(mt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[we]=i,e[ve]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(qe(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Fi(i)}}return le(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Fi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=mt.current,Vo(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[we]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Hy(e.nodeValue,a)),e||As(i)}else e=lc(e).createTextNode(o),e[we]=i,i.stateNode=e}return le(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Vo(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[we]=i}else Po(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;le(i),h=!1}else h=Cg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(qi(i),i):(qi(i),null)}if(qi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Xu(i,i.updateQueue),le(i),null;case 4:return hn(),e===null&&Jf(i.stateNode.containerInfo),le(i),null;case 10:return zi(i.type),le(i),null;case 19:if(et(De),h=i.memoizedState,h===null)return le(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)Zo(h,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Fu(e),d!==null){for(i.flags|=128,Zo(h,!1),e=d.updateQueue,i.updateQueue=e,Xu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Sg(a,e),a=a.sibling;return W(De,De.current&1|2),i.child}e=e.sibling}h.tail!==null&&rn()>Ju&&(i.flags|=128,o=!0,Zo(h,!1),i.lanes=4194304)}else{if(!o)if(e=Fu(d),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Xu(i,e),Zo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Qt)return le(i),null}else 2*rn()-h.renderingStartTime>Ju&&a!==536870912&&(i.flags|=128,o=!0,Zo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=rn(),i.sibling=null,e=De.current,W(De,o?e&1|2:e&1),i):(le(i),null);case 22:case 23:return qi(i),Wh(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(le(i),i.subtreeFlags&6&&(i.flags|=8192)):le(i),a=i.updateQueue,a!==null&&Xu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&et(ws),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),zi(Ce),le(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function rA(e,i){switch(jh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zi(Ce),hn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return zn(i),null;case 13:if(qi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Po()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return et(De),null;case 4:return hn(),null;case 10:return zi(i.type),null;case 22:case 23:return qi(i),Wh(),e!==null&&et(ws),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return zi(Ce),null;case 25:return null;default:return null}}function Zp(e,i){switch(jh(i),i.tag){case 3:zi(Ce),hn();break;case 26:case 27:case 5:zn(i);break;case 4:hn();break;case 13:qi(i);break;case 19:et(De);break;case 10:zi(i.type);break;case 22:case 23:qi(i),Wh(),e!==null&&et(ws);break;case 24:zi(Ce)}}function Jo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){ee(i,i.return,E)}}function Tr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var S=a,j=E;try{j()}catch(Q){ee(h,S,Q)}}}o=o.next}while(o!==d)}}catch(Q){ee(i,i.return,Q)}}function Jp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{jg(i,a)}catch(o){ee(e,e.return,o)}}}function Wp(e,i,a){a.props=Is(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ee(e,i,o)}}function Wo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){ee(e,i,h)}}function fi(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ee(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ee(e,i,h)}else a.current=null}function ty(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ee(e,e.return,h)}}function Cf(e,i,a){try{var o=e.stateNode;wA(o,e.type,a,i),o[ve]=i}catch(h){ee(e,e.return,h)}}function ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function Df(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=oc));else if(o!==4&&(o===27&&Dr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Nf(e,i,a),e=e.sibling;e!==null;)Nf(e,i,a),e=e.sibling}function $u(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Dr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for($u(e,i,a),e=e.sibling;e!==null;)$u(e,i,a),e=e.sibling}function ny(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qe(i,o,a),i[we]=e,i[ve]=a}catch(d){ee(e,e.return,d)}}var Gi=!1,pe=!1,xf=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function sA(e,i){if(e=e.containerInfo,ed=mc,e=mg(e),Ch(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,S=-1,j=0,Q=0,X=e,z=null;e:for(;;){for(var B;X!==a||h!==0&&X.nodeType!==3||(E=v+h),X!==d||o!==0&&X.nodeType!==3||(S=v+o),X.nodeType===3&&(v+=X.nodeValue.length),(B=X.firstChild)!==null;)z=X,X=B;for(;;){if(X===e)break e;if(z===a&&++j===h&&(E=v),z===d&&++Q===o&&(S=v),(B=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=B}a=E===-1||S===-1?null:{start:E,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(nd={focusedElem:e,selectionRange:a},mc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var At=Is(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(At,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){ee(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)sd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}}function ry(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ar(e,a),o&4&&Jo(5,a);break;case 1:if(Ar(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){ee(a,a.return,v)}else{var h=Is(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ee(a,a.return,v)}}o&64&&Jp(a),o&512&&Wo(a,a.return);break;case 3:if(Ar(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{jg(e,i)}catch(v){ee(a,a.return,v)}}break;case 27:i===null&&o&4&&ny(a);case 26:case 5:Ar(e,a),i===null&&o&4&&ty(a),o&512&&Wo(a,a.return);break;case 12:Ar(e,a);break;case 13:Ar(e,a),o&4&&oy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=mA.bind(null,a),OA(e,a))));break;case 22:if(o=a.memoizedState!==null||Gi,!o){i=i!==null&&i.memoizedState!==null||pe,h=Gi;var d=pe;Gi=o,(pe=i)&&!d?br(e,a,(a.subtreeFlags&8772)!==0):Ar(e,a),Gi=h,pe=d}break;case 30:break;default:Ar(e,a)}}function sy(e){var i=e.alternate;i!==null&&(e.alternate=null,sy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&cr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,on=!1;function Qi(e,i,a){for(a=a.child;a!==null;)ay(e,i,a),a=a.sibling}function ay(e,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:pe||fi(a,i),Qi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pe||fi(a,i);var o=oe,h=on;Dr(a.type)&&(oe=a.stateNode,on=!1),Qi(e,i,a),ll(a.stateNode),oe=o,on=h;break;case 5:pe||fi(a,i);case 6:if(o=oe,h=on,oe=null,Qi(e,i,a),oe=o,on=h,oe!==null)if(on)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){ee(a,i,d)}else try{oe.removeChild(a.stateNode)}catch(d){ee(a,i,d)}break;case 18:oe!==null&&(on?(e=oe,Yy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),pl(e)):Yy(oe,a.stateNode));break;case 4:o=oe,h=on,oe=a.stateNode.containerInfo,on=!0,Qi(e,i,a),oe=o,on=h;break;case 0:case 11:case 14:case 15:pe||Tr(2,a,i),pe||Tr(4,a,i),Qi(e,i,a);break;case 1:pe||(fi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Wp(a,i,o)),Qi(e,i,a);break;case 21:Qi(e,i,a);break;case 22:pe=(o=pe)||a.memoizedState!==null,Qi(e,i,a),pe=o;break;default:Qi(e,i,a)}}function oy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{pl(e)}catch(a){ee(i,i.return,a)}}function aA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new iy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new iy),i;default:throw Error(s(435,e.tag))}}function Of(e,i){var a=aA(e);i.forEach(function(o){var h=gA.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function _n(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Dr(E.type)){oe=E.stateNode,on=!1;break t}break;case 5:oe=E.stateNode,on=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(oe===null)throw Error(s(160));ay(d,v,h),oe=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ly(i,e),i=i.sibling}var Gn=null;function ly(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(i,e),vn(e),o&4&&(Tr(3,e,e.return),Jo(3,e),Tr(5,e,e.return));break;case 1:_n(i,e),vn(e),o&512&&(pe||a===null||fi(a,a.return)),o&64&&Gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Gn;if(_n(i,e),vn(e),o&512&&(pe||a===null||fi(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ns]||d[we]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),qe(d,o,a),d[we]=e,me(d),o=d;break t;case"link":var v=n_("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(o),qe(d,o,a),h.head.appendChild(d);break;case"meta":if(v=n_("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(o),qe(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[we]=e,me(d),o=d}e.stateNode=o}else i_(h,e.type,e.stateNode);else e.stateNode=e_(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?i_(h,e.type,e.stateNode):e_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Cf(e,e.memoizedProps,a.memoizedProps)}break;case 27:_n(i,e),vn(e),o&512&&(pe||a===null||fi(a,a.return)),a!==null&&o&4&&Cf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_n(i,e),vn(e),o&512&&(pe||a===null||fi(a,a.return)),e.flags&32){h=e.stateNode;try{In(h,"")}catch(B){ee(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Cf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(xf=!0);break;case 6:if(_n(i,e),vn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){ee(e,e.return,B)}}break;case 3:if(hc=null,h=Gn,Gn=uc(i.containerInfo),_n(i,e),Gn=h,vn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{pl(i.containerInfo)}catch(B){ee(e,e.return,B)}xf&&(xf=!1,uy(e));break;case 4:o=Gn,Gn=uc(e.stateNode.containerInfo),_n(i,e),vn(e),Gn=o;break;case 12:_n(i,e),vn(e);break;case 13:_n(i,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lf=rn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Of(e,o)));break;case 22:h=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,j=Gi,Q=pe;if(Gi=j||h,pe=Q||S,_n(i,e),pe=Q,Gi=j,vn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||S||Gi||pe||Cs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){S=a=i;try{if(d=S.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=S.stateNode;var X=S.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){ee(S,S.return,B)}}}else if(i.tag===6){if(a===null){S=i;try{S.stateNode.nodeValue=h?"":S.memoizedProps}catch(B){ee(S,S.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Of(e,a))));break;case 19:_n(i,e),vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Of(e,o)));break;case 30:break;case 21:break;default:_n(i,e),vn(e)}}function vn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(ey(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Df(e);$u(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(In(v,""),a.flags&=-33);var E=Df(e);$u(e,E,v);break;case 3:case 4:var S=a.stateNode.containerInfo,j=Df(e);Nf(e,j,S);break;default:throw Error(s(161))}}catch(Q){ee(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;uy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ar(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ry(e,i.alternate,i),i=i.sibling}function Cs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Tr(4,i,i.return),Cs(i);break;case 1:fi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Wp(i,i.return,a),Cs(i);break;case 27:ll(i.stateNode);case 26:case 5:fi(i,i.return),Cs(i);break;case 22:i.memoizedState===null&&Cs(i);break;case 30:Cs(i);break;default:Cs(i)}e=e.sibling}}function br(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:br(h,d,a),Jo(4,d);break;case 1:if(br(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ee(o,o.return,j)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var S=h.shared.hiddenCallbacks;if(S!==null)for(h.shared.hiddenCallbacks=null,h=0;h<S.length;h++)Lg(S[h],E)}catch(j){ee(o,o.return,j)}}a&&v&64&&Jp(d),Wo(d,d.return);break;case 27:ny(d);case 26:case 5:br(h,d,a),a&&o===null&&v&4&&ty(d),Wo(d,d.return);break;case 12:br(h,d,a);break;case 13:br(h,d,a),a&&v&4&&oy(h,d);break;case 22:d.memoizedState===null&&br(h,d,a),Wo(d,d.return);break;case 30:break;default:br(h,d,a)}i=i.sibling}}function Mf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Lo(a))}function Vf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e))}function di(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cy(e,i,a,o),i=i.sibling}function cy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:di(e,i,a,o),h&2048&&Jo(9,i);break;case 1:di(e,i,a,o);break;case 3:di(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){di(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){ee(i,i.return,S)}}else di(e,i,a,o);break;case 13:di(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?di(e,i,a,o):tl(e,i):d._visibility&2?di(e,i,a,o):(d._visibility|=2,wa(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Mf(v,i);break;case 24:di(e,i,a,o),h&2048&&Vf(i.alternate,i);break;default:di(e,i,a,o)}}function wa(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,S=o,j=v.flags;switch(v.tag){case 0:case 11:case 15:wa(d,v,E,S,h),Jo(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?wa(d,v,E,S,h):tl(d,v):(Q._visibility|=2,wa(d,v,E,S,h)),h&&j&2048&&Mf(v.alternate,v);break;case 24:wa(d,v,E,S,h),h&&j&2048&&Vf(v.alternate,v);break;default:wa(d,v,E,S,h)}i=i.sibling}}function tl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:tl(a,o),h&2048&&Mf(o.alternate,o);break;case 24:tl(a,o),h&2048&&Vf(o.alternate,o);break;default:tl(a,o)}i=i.sibling}}var el=8192;function Ra(e){if(e.subtreeFlags&el)for(e=e.child;e!==null;)hy(e),e=e.sibling}function hy(e){switch(e.tag){case 26:Ra(e),e.flags&el&&e.memoizedState!==null&&GA(Gn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e);break;case 3:case 4:var i=Gn;Gn=uc(e.stateNode.containerInfo),Ra(e),Gn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=el,el=16777216,Ra(e),el=i):Ra(e));break;default:Ra(e)}}function fy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function nl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Pe=o,my(o,e)}fy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dy(e),e=e.sibling}function dy(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Zu(e)):nl(e);break;default:nl(e)}}function Zu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Pe=o,my(o,e)}fy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Tr(8,i,i.return),Zu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Zu(i));break;default:Zu(i)}e=e.sibling}}function my(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Tr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pe=o;else t:for(a=e;Pe!==null;){o=Pe;var h=o.sibling,d=o.return;if(sy(o),o===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var oA={getCacheForType:function(e){var i=Qe(Ce),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},lA=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ne=null,Vt=null,zt=0,$t=0,En=null,Sr=!1,Ia=!1,Pf=!1,Ki=0,he=0,wr=0,Ds=0,kf=0,kn=0,Ca=0,il=null,ln=null,Uf=!1,Lf=0,Ju=1/0,Wu=null,Rr=null,Be=0,Ir=null,Da=null,Na=0,jf=0,zf=null,gy=null,rl=0,Bf=null;function Tn(){if((Xt&2)!==0&&zt!==0)return zt&-zt;if(H.T!==null){var e=ya;return e!==0?e:Yf()}return lr()}function py(){kn===0&&(kn=(zt&536870912)===0||Qt?fo():536870912);var e=Pn.current;return e!==null&&(e.flags|=32),kn}function An(e,i,a){(e===ne&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Cr(e,zt,kn,!1)),wi(e,a),((Xt&2)===0||e!==ne)&&(e===ne&&((Xt&2)===0&&(Ds|=a),he===4&&Cr(e,zt,kn,!1)),mi(e))}function yy(e,i,a){if((Xt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Jn(e,i),h=o?hA(e,i):Ff(e,i,!0),d=o;do{if(h===0){Ia&&!o&&Cr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!uA(a)){h=Ff(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=il;var S=E.current.memoizedState.isDehydrated;if(S&&(xa(E,v).flags|=256),v=Ff(E,v,!1),v!==2){if(Pf&&!S){E.errorRecoveryDisabledLanes|=d,Ds|=d,h=4;break t}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){xa(e,0),Cr(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Cr(o,i,kn,!Sr);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Lf+300-rn(),10<h)){if(Cr(o,i,kn,!Sr),bi(o,0,!0)!==0)break t;o.timeoutHandle=Qy(_y.bind(null,o,a,ln,Wu,Uf,i,kn,Ds,Ca,Sr,d,2,-0,0),h);break t}_y(o,a,ln,Wu,Uf,i,kn,Ds,Ca,Sr,d,0,-0,0)}}break}while(!0);mi(e)}function _y(e,i,a,o,h,d,v,E,S,j,Q,X,z,B){if(e.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(hl={stylesheets:null,count:0,unsuspend:FA},hy(i),X=QA(),X!==null)){e.cancelPendingCommit=X(wy.bind(null,e,i,d,a,o,h,v,E,S,Q,1,z,B)),Cr(e,d,v,!j);return}wy(e,i,d,a,o,h,v,E,S)}function uA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Cr(e,i,a,o){i&=~kf,i&=~Ds,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-_t(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&Wn(e,a,i)}function tc(){return(Xt&6)===0?(sl(0),!1):!0}function qf(){if(Vt!==null){if($t===0)var e=Vt.return;else e=Vt,ji=bs=null,sf(e),ba=null,Xo=0,e=Vt;for(;e!==null;)Zp(e.alternate,e),e=e.return;Vt=null}}function xa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,IA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),qf(),ne=e,Vt=a=ki(e.current,null),zt=i,$t=0,En=null,Sr=!1,Ia=Jn(e,i),Pf=!1,Ca=kn=kf=Ds=wr=he=0,ln=il=null,Uf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-_t(o),d=1<<h;i|=e[h],o&=~d}return Ki=i,Au(),a}function vy(e,i){Nt=null,H.H=Bu,i===zo||i===xu?(i=kg(),$t=3):i===Mg?(i=kg(),$t=4):$t=i===Up?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Vt===null&&(he=1,Qu(e,xn(i,e.current)))}function Ey(){var e=H.H;return H.H=Bu,e===null?Bu:e}function Ty(){var e=H.A;return H.A=oA,e}function Hf(){he=4,Sr||(zt&4194048)!==zt&&Pn.current!==null||(Ia=!0),(wr&134217727)===0&&(Ds&134217727)===0||ne===null||Cr(ne,zt,kn,!1)}function Ff(e,i,a){var o=Xt;Xt|=2;var h=Ey(),d=Ty();(ne!==e||zt!==i)&&(Wu=null,xa(e,i)),i=!1;var v=he;t:do try{if($t!==0&&Vt!==null){var E=Vt,S=En;switch($t){case 8:qf(),v=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(i=!0);var j=$t;if($t=0,En=null,Oa(e,E,S,j),a&&Ia){v=0;break t}break;default:j=$t,$t=0,En=null,Oa(e,E,S,j)}}cA(),v=he;break}catch(Q){vy(e,Q)}while(!0);return i&&e.shellSuspendCounter++,ji=bs=null,Xt=o,H.H=h,H.A=d,Vt===null&&(ne=null,zt=0,Au()),v}function cA(){for(;Vt!==null;)Ay(Vt)}function hA(e,i){var a=Xt;Xt|=2;var o=Ey(),h=Ty();ne!==e||zt!==i?(Wu=null,Ju=rn()+500,xa(e,i)):Ia=Jn(e,i);t:do try{if($t!==0&&Vt!==null){i=Vt;var d=En;e:switch($t){case 1:$t=0,En=null,Oa(e,i,d,1);break;case 2:case 9:if(Vg(d)){$t=0,En=null,by(i);break}i=function(){$t!==2&&$t!==9||ne!==e||($t=7),mi(e)},d.then(i,i);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Vg(d)?($t=0,En=null,by(i)):($t=0,En=null,Oa(e,i,d,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var E=Vt;if(!v||r_(v)){$t=0,En=null;var S=E.sibling;if(S!==null)Vt=S;else{var j=E.return;j!==null?(Vt=j,ec(j)):Vt=null}break e}}$t=0,En=null,Oa(e,i,d,5);break;case 6:$t=0,En=null,Oa(e,i,d,6);break;case 8:qf(),he=6;break t;default:throw Error(s(462))}}fA();break}catch(Q){vy(e,Q)}while(!0);return ji=bs=null,H.H=o,H.A=h,Xt=a,Vt!==null?0:(ne=null,zt=0,Au(),he)}function fA(){for(;Vt!==null&&!dn();)Ay(Vt)}function Ay(e){var i=Xp(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,i===null?ec(e):Vt=i}function by(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Hp(a,i,i.pendingProps,i.type,void 0,zt);break;case 11:i=Hp(a,i,i.pendingProps,i.type.render,i.ref,zt);break;case 5:sf(i);default:Zp(a,i),i=Vt=Sg(i,Ki),i=Xp(a,i,Ki)}e.memoizedProps=e.pendingProps,i===null?ec(e):Vt=i}function Oa(e,i,a,o){ji=bs=null,sf(i),ba=null,Xo=0;var h=i.return;try{if(eA(e,h,i,a,zt)){he=1,Qu(e,xn(a,e.current)),Vt=null;return}}catch(d){if(h!==null)throw Vt=h,d;he=1,Qu(e,xn(a,e.current)),Vt=null;return}i.flags&32768?(Qt||o===1?e=!0:Ia||(zt&536870912)!==0?e=!1:(Sr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Sy(i,e)):ec(i)}function ec(e){var i=e;do{if((i.flags&32768)!==0){Sy(i,Sr);return}e=i.return;var a=iA(i.alternate,i,Ki);if(a!==null){Vt=a;return}if(i=i.sibling,i!==null){Vt=i;return}Vt=i=e}while(i!==null);he===0&&(he=5)}function Sy(e,i){do{var a=rA(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);he=6,Vt=null}function wy(e,i,a,o,h,d,v,E,S){e.cancelPendingCommit=null;do nc();while(Be!==0);if((Xt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Mh,go(e,a,d,v,E,S),e===ne&&(Vt=ne=null,zt=0),Da=i,Ir=e,Na=a,jf=d,zf=h,gy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pA(Ai,function(){return Ny(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=rt.p,rt.p=2,v=Xt,Xt|=4;try{sA(e,i,a)}finally{Xt=v,rt.p=h,H.T=o}}Be=1,Ry(),Iy(),Cy()}}function Ry(){if(Be===1){Be=0;var e=Ir,i=Da,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=rt.p;rt.p=2;var h=Xt;Xt|=4;try{ly(i,e);var d=nd,v=mg(e.containerInfo),E=d.focusedElem,S=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&dg(E.ownerDocument.documentElement,E)){if(S!==null&&Ch(E)){var j=S.start,Q=S.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var B=z.getSelection(),At=E.textContent.length,gt=Math.min(S.start,At),te=S.end===void 0?gt:Math.min(S.end,At);!B.extend&&gt>te&&(v=te,te=gt,gt=v);var k=fg(E,gt),N=fg(E,te);if(k&&N&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var L=X.createRange();L.setStart(k.node,k.offset),B.removeAllRanges(),gt>te?(B.addRange(L),B.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),B.addRange(L))}}}}for(X=[],B=E;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}mc=!!ed,nd=ed=null}finally{Xt=h,rt.p=o,H.T=a}}e.current=i,Be=2}}function Iy(){if(Be===2){Be=0;var e=Ir,i=Da,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=rt.p;rt.p=2;var h=Xt;Xt|=4;try{ry(e,i.alternate,i)}finally{Xt=h,rt.p=o,H.T=a}}Be=3}}function Cy(){if(Be===4||Be===3){Be=0,Qs();var e=Ir,i=Da,a=Na,o=gy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Be=5:(Be=0,Da=Ir=null,Dy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rr=null),Xs(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(se,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=rt.p,rt.p=2,H.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];d(E.value,{componentStack:E.stack})}}finally{H.T=i,rt.p=h}}(Na&3)!==0&&nc(),mi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Bf?rl++:(rl=0,Bf=e):rl=0,sl(0)}}function Dy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Lo(i)))}function nc(e){return Ry(),Iy(),Cy(),Ny()}function Ny(){if(Be!==5)return!1;var e=Ir,i=jf;jf=0;var a=Xs(Na),o=H.T,h=rt.p;try{rt.p=32>a?32:a,H.T=null,a=zf,zf=null;var d=Ir,v=Na;if(Be=0,Da=Ir=null,Na=0,(Xt&6)!==0)throw Error(s(331));var E=Xt;if(Xt|=4,dy(d.current),cy(d,d.current,v,a),Xt=E,sl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(se,d)}catch{}return!0}finally{rt.p=h,H.T=o,Dy(e,i)}}function xy(e,i,a){i=xn(a,i),i=vf(e.stateNode,i,2),e=yr(e,i,2),e!==null&&(wi(e,2),mi(e))}function ee(e,i,a){if(e.tag===3)xy(e,e,a);else for(;i!==null;){if(i.tag===3){xy(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){e=xn(a,e),a=Pp(2),o=yr(i,a,2),o!==null&&(kp(a,o,i,e),wi(o,2),mi(o));break}}i=i.return}}function Gf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new lA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Pf=!0,h.add(a),e=dA.bind(null,e,i,a),i.then(e,e))}function dA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(zt&a)===a&&(he===4||he===3&&(zt&62914560)===zt&&300>rn()-Lf?(Xt&2)===0&&xa(e,0):kf|=a,Ca===zt&&(Ca=0)),mi(e)}function Oy(e,i){i===0&&(i=mo()),e=da(e,i),e!==null&&(wi(e,i),mi(e))}function mA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Oy(e,a)}function gA(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Oy(e,a)}function pA(e,i){return Ei(e,i)}var ic=null,Ma=null,Qf=!1,rc=!1,Kf=!1,Ns=0;function mi(e){e!==Ma&&e.next===null&&(Ma===null?ic=Ma=e:Ma=Ma.next=e),rc=!0,Qf||(Qf=!0,_A())}function sl(e,i){if(!Kf&&rc){Kf=!0;do for(var a=!1,o=ic;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-_t(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,ky(o,d))}else d=zt,d=bi(o,o===ne?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Jn(o,d)||(a=!0,ky(o,d));o=o.next}while(a);Kf=!1}}function yA(){My()}function My(){rc=Qf=!1;var e=0;Ns!==0&&(RA()&&(e=Ns),Ns=0);for(var i=rn(),a=null,o=ic;o!==null;){var h=o.next,d=Vy(o,i);d===0?(o.next=null,a===null?ic=h:a.next=h,h===null&&(Ma=a)):(a=o,(e!==0||(d&3)!==0)&&(rc=!0)),o=h}sl(e)}function Vy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-_t(d),E=1<<v,S=h[v];S===-1?((E&a)===0||(E&o)!==0)&&(h[v]=ho(E,i)):S<=i&&(e.expiredLanes|=E),d&=~E}if(i=ne,a=zt,a=bi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&($t===2||$t===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ti(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Jn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Ti(o),Xs(a)){case 2:case 8:a=rr;break;case 32:a=Ai;break;case 268435456:a=sr;break;default:a=Ai}return o=Py.bind(null,e),a=Ei(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Ti(o),e.callbackPriority=2,e.callbackNode=null,2}function Py(e,i){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(nc()&&e.callbackNode!==a)return null;var o=zt;return o=bi(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yy(e,o,i),Vy(e,rn()),e.callbackNode!=null&&e.callbackNode===a?Py.bind(null,e):null)}function ky(e,i){if(nc())return null;yy(e,i,!0)}function _A(){CA(function(){(Xt&6)!==0?Ei(es,yA):My()})}function Yf(){return Ns===0&&(Ns=fo()),Ns}function Uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function Ly(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function vA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=Uy((h[ve]||null).action),v=o.submitter;v&&(i=(i=v[ve]||null)?Uy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new na("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var S=v?Ly(h,v):new FormData(h);mf(a,{pending:!0,data:S,method:h.method,action:d},null,S)}}else typeof d=="function"&&(E.preventDefault(),S=v?Ly(h,v):new FormData(h),mf(a,{pending:!0,data:S,method:h.method,action:d},d,S))},currentTarget:h}]})}}for(var Xf=0;Xf<Oh.length;Xf++){var $f=Oh[Xf],EA=$f.toLowerCase(),TA=$f[0].toUpperCase()+$f.slice(1);Fn(EA,"on"+TA)}Fn(yg,"onAnimationEnd"),Fn(_g,"onAnimationIteration"),Fn(vg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(LT,"onTransitionRun"),Fn(jT,"onTransitionStart"),Fn(zT,"onTransitionCancel"),Fn(Eg,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function jy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],S=E.instance,j=E.currentTarget;if(E=E.listener,S!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(Q){Gu(Q)}h.currentTarget=null,d=S}else for(v=0;v<o.length;v++){if(E=o[v],S=E.instance,j=E.currentTarget,E=E.listener,S!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(Q){Gu(Q)}h.currentTarget=null,d=S}}}}function Pt(e,i){var a=i[yo];a===void 0&&(a=i[yo]=new Set);var o=e+"__bubble";a.has(o)||(zy(i,e,2,!1),a.add(o))}function Zf(e,i,a){var o=0;i&&(o|=4),zy(a,e,o,i)}var sc="_reactListening"+Math.random().toString(36).slice(2);function Jf(e){if(!e[sc]){e[sc]=!0,_o.forEach(function(a){a!=="selectionchange"&&(AA.has(a)||Zf(a,!1,e),Zf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[sc]||(i[sc]=!0,Zf("selectionchange",!1,i))}}function zy(e,i,a,o){switch(c_(i)){case 2:var h=XA;break;case 8:h=$A;break;default:h=fd}a=h.bind(null,i,a,e),h=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Wf(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var S=v.tag;if((S===3||S===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Ri(E),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){o=d=v;continue t}E=E.parentNode}}o=o.return}ou(function(){var j=d,Q=Cn(a),X=[];t:{var z=Tg.get(e);if(z!==void 0){var B=na,At=e;switch(e){case"keypress":if(si(a)===0)break t;case"keydown":case"keyup":B=la;break;case"focusin":At="focus",B=sa;break;case"focusout":At="blur",B=sa;break;case"beforeblur":case"afterblur":B=sa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=gu;break;case yg:case _g:case vg:B=aa;break;case Eg:B=yu;break;case"scroll":case"scrollend":B=lu;break;case"wheel":B=ua;break;case"copy":case"cut":case"paste":B=oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=No;break;case"toggle":case"beforetoggle":B=vu}var gt=(i&4)!==0,te=!gt&&(e==="scroll"||e==="scrollend"),k=gt?z!==null?z+"Capture":null:z;gt=[];for(var N=j,L;N!==null;){var Y=N;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||k===null||(Y=us(N,k),Y!=null&&gt.push(ol(N,Y,L))),te)break;N=N.return}0<gt.length&&(z=new B(z,At,null,a,Q),X.push({event:z,listeners:gt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Ni&&(At=a.relatedTarget||a.fromElement)&&(Ri(At)||At[Rn]))break t;if((B||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,B?(At=a.relatedTarget||a.toElement,B=j,At=At?Ri(At):null,At!==null&&(te=c(At),gt=At.tag,At!==te||gt!==5&&gt!==27&&gt!==6)&&(At=null)):(B=null,At=j),B!==At)){if(gt=Nn,Y="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=No,Y="onPointerLeave",k="onPointerEnter",N="pointer"),te=B==null?z:ei(B),L=At==null?z:ei(At),z=new gt(Y,N+"leave",B,a,Q),z.target=te,z.relatedTarget=L,Y=null,Ri(Q)===j&&(gt=new gt(k,N+"enter",At,a,Q),gt.target=L,gt.relatedTarget=te,Y=gt),te=Y,B&&At)e:{for(gt=B,k=At,N=0,L=gt;L;L=Va(L))N++;for(L=0,Y=k;Y;Y=Va(Y))L++;for(;0<N-L;)gt=Va(gt),N--;for(;0<L-N;)k=Va(k),L--;for(;N--;){if(gt===k||k!==null&&gt===k.alternate)break e;gt=Va(gt),k=Va(k)}gt=null}else gt=null;B!==null&&By(X,z,B,gt,!1),At!==null&&te!==null&&By(X,te,At,gt,!0)}}t:{if(z=j?ei(j):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var at=ag;else if(Ie(z))if(og)at=PT;else{at=MT;var Ot=OT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&bo(j.elementType)&&(at=ag):at=VT;if(at&&(at=at(e,j))){Pi(X,at,a,Q);break t}Ot&&Ot(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&fr(z,"number",z.value)}switch(Ot=j?ei(j):window,e){case"focusin":(Ie(Ot)||Ot.contentEditable==="true")&&(ca=Ot,Dh=j,Mo=null);break;case"focusout":Mo=Dh=ca=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,gg(X,a,Q);break;case"selectionchange":if(UT)break;case"keydown":case"keyup":gg(X,a,Q)}var ht;if(li)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Lt?q(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(y&&a.locale!=="ko"&&(Lt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Lt&&(ht=wo()):(ri=Q,dr="value"in ri?ri.value:ri.textContent,Lt=!0)),Ot=ac(j,pt),0<Ot.length&&(pt=new Co(pt,e,null,a,Q),X.push({event:pt,listeners:Ot}),ht?pt.data=ht:(ht=nt(a),ht!==null&&(pt.data=ht)))),(ht=m?Re(e,a):jt(e,a))&&(pt=ac(j,"onBeforeInput"),0<pt.length&&(Ot=new Co("onBeforeInput","beforeinput",null,a,Q),X.push({event:Ot,listeners:pt}),Ot.data=ht)),vA(X,e,j,a,Q)}jy(X,i)})}function ol(e,i,a){return{instance:e,listener:i,currentTarget:a}}function ac(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=us(e,a),h!=null&&o.unshift(ol(e,h,d)),h=us(e,i),h!=null&&o.push(ol(e,h,d))),e.tag===3)return o;e=e.return}return[]}function Va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function By(e,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var E=a,S=E.alternate,j=E.stateNode;if(E=E.tag,S!==null&&S===o)break;E!==5&&E!==26&&E!==27||j===null||(S=j,h?(j=us(a,d),j!=null&&v.unshift(ol(a,j,S))):h||(j=us(a,d),j!=null&&v.push(ol(a,j,S)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var bA=/\r\n?/g,SA=/\u0000|\uFFFD/g;function qy(e){return(typeof e=="string"?e:""+e).replace(bA,`
`).replace(SA,"")}function Hy(e,i){return i=qy(i),qy(e)===i}function oc(){}function Wt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||In(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&In(e,""+o);break;case"className":ni(e,"class",o);break;case"tabIndex":ni(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(e,a,o);break;case"style":Ao(e,o,d);break;case"data":if(i!=="object"){ni(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ea(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ea(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=oc);break;case"onScroll":o!=null&&Pt("scroll",e);break;case"onScrollEnd":o!=null&&Pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ea(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Pt("beforetoggle",e),Pt("toggle",e),hr(e,"popover",o);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":hr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ah.get(a)||a,hr(e,a,o))}}function td(e,i,a,o,h,d){switch(a){case"style":Ao(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?In(e,o):(typeof o=="number"||typeof o=="bigint")&&In(e,""+o);break;case"onScroll":o!=null&&Pt("scroll",e);break;case"onScrollEnd":o!=null&&Pt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$s.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ve]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):hr(e,a,o)}}}function qe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",e),Pt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,d,v,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),o&&Wt(e,i,"src",a.src,a,null);return;case"input":Pt("invalid",e);var E=d=v=h=null,S=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":v=Q;break;case"checked":S=Q;break;case"defaultChecked":j=Q;break;case"value":d=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Wt(e,i,o,Q,a,null)}}as(e,d,E,S,j,v,h,!1),ta(e);return;case"select":Pt("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Wt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!o,i!=null?Di(e,!!o,i,!1):a!=null&&Di(e,!!o,a,!0);return;case"textarea":Pt("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Wt(e,i,v,E,a,null)}os(e,o,h,d),ta(e);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(o=a[S],o!=null))switch(S){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Wt(e,i,S,o,a,null)}return;case"dialog":Pt("beforetoggle",e),Pt("toggle",e),Pt("cancel",e),Pt("close",e);break;case"iframe":case"object":Pt("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)Pt(al[o],e);break;case"image":Pt("error",e),Pt("load",e);break;case"details":Pt("toggle",e);break;case"embed":case"source":case"link":Pt("error",e),Pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,j,o,a,null)}return;default:if(bo(i)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&td(e,i,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Wt(e,i,E,o,a,null))}function wA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,S=null,j=null,Q=null;for(B in a){var X=a[B];if(a.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":S=X;default:o.hasOwnProperty(B)||Wt(e,i,B,null,o,X)}}for(var z in o){var B=o[z];if(X=a[z],o.hasOwnProperty(z)&&(B!=null||X!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":j=B;break;case"defaultChecked":Q=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==X&&Wt(e,i,z,B,o,X)}}gn(e,v,E,S,j,Q,d,h);return;case"select":B=v=E=z=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":B=S;default:o.hasOwnProperty(d)||Wt(e,i,d,null,o,S)}for(h in o)if(d=o[h],S=a[h],o.hasOwnProperty(h)&&(d!=null||S!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==S&&Wt(e,i,h,d,o,S)}i=E,a=v,o=B,z!=null?Di(e,!!a,z,!1):!!o!=!!a&&(i!=null?Di(e,!!a,i,!0):Di(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,i,E,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Wt(e,i,v,h,o,d)}Zt(e,z,B);return;case"option":for(var At in a)if(z=a[At],a.hasOwnProperty(At)&&z!=null&&!o.hasOwnProperty(At))switch(At){case"selected":e.selected=!1;break;default:Wt(e,i,At,null,o,z)}for(S in o)if(z=o[S],B=a[S],o.hasOwnProperty(S)&&z!==B&&(z!=null||B!=null))switch(S){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Wt(e,i,S,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)z=a[gt],a.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt)&&Wt(e,i,gt,null,o,z);for(j in o)if(z=o[j],B=a[j],o.hasOwnProperty(j)&&z!==B&&(z!=null||B!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Wt(e,i,j,z,o,B)}return;default:if(bo(i)){for(var te in a)z=a[te],a.hasOwnProperty(te)&&z!==void 0&&!o.hasOwnProperty(te)&&td(e,i,te,void 0,o,z);for(Q in o)z=o[Q],B=a[Q],!o.hasOwnProperty(Q)||z===B||z===void 0&&B===void 0||td(e,i,Q,z,o,B);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&Wt(e,i,k,null,o,z);for(X in o)z=o[X],B=a[X],!o.hasOwnProperty(X)||z===B||z==null&&B==null||Wt(e,i,X,z,o,B)}var ed=null,nd=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function Fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function id(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rd=null;function RA(){var e=window.event;return e&&e.type==="popstate"?e===rd?!1:(rd=e,!0):(rd=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,IA=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,CA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(e){return Ky.resolve(null).then(e).catch(DA)}:Qy;function DA(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function Yy(e,i){var a=i,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&ll(v.documentElement),a&2&&ll(v.body),a&4)for(a=v.head,ll(a),v=a.firstChild;v;){var E=v.nextSibling,S=v.nodeName;v[ns]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),pl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);pl(i)}function sd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sd(a),cr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function NA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ns])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function xA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Qn(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function OA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Qn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var od=null;function Xy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function $y(e,i,a){switch(i=lc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ll(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);cr(e)}var Un=new Map,Zy=new Set;function uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=rt.d;rt.d={f:MA,r:VA,D:PA,C:kA,L:UA,m:LA,X:zA,S:jA,M:BA};function MA(){var e=Yi.f(),i=tc();return e||i}function VA(e){var i=ti(e);i!==null&&i.tag===5&&i.type==="form"?yp(i):Yi.r(e)}var Pa=typeof document>"u"?null:document;function Jy(e,i,a){var o=Pa;if(o&&typeof i=="string"&&i){var h=Ee(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Zy.has(h)||(Zy.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),qe(i,"link",e),me(i),o.head.appendChild(i)))}}function PA(e){Yi.D(e),Jy("dns-prefetch",e,null)}function kA(e,i){Yi.C(e,i),Jy("preconnect",e,i)}function UA(e,i,a){Yi.L(e,i,a);var o=Pa;if(o&&e&&i){var h='link[rel="preload"][as="'+Ee(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ee(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ee(a.imageSizes)+'"]')):h+='[href="'+Ee(e)+'"]';var d=h;switch(i){case"style":d=ka(e);break;case"script":d=Ua(e)}Un.has(d)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Un.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(ul(d))||i==="script"&&o.querySelector(cl(d))||(i=o.createElement("link"),qe(i,"link",e),me(i),o.head.appendChild(i)))}}function LA(e,i){Yi.m(e,i);var a=Pa;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ee(o)+'"][href="'+Ee(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ua(e)}if(!Un.has(d)&&(e=A({rel:"modulepreload",href:e},i),Un.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cl(d)))return}o=a.createElement("link"),qe(o,"link",e),me(o),a.head.appendChild(o)}}}function jA(e,i,a){Yi.S(e,i,a);var o=Pa;if(o&&e){var h=We(o).hoistableStyles,d=ka(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(ul(d)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Un.get(d))&&ld(e,a);var S=v=o.createElement("link");me(S),qe(S,"link",e),S._p=new Promise(function(j,Q){S.onload=j,S.onerror=Q}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,cc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function zA(e,i){Yi.X(e,i);var a=Pa;if(a&&e){var o=We(a).hoistableScripts,h=Ua(e),d=o.get(h);d||(d=a.querySelector(cl(h)),d||(e=A({src:e,async:!0},i),(i=Un.get(h))&&ud(e,i),d=a.createElement("script"),me(d),qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function BA(e,i){Yi.M(e,i);var a=Pa;if(a&&e){var o=We(a).hoistableScripts,h=Ua(e),d=o.get(h);d||(d=a.querySelector(cl(h)),d||(e=A({src:e,async:!0,type:"module"},i),(i=Un.get(h))&&ud(e,i),d=a.createElement("script"),me(d),qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Wy(e,i,a,o){var h=(h=mt.current)?uc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ka(a.href),a=We(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ka(a.href);var d=We(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(ul(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(e,a),d||qA(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ua(a),a=We(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ka(e){return'href="'+Ee(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function t_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function qA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),qe(i,"link",a),me(i),e.head.appendChild(i))}function Ua(e){return'[src="'+Ee(e)+'"]'}function cl(e){return"script[async]"+e}function e_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+Ee(a.href)+'"]');if(o)return i.instance=o,me(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),me(o),qe(o,"style",h),cc(o,a.precedence,e),i.instance=o;case"stylesheet":h=ka(a.href);var d=e.querySelector(ul(h));if(d)return i.state.loading|=4,i.instance=d,me(d),d;o=t_(a),(h=Un.get(h))&&ld(o,h),d=(e.ownerDocument||e).createElement("link"),me(d);var v=d;return v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),qe(d,"link",o),i.state.loading|=4,cc(d,a.precedence,e),i.instance=d;case"script":return d=Ua(a.src),(h=e.querySelector(cl(d)))?(i.instance=h,me(h),h):(o=a,(h=Un.get(d))&&(o=A({},a),ud(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),me(h),qe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,cc(o,a.precedence,e));return i.instance}function cc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function ld(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function ud(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var hc=null;function n_(e,i,a){if(hc===null){var o=new Map,h=hc=new Map;h.set(a,o)}else h=hc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ns]||d[we]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function i_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function HA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function r_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var hl=null;function FA(){}function GA(e,i,a){if(hl===null)throw Error(s(475));var o=hl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ka(a.href),d=e.querySelector(ul(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=fc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=d,me(d);return}d=e.ownerDocument||e,a=t_(a),(h=Un.get(h))&&ld(a,h),d=d.createElement("link"),me(d);var v=d;v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),qe(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=fc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function QA(){if(hl===null)throw Error(s(475));var e=hl;return e.stylesheets&&e.count===0&&cd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function fc(){if(this.count--,this.count===0){if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dc=null;function cd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dc=new Map,i.forEach(KA,e),dc=null,fc.call(e))}function KA(e,i){if(!(i.state.loading&4)){var a=dc.get(e);if(a)var o=a.get(null);else{a=new Map,dc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=fc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var fl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function YA(e,i,a,o,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function s_(e,i,a,o,h,d,v,E,S,j,Q,X){return e=new YA(e,i,a,v,E,S,j,X),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),e.current=d,d.stateNode=e,i=Fh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Yh(d),e}function a_(e){return e?(e=ma,e):ma}function o_(e,i,a,o,h,d){h=a_(h),o.context===null?o.context=h:o.pendingContext=h,o=pr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=yr(e,o,i),a!==null&&(An(a,e,i),qo(a,e,i))}function l_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function hd(e,i){l_(e,i),(e=e.alternate)&&l_(e,i)}function u_(e){if(e.tag===13){var i=da(e,67108864);i!==null&&An(i,e,67108864),hd(e,67108864)}}var mc=!0;function XA(e,i,a,o){var h=H.T;H.T=null;var d=rt.p;try{rt.p=2,fd(e,i,a,o)}finally{rt.p=d,H.T=h}}function $A(e,i,a,o){var h=H.T;H.T=null;var d=rt.p;try{rt.p=8,fd(e,i,a,o)}finally{rt.p=d,H.T=h}}function fd(e,i,a,o){if(mc){var h=dd(o);if(h===null)Wf(e,i,o,gc,a),h_(e,o);else if(JA(h,e,i,a,o))o.stopPropagation();else if(h_(e,o),i&4&&-1<ZA.indexOf(e)){for(;h!==null;){var d=ti(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=mn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var S=1<<31-_t(v);E.entanglements[1]|=S,v&=~S}mi(d),(Xt&6)===0&&(Ju=rn()+500,sl(0))}}break;case 13:E=da(d,2),E!==null&&An(E,d,2),tc(),hd(d,2)}if(d=dd(o),d===null&&Wf(e,i,o,gc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Wf(e,i,o,null,a)}}function dd(e){return e=Cn(e),md(e)}var gc=null;function md(e){if(gc=null,e=Ri(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return gc=e,null}function c_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ks()){case es:return 2;case rr:return 8;case Ai:case co:return 32;case sr:return 268435456;default:return 32}default:return 32}}var gd=!1,Nr=null,xr=null,Or=null,dl=new Map,ml=new Map,Mr=[],ZA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(e,i){switch(e){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(i.pointerId)}}function gl(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ti(i),i!==null&&u_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function JA(e,i,a,o,h){switch(i){case"focusin":return Nr=gl(Nr,e,i,a,o,h),!0;case"dragenter":return xr=gl(xr,e,i,a,o,h),!0;case"mouseover":return Or=gl(Or,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return dl.set(d,gl(dl.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,ml.set(d,gl(ml.get(d)||null,e,i,a,o,h)),!0}return!1}function f_(e){var i=Ri(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,tu(e.priority,function(){if(a.tag===13){var o=Tn();o=or(o);var h=da(a,o);h!==null&&An(h,a,o),hd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=dd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ni=o,a.target.dispatchEvent(o),Ni=null}else return i=ti(a),i!==null&&u_(i),e.blockedOn=a,!1;i.shift()}return!0}function d_(e,i,a){pc(e)&&a.delete(i)}function WA(){gd=!1,Nr!==null&&pc(Nr)&&(Nr=null),xr!==null&&pc(xr)&&(xr=null),Or!==null&&pc(Or)&&(Or=null),dl.forEach(d_),ml.forEach(d_)}function yc(e,i){e.blockedOn===i&&(e.blockedOn=null,gd||(gd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,WA)))}var _c=null;function m_(e){_c!==e&&(_c=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(md(o||a)===null)continue;break}var d=ti(a);d!==null&&(e.splice(i,3),i-=3,mf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function pl(e){function i(S){return yc(S,e)}Nr!==null&&yc(Nr,e),xr!==null&&yc(xr,e),Or!==null&&yc(Or,e),dl.forEach(i),ml.forEach(i);for(var a=0;a<Mr.length;a++){var o=Mr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)f_(a),a.blockedOn===null&&Mr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[ve]||null;if(typeof d=="function")v||m_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ve]||null)E=v.formAction;else if(md(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),m_(a)}}}function pd(e){this._internalRoot=e}vc.prototype.render=pd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=Tn();o_(a,o,e,i,null,null)},vc.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;o_(e.current,2,null,e,null,null),tc(),i[Rn]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var i=lr();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Mr.length&&i!==0&&i<Mr[a].priority;a++);Mr.splice(a,0,e),a===0&&f_(e)}};var g_=t.version;if(g_!=="19.1.0")throw Error(s(527,g_,"19.1.0"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var tb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{se=Ec.inject(tb),Gt=Ec}catch{}}return _l.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=xp,d=Op,v=Mp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=s_(e,1,!1,null,null,a,o,h,d,v,E,null),e[Rn]=i.current,Jf(e),new pd(i)},_l.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=xp,v=Op,E=Mp,S=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=s_(e,1,!0,i,a??null,o,h,d,v,E,S,j),i.context=a_(null),a=i.current,o=Tn(),o=or(o),h=pr(o),h.callback=null,yr(a,h,o),a=o,i.current.lanes=a,wi(i,a),mi(i),e[Rn]=i.current,Jf(e),new vc(i)},_l.version="19.1.0",_l}var w_;function hb(){if(w_)return vd.exports;w_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),vd.exports=cb(),vd.exports}var fb=hb();const db=a0(fb),mb=()=>{};var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},gb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],f=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},l0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,A=c>>2,w=(c&3)<<4|g>>4;let D=(g&15)<<2|_>>6,F=_&63;p||(F=64,f||(D=64)),s.push(n[A],n[w],n[D],n[F])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(o0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):gb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const w=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||w==null)throw new pb;const D=c<<2|g>>4;if(s.push(D),_!==64){const F=g<<4&240|_>>2;if(s.push(F),w!==64){const Z=_<<6&192|w;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class pb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yb=function(r){const t=o0(r);return l0.encodeByteArray(t,!0)},Uc=function(r){return yb(r).replace(/\./g,"")},u0=function(r){try{return l0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=()=>_b().__FIREBASE_DEFAULTS__,Eb=()=>{if(typeof process>"u"||typeof R_>"u")return;const r=R_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Tb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&u0(r[1]);return t&&JSON.parse(t)},nh=()=>{try{return mb()||vb()||Eb()||Tb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},c0=r=>{var t,n;return(n=(t=nh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},Ab=r=>{const t=c0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},h0=()=>{var r;return(r=nh())===null||r===void 0?void 0:r.config},f0=r=>{var t;return(t=nh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(r){return r.endsWith(".cloudworkstations.dev")}async function d0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Uc(JSON.stringify(n)),Uc(JSON.stringify(f)),""].join(".")}const Il={};function wb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Il))Il[t]?r.emulator.push(t):r.prod.push(t);return r}function Rb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let I_=!1;function m0(r,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Il[r]===t||Il[r]||I_)return;Il[r]=t;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=wb().prod.length>0;function f(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function p(D,F){D.setAttribute("width","24"),D.setAttribute("id",F),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{I_=!0,f()},D}function A(D,F){D.setAttribute("id",F),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function w(){const D=Rb(s),F=n("text"),Z=document.getElementById(F)||document.createElement("span"),it=n("learnmore"),tt=document.getElementById(it)||document.createElement("a"),Tt=n("preprendIcon"),ot=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ct=D.element;g(ct),A(tt,it);const Mt=_();p(ot,Tt),ct.append(ot,Z,tt,Mt),document.body.appendChild(ct)}c?(Z.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ib(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Cb(){var r;const t=(r=nh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Db(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ob(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Mb(){return!Cb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vb(){try{return typeof indexedDB=="object"}catch{return!1}}function Pb(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="FirebaseError";class ir extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=kb,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?Ub(c,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new ir(l,g,s)}}function Ub(r,t){return r.replace(Lb,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const Lb=/\{\$([^}]+)}/g;function jb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ks(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],f=t[l];if(C_(c)&&C_(f)){if(!ks(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function C_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Tl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Al(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function zb(r,t){const n=new Bb(r,t);return n.subscribe.bind(n)}class Bb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");qb(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=bd),l.error===void 0&&(l.error=bd),l.complete===void 0&&(l.complete=bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qb(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function bd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(r){return r&&r._delegate?r._delegate:r}class Us{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new bb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Gb(t))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Os){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Os){return this.instances.has(t)}getOptions(t=Os){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&t(f,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Fb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Os){return this.component?this.component.multipleInstances?t:Os:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fb(r){return r===Os?void 0:r}function Gb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Hb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const Kb={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Yb=kt.INFO,Xb={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},$b=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=Xb[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class um{constructor(t){this.name=t,this._logLevel=Yb,this._logHandler=$b,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Kb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const Zb=(r,t)=>t.some(n=>r instanceof n);let D_,N_;function Jb(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wb(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g0=new WeakMap,Pd=new WeakMap,p0=new WeakMap,Sd=new WeakMap,cm=new WeakMap;function tS(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(zr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&g0.set(n,r)}).catch(()=>{}),cm.set(t,r),t}function eS(r){if(Pd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Pd.set(r,t)}let kd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Pd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||p0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function nS(r){kd=r(kd)}function iS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(wd(this),t,...n);return p0.set(s,t.sort?t.sort():[t]),zr(s)}:Wb().includes(r)?function(...t){return r.apply(wd(this),t),zr(g0.get(this))}:function(...t){return zr(r.apply(wd(this),t))}}function rS(r){return typeof r=="function"?iS(r):(r instanceof IDBTransaction&&eS(r),Zb(r,Jb())?new Proxy(r,kd):r)}function zr(r){if(r instanceof IDBRequest)return tS(r);if(Sd.has(r))return Sd.get(r);const t=rS(r);return t!==r&&(Sd.set(r,t),cm.set(t,r)),t}const wd=r=>cm.get(r);function sS(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,t),g=zr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(zr(f.result),p.oldVersion,p.newVersion,zr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const aS=["get","getKey","getAll","getAllKeys","count"],oS=["put","add","delete","clear"],Rd=new Map;function x_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Rd.get(t))return Rd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=oS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||aS.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Rd.set(t,c),c}nS(r=>({...r,get:(t,n,s)=>x_(t,n)||r.get(t,n,s),has:(t,n)=>!!x_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function uS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ud="@firebase/app",O_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new um("@firebase/app"),cS="@firebase/app-compat",hS="@firebase/analytics-compat",fS="@firebase/analytics",dS="@firebase/app-check-compat",mS="@firebase/app-check",gS="@firebase/auth",pS="@firebase/auth-compat",yS="@firebase/database",_S="@firebase/data-connect",vS="@firebase/database-compat",ES="@firebase/functions",TS="@firebase/functions-compat",AS="@firebase/installations",bS="@firebase/installations-compat",SS="@firebase/messaging",wS="@firebase/messaging-compat",RS="@firebase/performance",IS="@firebase/performance-compat",CS="@firebase/remote-config",DS="@firebase/remote-config-compat",NS="@firebase/storage",xS="@firebase/storage-compat",OS="@firebase/firestore",MS="@firebase/ai",VS="@firebase/firestore-compat",PS="firebase",kS="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="[DEFAULT]",US={[Ud]:"fire-core",[cS]:"fire-core-compat",[fS]:"fire-analytics",[hS]:"fire-analytics-compat",[mS]:"fire-app-check",[dS]:"fire-app-check-compat",[gS]:"fire-auth",[pS]:"fire-auth-compat",[yS]:"fire-rtdb",[_S]:"fire-data-connect",[vS]:"fire-rtdb-compat",[ES]:"fire-fn",[TS]:"fire-fn-compat",[AS]:"fire-iid",[bS]:"fire-iid-compat",[SS]:"fire-fcm",[wS]:"fire-fcm-compat",[RS]:"fire-perf",[IS]:"fire-perf-compat",[CS]:"fire-rc",[DS]:"fire-rc-compat",[NS]:"fire-gcs",[xS]:"fire-gcs-compat",[OS]:"fire-fst",[VS]:"fire-fst-compat",[MS]:"fire-vertex","fire-js":"fire-js",[PS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,LS=new Map,jd=new Map;function M_(r,t){try{r.container.addComponent(t)}catch(n){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ka(r){const t=r.name;if(jd.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;jd.set(t,r);for(const n of Lc.values())M_(n,r);for(const n of LS.values())M_(n,r);return!0}function hm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new Hl("app","Firebase",jS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=kS;function y0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Ld,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw Br.create("bad-app-name",{appName:String(l)});if(n||(n=h0()),!n)throw Br.create("no-options");const c=Lc.get(l);if(c){if(ks(n,c.options)&&ks(s,c.config))return c;throw Br.create("duplicate-app",{appName:l})}const f=new Qb(l);for(const p of jd.values())f.addComponent(p);const g=new zS(n,s,f);return Lc.set(l,g),g}function _0(r=Ld){const t=Lc.get(r);if(!t&&r===Ld&&h0())return y0();if(!t)throw Br.create("no-app",{appName:r});return t}function qr(r,t,n){var s;let l=(s=US[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(g.join(" "));return}Ka(new Us(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firebase-heartbeat-database",qS=1,Ml="firebase-heartbeat-store";let Id=null;function v0(){return Id||(Id=sS(BS,qS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ml)}catch(n){console.warn(n)}}}}).catch(r=>{throw Br.create("idb-open",{originalErrorMessage:r.message})})),Id}async function HS(r){try{const n=(await v0()).transaction(Ml),s=await n.objectStore(Ml).get(E0(r));return await n.done,s}catch(t){if(t instanceof ir)Wi.warn(t.message);else{const n=Br.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wi.warn(n.message)}}}async function V_(r,t){try{const s=(await v0()).transaction(Ml,"readwrite");await s.objectStore(Ml).put(t,E0(r)),await s.done}catch(n){if(n instanceof ir)Wi.warn(n.message);else{const s=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wi.warn(s.message)}}}function E0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=1024,GS=30;class QS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=P_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>GS){const f=XS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Wi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P_(),{heartbeatsToSend:s,unsentEntries:l}=KS(this._heartbeatsCache.heartbeats),c=Uc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Wi.warn(n),""}}}function P_(){return new Date().toISOString().substring(0,10)}function KS(r,t=FS){const n=[];let s=r.slice();for(const l of r){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),k_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),k_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class YS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vb()?Pb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return V_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return V_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function k_(r){return Uc(JSON.stringify({version:2,heartbeats:r})).length}function XS(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(r){Ka(new Us("platform-logger",t=>new lS(t),"PRIVATE")),Ka(new Us("heartbeat",t=>new QS(t),"PRIVATE")),qr(Ud,O_,r),qr(Ud,O_,"esm2017"),qr("fire-js","")}$S("");var ZS="firebase",JS="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(ZS,JS,"app");function fm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function T0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WS=T0,A0=new Hl("auth","Firebase",T0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new um("@firebase/auth");function t1(r,...t){jc.logLevel<=kt.WARN&&jc.warn(`Auth (${io}): ${r}`,...t)}function Ic(r,...t){jc.logLevel<=kt.ERROR&&jc.error(`Auth (${io}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(r,...t){throw mm(r,...t)}function Xn(r,...t){return mm(r,...t)}function dm(r,t,n){const s=Object.assign(Object.assign({},WS()),{[t]:n});return new Hl("auth","Firebase",s).create(t,{appName:r.name})}function Ji(r){return dm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e1(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&jn(r,"argument-error"),dm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return A0.create(r,...t)}function vt(r,t,...n){if(!r)throw mm(t,...n)}function $i(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Ic(t),new Error(t)}function tr(r,t){r||$i(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function n1(){return U_()==="http:"||U_()==="https:"}function U_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n1()||Nb()||"connection"in navigator)?navigator.onLine:!0}function r1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(t,n){this.shortDelay=t,this.longDelay=n,tr(n>t,"Short delay should be less than long delay!"),this.isMobile=Ib()||xb()}get(){return i1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(r,t){tr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],o1=new Gl(3e4,6e4);function Jr(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Wr(r,t,n,s,l={}){return S0(r,l,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const g=Fl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return Db()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&no(r.emulatorConfig.host)&&(_.credentials="include"),b0.fetch()(await w0(r,r.config.apiHost,n,g),_)})}async function S0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},s1),t);try{const l=new u1(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Tc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Tc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Tc(r,"user-disabled",f);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw dm(r,A,_);jn(r,A)}}catch(l){if(l instanceof ir)throw l;jn(r,"network-request-failed",{message:String(l)})}}async function Ql(r,t,n,s,l={}){const c=await Wr(r,t,n,s,l);return"mfaPendingCredential"in c&&jn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function w0(r,t,n,s){const l=`${t}${n}?${s}`,c=r,f=c.config.emulator?gm(r.config,l):`${r.config.apiScheme}://${l}`;return a1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function l1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class u1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Xn(this.auth,"network-request-failed")),o1.get())})}}function Tc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Xn(r,t,s);return l.customData._tokenResponse=n,l}function L_(r){return r!==void 0&&r.enterprise!==void 0}class c1{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return l1(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function h1(r,t){return Wr(r,"GET","/v2/recaptchaConfig",Jr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(r,t){return Wr(r,"POST","/v1/accounts:delete",t)}async function zc(r,t){return Wr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function d1(r,t=!1){const n=Je(r),s=await n.getIdToken(t),l=pm(s);vt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:Cl(Cd(l.auth_time)),issuedAtTime:Cl(Cd(l.iat)),expirationTime:Cl(Cd(l.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Cd(r){return Number(r)*1e3}function pm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const l=u0(n);return l?JSON.parse(l):(Ic("Failed to decode base64 JWT payload"),null)}catch(l){return Ic("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function j_(r){const t=pm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ir&&m1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function m1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await Vl(r,zc(n,{idToken:s}));vt(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?R0(c.providerUserInfo):[],g=y1(r.providerData,f),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?_:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Bd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,w)}async function p1(r){const t=Je(r);await Bc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function y1(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function R0(r){return r.map(t=>{var{providerId:n}=t,s=fm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(r,t){const n=await S0(r,{},async()=>{const s=Fl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=await w0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&no(r.emulatorConfig.host)&&(p.credentials="include"),b0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function v1(r,t){return Wr(r,"POST","/v2/accounts:revokeToken",Jr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):j_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=j_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await _1(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,f=new Ha;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(vt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Kn{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=fm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new g1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Bd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Vl(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return d1(this,t)}reload(){return p1(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Kn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Bc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await Vl(this,f1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,f,g,p,_,A;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,D=(l=n.email)!==null&&l!==void 0?l:void 0,F=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,Z=(f=n.photoURL)!==null&&f!==void 0?f:void 0,it=(g=n.tenantId)!==null&&g!==void 0?g:void 0,tt=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Tt=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ot=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ct,emailVerified:Mt,isAnonymous:yt,providerData:St,stsTokenManager:O}=n;vt(ct&&O,t,"internal-error");const b=Ha.fromJSON(this.name,O);vt(typeof ct=="string",t,"internal-error"),Pr(w,t.name),Pr(D,t.name),vt(typeof Mt=="boolean",t,"internal-error"),vt(typeof yt=="boolean",t,"internal-error"),Pr(F,t.name),Pr(Z,t.name),Pr(it,t.name),Pr(tt,t.name),Pr(Tt,t.name),Pr(ot,t.name);const R=new Kn({uid:ct,auth:t,email:D,emailVerified:Mt,displayName:w,isAnonymous:yt,photoURL:Z,phoneNumber:F,tenantId:it,stsTokenManager:b,createdAt:Tt,lastLoginAt:ot});return St&&Array.isArray(St)&&(R.providerData=St.map(x=>Object.assign({},x))),tt&&(R._redirectEventId=tt),R}static async _fromIdTokenResponse(t,n,s=!1){const l=new Ha;l.updateFromServerResponse(n);const c=new Kn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Bc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?R0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Ha;g.updateFromIdToken(s);const p=new Kn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Bd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;function Zi(r){tr(r instanceof Function,"Expected a class definition");let t=z_.get(r);return t?(tr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,z_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}I0.type="NONE";const B_=I0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(r,t,n){return`firebase:${r}:${t}:${n}`}class Fa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Cc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Cc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await zc(this.auth,{idToken:t}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,t):null}return Kn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Fa(Zi(B_),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Zi(B_);const f=Cc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const A=await _._get(f);if(A){let w;if(typeof A=="string"){const D=await zc(t,{idToken:A}).catch(()=>{});if(!D)break;w=await Kn._fromGetAccountInfoResponse(t,D,A)}else w=Kn._fromJSON(t,A);_!==c&&(g=w),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Fa(c,t,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new Fa(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(x0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(C0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(M0(t))return"Blackberry";if(V0(t))return"Webos";if(D0(t))return"Safari";if((t.includes("chrome/")||N0(t))&&!t.includes("edge/"))return"Chrome";if(O0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function C0(r=Ze()){return/firefox\//i.test(r)}function D0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function N0(r=Ze()){return/crios\//i.test(r)}function x0(r=Ze()){return/iemobile/i.test(r)}function O0(r=Ze()){return/android/i.test(r)}function M0(r=Ze()){return/blackberry/i.test(r)}function V0(r=Ze()){return/webos/i.test(r)}function ym(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function E1(r=Ze()){var t;return ym(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function T1(){return Ob()&&document.documentMode===10}function P0(r=Ze()){return ym(r)||O0(r)||V0(r)||M0(r)||/windows phone/i.test(r)||x0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(r,t=[]){let n;switch(r){case"Browser":n=q_(Ze());break;case"Worker":n=`${q_(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(r,t={}){return Wr(r,"GET","/v2/passwordPolicy",Jr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=6;class w1{constructor(t){var n,s,l,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:S1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new A1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await zc(this,{idToken:t}),s=await Kn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(bn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Bc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=r1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(bn(this.app))return Promise.reject(Ji(this));const n=t?Je(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return bn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await b1(this),n=new w1(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await v1(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Zi(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=k0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&t1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ts(r){return Je(r)}class H_{constructor(t){this.auth=t,this.observer=null,this.addObserver=zb(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I1(r){ih=r}function U0(r){return ih.loadJS(r)}function C1(){return ih.recaptchaEnterpriseScript}function D1(){return ih.gapiScript}function N1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class x1{constructor(){this.enterprise=new O1}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class O1{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const M1="recaptcha-enterprise",L0="NO_RECAPTCHA";class V1{constructor(t){this.type=M1,this.auth=ts(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,g)=>{h1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new c1(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,f(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,f,g){const p=window.grecaptcha;L_(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(_=>{f(_)}).catch(()=>{f(L0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new x1().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(g=>{if(!n&&L_(window.grecaptcha))l(g,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=C1();p.length!==0&&(p+=g),U0(p).then(()=>{l(g,c,f)}).catch(_=>{f(_)})}}).catch(g=>{f(g)})})}}async function F_(r,t,n,s=!1,l=!1){const c=new V1(r);let f;if(l)f=L0;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const g=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function qd(r,t,n,s,l){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await F_(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await F_(r,t,n,n==="getOobCode");return s(r,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(r,t){const n=hm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(ks(c,t??{}))return l;jn(l,"already-initialized")}return n.initialize({options:t})}function k1(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Zi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function U1(r,t,n){const s=ts(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=j0(t),{host:f,port:g}=L1(t),p=g===null?"":`:${g}`,_={url:`${c}//${f}${p}/`},A=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(ks(_,s.config.emulator)&&ks(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,no(f)?(d0(`${c}//${f}${p}`),m0("Auth",!0)):j1()}function j0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function L1(r){const t=j0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:G_(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:G_(f)}}}function G_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function j1(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,n){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}async function z1(r,t){return Wr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(r,t){return Ql(r,"POST","/v1/accounts:signInWithPassword",Jr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(r,t){return Ql(r,"POST","/v1/accounts:signInWithEmailLink",Jr(r,t))}async function H1(r,t){return Ql(r,"POST","/v1/accounts:signInWithEmailLink",Jr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends _m{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Pl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Pl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(t,n,"signInWithPassword",B1);case"emailLink":return q1(t,{email:this._email,oobCode:this._password});default:jn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(t,s,"signUpPassword",z1);case"emailLink":return H1(t,{idToken:n,email:this._email,oobCode:this._password});default:jn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r,t){return Ql(r,"POST","/v1/accounts:signInWithIdp",Jr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="http://localhost";class Ls extends _m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ls(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=fm(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new Ls(s,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ga(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ga(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ga(t,n)}buildRequest(){const t={requestUri:F1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Fl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Q1(r){const t=Tl(Al(r)).link,n=t?Tl(Al(t)).deep_link_id:null,s=Tl(Al(r)).deep_link_id;return(s?Tl(Al(s)).link:null)||s||n||t||r}class vm{constructor(t){var n,s,l,c,f,g;const p=Tl(Al(t)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,A=(s=p.oobCode)!==null&&s!==void 0?s:null,w=G1((l=p.mode)!==null&&l!==void 0?l:null);vt(_&&A&&w,"argument-error"),this.apiKey=_,this.operation=w,this.code=A,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const n=Q1(t);try{return new vm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(t,n){return Pl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=vm.parseLink(n);return vt(s,"argument-error"),Pl._fromEmailAndCode(t,s.code,s.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends Em{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Kl{constructor(){super("facebook.com")}static credential(t){return Ls._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ls._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Xi.credential(n,s)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Kl{constructor(){super("github.com")}static credential(t){return Ls._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Kl{constructor(){super("twitter.com")}static credential(t,n){return Ls._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(r,t){return Ql(r,"POST","/v1/accounts:signUp",Jr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Kn._fromIdTokenResponse(t,s,l),f=Q_(s);return new js({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Q_(s);return new js({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Q_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends ir{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new qc(t,n,s,l)}}function z0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(r,c,t,s):c})}async function Y1(r,t,n=!1){const s=await Vl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return js._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(r,t,n=!1){const{auth:s}=r;if(bn(s.app))return Promise.reject(Ji(s));const l="reauthenticate";try{const c=await Vl(r,z0(s,l,t,r),n);vt(c.idToken,s,"internal-error");const f=pm(c.idToken);vt(f,s,"internal-error");const{sub:g}=f;return vt(r.uid===g,s,"user-mismatch"),js._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&jn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B0(r,t,n=!1){if(bn(r.app))return Promise.reject(Ji(r));const s="signIn",l=await z0(r,s,t),c=await js._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function $1(r,t){return B0(ts(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0(r){const t=ts(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Z1(r,t,n){if(bn(r.app))return Promise.reject(Ji(r));const s=ts(r),f=await qd(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&q0(r),p}),g=await js._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function J1(r,t,n){return bn(r.app)?Promise.reject(Ji(r)):$1(Je(r),ro.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&q0(r),s})}function W1(r,t,n,s){return Je(r).onIdTokenChanged(t,n,s)}function tw(r,t,n){return Je(r).beforeAuthStateChanged(t,n)}function ew(r,t,n,s){return Je(r).onAuthStateChanged(t,n,s)}function nw(r){return Je(r).signOut()}const Hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=1e3,rw=10;class F0 extends H0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);T1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,rw):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},iw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}F0.type="LOCAL";const sw=F0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends H0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}G0.type="SESSION";const Q0=G0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new rh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async _=>_(n.origin,c)),p=await aw(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const _=Tm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(w){const D=w;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function lw(r){pi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function uw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function hw(){return K0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="firebaseLocalStorageDb",fw=1,Fc="firebaseLocalStorage",X0="fbase_key";class Yl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sh(r,t){return r.transaction([Fc],t?"readwrite":"readonly").objectStore(Fc)}function dw(){const r=indexedDB.deleteDatabase(Y0);return new Yl(r).toPromise()}function Hd(){const r=indexedDB.open(Y0,fw);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fc,{keyPath:X0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fc)?t(s):(s.close(),await dw(),t(await Hd()))})})}async function K_(r,t,n){const s=sh(r,!0).put({[X0]:t,value:n});return new Yl(s).toPromise()}async function mw(r,t){const n=sh(r,!1).get(t),s=await new Yl(n).toPromise();return s===void 0?null:s.value}function Y_(r,t){const n=sh(r,!0).delete(t);return new Yl(n).toPromise()}const gw=800,pw=3;class $0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>pw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(hw()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await uw(),!this.activeServiceWorker)return;this.sender=new ow(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hd();return await K_(t,Hc,"1"),await Y_(t,Hc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>K_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>mw(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=sh(l,!1).getAll();return new Yl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$0.type="LOCAL";const yw=$0;new Gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r,t){return t?Zi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am extends _m{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ga(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function _w(r){return B0(r.auth,new Am(r),r.bypassAuthState)}function vw(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),X1(n,new Am(r),r.bypassAuthState)}async function Ew(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),Y1(n,new Am(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _w;case"linkViaPopup":case"linkViaRedirect":return Ew;case"reauthViaPopup":case"reauthViaRedirect":return vw;default:jn(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Gl(2e3,1e4);async function Aw(r,t,n){if(bn(r.app))return Promise.reject(Xn(r,"operation-not-supported-in-this-environment"));const s=ts(r);e1(r,t,Em);const l=Z0(s,n);return new Ms(s,"signInViaPopup",t,l).executeNotNull()}class Ms extends J0{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=Tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Tw.get())};t()}}Ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="pendingRedirect",Dc=new Map;class Sw extends J0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Dc.get(this.auth._key());if(!t){try{const s=await ww(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Dc.set(this.auth._key(),t)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ww(r,t){const n=Cw(t),s=Iw(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function Rw(r,t){Dc.set(r._key(),t)}function Iw(r){return Zi(r._redirectPersistence)}function Cw(r){return Cc(bw,r.config.apiKey,r.name)}async function Dw(r,t,n=!1){if(bn(r.app))return Promise.reject(Ji(r));const s=ts(r),l=Z0(s,t),f=await new Sw(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=10*60*1e3;class xw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ow(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!W0(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Xn(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Nw&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(t))}saveEventToCache(t){this.cachedEventUids.add(X_(t)),this.lastProcessedEventTime=Date.now()}}function X_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function W0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Ow(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(r,t={}){return Wr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pw=/^https?/;async function kw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Mw(r);for(const n of t)try{if(Uw(n))return}catch{}jn(r,"unauthorized-domain")}function Uw(r){const t=zd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Pw.test(n))return!1;if(Vw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=new Gl(3e4,6e4);function $_(){const r=pi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function jw(r){return new Promise((t,n)=>{var s,l,c;function f(){$_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$_(),n(Xn(r,"network-request-failed"))},timeout:Lw.get()})}if(!((l=(s=pi().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=pi().gapi)===null||c===void 0)&&c.load)f();else{const g=N1("iframefcb");return pi()[g]=()=>{gapi.load?f():n(Xn(r,"network-request-failed"))},U0(`${D1()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw Nc=null,t})}let Nc=null;function zw(r){return Nc=Nc||jw(r),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Gl(5e3,15e3),qw="__/auth/iframe",Hw="emulator/auth/iframe",Fw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qw(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?gm(t,Hw):`https://${r.config.authDomain}/${qw}`,s={apiKey:t.apiKey,appName:r.name,v:io},l=Gw.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Fl(s).slice(1)}`}async function Kw(r){const t=await zw(r),n=pi().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:Qw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fw,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const f=Xn(r,"network-request-failed"),g=pi().setTimeout(()=>{c(f)},Bw.get());function p(){pi().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xw=500,$w=600,Zw="_blank",Jw="http://localhost";class Z_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ww(r,t,n,s=Xw,l=$w){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},Yw),{width:s.toString(),height:l.toString(),top:c,left:f}),_=Ze().toLowerCase();n&&(g=N0(_)?Zw:n),C0(_)&&(t=t||Jw,p.scrollbars="yes");const A=Object.entries(p).reduce((D,[F,Z])=>`${D}${F}=${Z},`,"");if(E1(_)&&g!=="_self")return tR(t||"",g),new Z_(null);const w=window.open(t||"",g,A);vt(w,r,"popup-blocked");try{w.focus()}catch{}return new Z_(w)}function tR(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="__/auth/handler",nR="emulator/auth/handler",iR=encodeURIComponent("fac");async function J_(r,t,n,s,l,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:io,eventId:l};if(t instanceof Em){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",jb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,w]of Object.entries({}))f[A]=w}if(t instanceof Kl){const A=t.getScopes().filter(w=>w!=="");A.length>0&&(f.scopes=A.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),_=p?`#${iR}=${encodeURIComponent(p)}`:"";return`${rR(r)}?${Fl(g).slice(1)}${_}`}function rR({config:r}){return r.emulator?gm(r,nR):`https://${r.authDomain}/${eR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="webStorageSupport";class sR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q0,this._completeRedirectFn=Dw,this._overrideRedirectResult=Rw}async _openPopup(t,n,s,l){var c;tr((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await J_(t,n,s,zd(),l);return Ww(t,f,Tm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await J_(t,n,s,zd(),l);return lw(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(tr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Kw(t),s=new xw(t);return n.register("authEvent",l=>(vt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Dd,{type:Dd},l=>{var c;const f=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Dd];f!==void 0&&n(!!f),jn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return P0()||D0()||ym()}}const aR=sR;var W_="@firebase/auth",tv="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uR(r){Ka(new Us("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k0(r)},_=new R1(s,l,c,p);return k1(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ka(new Us("auth-internal",t=>{const n=ts(t.getProvider("auth").getImmediate());return(s=>new oR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(W_,tv,lR(r)),qr(W_,tv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=5*60,hR=f0("authIdTokenMaxAge")||cR;let ev=null;const fR=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>hR)return;const l=n==null?void 0:n.token;ev!==l&&(ev=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function dR(r=_0()){const t=hm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=P1(r,{popupRedirectResolver:aR,persistence:[yw,sw,Q0]}),s=f0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=fR(c.toString());tw(n,f,()=>f(n.currentUser)),W1(n,g=>f(g))}}const l=c0("auth");return l&&U1(n,`http://${l}`),n}function mR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}I1({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Xn("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",mR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uR("Browser");var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,tE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,b){function R(){}R.prototype=b.prototype,O.D=b.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(x,V,M){for(var I=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)I[qt-2]=arguments[qt];return b.prototype[V].apply(x,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,b,R){R||(R=0);var x=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)x[V]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(V=0;16>V;++V)x[V]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=O.g[0],R=O.g[1],V=O.g[2];var M=O.g[3],I=b+(M^R&(V^M))+x[0]+3614090360&4294967295;b=R+(I<<7&4294967295|I>>>25),I=M+(V^b&(R^V))+x[1]+3905402710&4294967295,M=b+(I<<12&4294967295|I>>>20),I=V+(R^M&(b^R))+x[2]+606105819&4294967295,V=M+(I<<17&4294967295|I>>>15),I=R+(b^V&(M^b))+x[3]+3250441966&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(M^R&(V^M))+x[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=M+(V^b&(R^V))+x[5]+1200080426&4294967295,M=b+(I<<12&4294967295|I>>>20),I=V+(R^M&(b^R))+x[6]+2821735955&4294967295,V=M+(I<<17&4294967295|I>>>15),I=R+(b^V&(M^b))+x[7]+4249261313&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(M^R&(V^M))+x[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=M+(V^b&(R^V))+x[9]+2336552879&4294967295,M=b+(I<<12&4294967295|I>>>20),I=V+(R^M&(b^R))+x[10]+4294925233&4294967295,V=M+(I<<17&4294967295|I>>>15),I=R+(b^V&(M^b))+x[11]+2304563134&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(M^R&(V^M))+x[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=M+(V^b&(R^V))+x[13]+4254626195&4294967295,M=b+(I<<12&4294967295|I>>>20),I=V+(R^M&(b^R))+x[14]+2792965006&4294967295,V=M+(I<<17&4294967295|I>>>15),I=R+(b^V&(M^b))+x[15]+1236535329&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(V^M&(R^V))+x[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=M+(R^V&(b^R))+x[6]+3225465664&4294967295,M=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(M^b))+x[11]+643717713&4294967295,V=M+(I<<14&4294967295|I>>>18),I=R+(M^b&(V^M))+x[0]+3921069994&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(V^M&(R^V))+x[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=M+(R^V&(b^R))+x[10]+38016083&4294967295,M=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(M^b))+x[15]+3634488961&4294967295,V=M+(I<<14&4294967295|I>>>18),I=R+(M^b&(V^M))+x[4]+3889429448&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(V^M&(R^V))+x[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=M+(R^V&(b^R))+x[14]+3275163606&4294967295,M=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(M^b))+x[3]+4107603335&4294967295,V=M+(I<<14&4294967295|I>>>18),I=R+(M^b&(V^M))+x[8]+1163531501&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(V^M&(R^V))+x[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=M+(R^V&(b^R))+x[2]+4243563512&4294967295,M=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(M^b))+x[7]+1735328473&4294967295,V=M+(I<<14&4294967295|I>>>18),I=R+(M^b&(V^M))+x[12]+2368359562&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(R^V^M)+x[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=M+(b^R^V)+x[8]+2272392833&4294967295,M=b+(I<<11&4294967295|I>>>21),I=V+(M^b^R)+x[11]+1839030562&4294967295,V=M+(I<<16&4294967295|I>>>16),I=R+(V^M^b)+x[14]+4259657740&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(R^V^M)+x[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=M+(b^R^V)+x[4]+1272893353&4294967295,M=b+(I<<11&4294967295|I>>>21),I=V+(M^b^R)+x[7]+4139469664&4294967295,V=M+(I<<16&4294967295|I>>>16),I=R+(V^M^b)+x[10]+3200236656&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(R^V^M)+x[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=M+(b^R^V)+x[0]+3936430074&4294967295,M=b+(I<<11&4294967295|I>>>21),I=V+(M^b^R)+x[3]+3572445317&4294967295,V=M+(I<<16&4294967295|I>>>16),I=R+(V^M^b)+x[6]+76029189&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(R^V^M)+x[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=M+(b^R^V)+x[12]+3873151461&4294967295,M=b+(I<<11&4294967295|I>>>21),I=V+(M^b^R)+x[15]+530742520&4294967295,V=M+(I<<16&4294967295|I>>>16),I=R+(V^M^b)+x[2]+3299628645&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(V^(R|~M))+x[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=M+(R^(b|~V))+x[7]+1126891415&4294967295,M=b+(I<<10&4294967295|I>>>22),I=V+(b^(M|~R))+x[14]+2878612391&4294967295,V=M+(I<<15&4294967295|I>>>17),I=R+(M^(V|~b))+x[5]+4237533241&4294967295,R=V+(I<<21&4294967295|I>>>11),I=b+(V^(R|~M))+x[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=M+(R^(b|~V))+x[3]+2399980690&4294967295,M=b+(I<<10&4294967295|I>>>22),I=V+(b^(M|~R))+x[10]+4293915773&4294967295,V=M+(I<<15&4294967295|I>>>17),I=R+(M^(V|~b))+x[1]+2240044497&4294967295,R=V+(I<<21&4294967295|I>>>11),I=b+(V^(R|~M))+x[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=M+(R^(b|~V))+x[15]+4264355552&4294967295,M=b+(I<<10&4294967295|I>>>22),I=V+(b^(M|~R))+x[6]+2734768916&4294967295,V=M+(I<<15&4294967295|I>>>17),I=R+(M^(V|~b))+x[13]+1309151649&4294967295,R=V+(I<<21&4294967295|I>>>11),I=b+(V^(R|~M))+x[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=M+(R^(b|~V))+x[11]+3174756917&4294967295,M=b+(I<<10&4294967295|I>>>22),I=V+(b^(M|~R))+x[2]+718787259&4294967295,V=M+(I<<15&4294967295|I>>>17),I=R+(M^(V|~b))+x[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+M&4294967295}s.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var R=b-this.blockSize,x=this.B,V=this.h,M=0;M<b;){if(V==0)for(;M<=R;)l(this,O,M),M+=this.blockSize;if(typeof O=="string"){for(;M<b;)if(x[V++]=O.charCodeAt(M++),V==this.blockSize){l(this,x),V=0;break}}else for(;M<b;)if(x[V++]=O[M++],V==this.blockSize){l(this,x),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var R=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=R&255,R/=256;for(this.u(O),O=Array(16),b=R=0;4>b;++b)for(var x=0;32>x;x+=8)O[R++]=this.g[b]>>>x&255;return O};function c(O,b){var R=g;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=b(O)}function f(O,b){this.h=b;for(var R=[],x=!0,V=O.length-1;0<=V;V--){var M=O[V]|0;x&&M==b||(R[V]=M,x=!1)}this.g=R}var g={};function p(O){return-128<=O&&128>O?c(O,function(b){return new f([b|0],0>b?-1:0)}):new f([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return tt(_(-O));for(var b=[],R=1,x=0;O>=R;x++)b[x]=O/R|0,R*=4294967296;return new f(b,0)}function A(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return tt(A(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(b,8)),x=w,V=0;V<O.length;V+=8){var M=Math.min(8,O.length-V),I=parseInt(O.substring(V,V+M),b);8>M?(M=_(Math.pow(b,M)),x=x.j(M).add(_(I))):(x=x.j(R),x=x.add(_(I)))}return x}var w=p(0),D=p(1),F=p(16777216);r=f.prototype,r.m=function(){if(it(this))return-tt(this).m();for(var O=0,b=1,R=0;R<this.g.length;R++){var x=this.i(R);O+=(0<=x?x:4294967296+x)*b,b*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Z(this))return"0";if(it(this))return"-"+tt(this).toString(O);for(var b=_(Math.pow(O,6)),R=this,x="";;){var V=Mt(R,b).g;R=Tt(R,V.j(b));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=V,Z(R))return M+x;for(;6>M.length;)M="0"+M;x=M+x}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Z(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function it(O){return O.h==-1}r.l=function(O){return O=Tt(this,O),it(O)?-1:Z(O)?0:1};function tt(O){for(var b=O.g.length,R=[],x=0;x<b;x++)R[x]=~O.g[x];return new f(R,~O.h).add(D)}r.abs=function(){return it(this)?tt(this):this},r.add=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],x=0,V=0;V<=b;V++){var M=x+(this.i(V)&65535)+(O.i(V)&65535),I=(M>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);x=I>>>16,M&=65535,I&=65535,R[V]=I<<16|M}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Tt(O,b){return O.add(tt(b))}r.j=function(O){if(Z(this)||Z(O))return w;if(it(this))return it(O)?tt(this).j(tt(O)):tt(tt(this).j(O));if(it(O))return tt(this.j(tt(O)));if(0>this.l(F)&&0>O.l(F))return _(this.m()*O.m());for(var b=this.g.length+O.g.length,R=[],x=0;x<2*b;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<O.g.length;V++){var M=this.i(x)>>>16,I=this.i(x)&65535,qt=O.i(V)>>>16,re=O.i(V)&65535;R[2*x+2*V]+=I*re,ot(R,2*x+2*V),R[2*x+2*V+1]+=M*re,ot(R,2*x+2*V+1),R[2*x+2*V+1]+=I*qt,ot(R,2*x+2*V+1),R[2*x+2*V+2]+=M*qt,ot(R,2*x+2*V+2)}for(x=0;x<b;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=b;x<2*b;x++)R[x]=0;return new f(R,0)};function ot(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function ct(O,b){this.g=O,this.h=b}function Mt(O,b){if(Z(b))throw Error("division by zero");if(Z(O))return new ct(w,w);if(it(O))return b=Mt(tt(O),b),new ct(tt(b.g),tt(b.h));if(it(b))return b=Mt(O,tt(b)),new ct(tt(b.g),b.h);if(30<O.g.length){if(it(O)||it(b))throw Error("slowDivide_ only works with positive integers.");for(var R=D,x=b;0>=x.l(O);)R=yt(R),x=yt(x);var V=St(R,1),M=St(x,1);for(x=St(x,2),R=St(R,2);!Z(x);){var I=M.add(x);0>=I.l(O)&&(V=V.add(R),M=I),x=St(x,1),R=St(R,1)}return b=Tt(O,V.j(b)),new ct(V,b)}for(V=w;0<=O.l(b);){for(R=Math.max(1,Math.floor(O.m()/b.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),M=_(R),I=M.j(b);it(I)||0<I.l(O);)R-=x,M=_(R),I=M.j(b);Z(M)&&(M=D),V=V.add(M),O=Tt(O,I)}return new ct(V,O)}r.A=function(O){return Mt(this,O).h},r.and=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],x=0;x<b;x++)R[x]=this.i(x)&O.i(x);return new f(R,this.h&O.h)},r.or=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],x=0;x<b;x++)R[x]=this.i(x)|O.i(x);return new f(R,this.h|O.h)},r.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],x=0;x<b;x++)R[x]=this.i(x)^O.i(x);return new f(R,this.h^O.h)};function yt(O){for(var b=O.g.length+1,R=[],x=0;x<b;x++)R[x]=O.i(x)<<1|O.i(x-1)>>>31;return new f(R,O.h)}function St(O,b){var R=b>>5;b%=32;for(var x=O.g.length-R,V=[],M=0;M<x;M++)V[M]=0<b?O.i(M+R)>>>b|O.i(M+R+1)<<32-b:O.i(M+R);return new f(V,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,tE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=A,Hr=f}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eE,bl,nE,xc,Fd,iE,rE,sE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,U={next:function(){if(!T&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function w(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function D(u,m,y){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:w,D.apply(null,arguments)}function F(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,U,q){for(var nt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)nt[Lt-2]=arguments[Lt];return m.prototype[U].apply(T,nt)}}function it(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function tt(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const U=u.length||0,q=T.length||0;u.length=U+q;for(let nt=0;nt<q;nt++)u[U+nt]=T[nt]}else u.push(T)}}class Tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ot(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Mt(u){return Mt[" "](u),u}Mt[" "]=function(){};var yt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function St(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function O(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function b(u){const m={};for(const y in u)m[y]=u[y];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let q=0;q<R.length;q++)y=R[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function V(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function M(u){g.setTimeout(()=>{throw u},0)}function I(){var u=Dt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class qt{constructor(){this.h=this.g=null}add(m,y){const T=re.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new Tt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ut=!1,Dt=new qt,C=()=>{const u=g.Promise.resolve(void 0);rt=()=>{u.then(K)}};var K=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(y){M(y)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ut=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function It(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(yt){t:{try{Mt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&It.aa.h.call(this)}}Z(It,W);var mt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Ht=0;function hn(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++Ht,this.da=this.fa=!1}function fn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zn(u){this.src=u,this.g={},this.h=0}zn.prototype.add=function(u,m,y,T,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var nt=Ei(u,m,T,U);return-1<nt?(m=u[nt],y||(m.fa=!1)):(m=new hn(m,this.src,q,!!T,U),m.fa=y,u.push(m)),m};function Bn(u,m){var y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(T,U,1),q&&(fn(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Ei(u,m,y,T){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return U}return-1}var Ti="closure_lm_"+(1e6*Math.random()|0),dn={};function Qs(u,m,y,T,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Qs(u,m[q],y,T,U);return null}return y=Ys(y),u&&u[fe]?u.K(m,y,_(T)?!!T.capture:!1,U):rn(u,m,y,!1,T,U)}function rn(u,m,y,T,U,q){if(!m)throw Error("Invalid event type");var nt=_(U)?!!U.capture:!!U,Lt=sr(u);if(Lt||(u[Ti]=Lt=new zn(u)),y=Lt.add(m,y,T,nt,q),y.proxy)return y;if(T=Ks(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ft||(U=nt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Ai(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ks(){function u(y){return m.call(u.src,u.listener,y)}const m=co;return u}function es(u,m,y,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)es(u,m[q],y,T,U);else T=_(T)?!!T.capture:!!T,y=Ys(y),u&&u[fe]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=Ei(q,y,T,U),-1<y&&(fn(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=sr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ei(m,y,T,U)),(y=-1<u?m[u]:null)&&rr(y))}function rr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])Bn(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Ai(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=sr(m))?(Bn(y,u),y.h==0&&(y.src=null,m[Ti]=null)):fn(u)}}}function Ai(u){return u in dn?dn[u]:dn[u]="on"+u}function co(u,m){if(u.da)u=!0;else{m=new It(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&rr(u),u=y.call(T,m)}return u}function sr(u){return u=u[Ti],u instanceof zn?u:null}var ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ys(u){return typeof u=="function"?u:(u[ar]||(u[ar]=function(m){return u.handleEvent(m)}),u[ar])}function se(){et.call(this),this.i=new zn(this),this.M=this,this.F=null}Z(se,et),se.prototype[fe]=!0,se.prototype.removeEventListener=function(u,m,y,T){es(this,u,m,y,T)};function Gt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var U=m;m=new W(T,u),x(m,U)}if(U=!0,y)for(var q=y.length-1;0<=q;q--){var nt=m.g=y[q];U=G(nt,T,!0,m)&&U}if(nt=m.g=u,U=G(nt,T,!0,m)&&U,U=G(nt,T,!1,m)&&U,y)for(q=0;q<y.length;q++)nt=m.g=y[q],U=G(nt,T,!1,m)&&U}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)fn(y[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},se.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function G(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var nt=m[q];if(nt&&!nt.da&&nt.capture==y){var Lt=nt.listener,Re=nt.ha||nt.src;nt.fa&&Bn(u.i,nt),U=Lt.call(Re,T)!==!1&&U}}return U&&!T.defaultPrevented}function _t(u,m,y){if(typeof u=="function")y&&(u=D(u,y));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function _e(u){u.g=_t(()=>{u.g=null,u.i&&(u.i=!1,_e(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sn extends et{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_e(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function de(u){et.call(this),this.h=u,this.g={}}Z(de,et);var Sn=[];function wn(u){St(u.g,function(m,y){this.g.hasOwnProperty(y)&&rr(m)},u),u.g={}}de.prototype.N=function(){de.aa.N.call(this),wn(this)},de.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=g.JSON.stringify,bi=g.JSON.parse,Jn=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function ho(){}ho.prototype.h=null;function fo(u){return u.h||(u.h=u.i())}function mo(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){W.call(this,"d")}Z(wi,W);function go(){W.call(this,"c")}Z(go,W);var Wn={},po=null;function or(){return po=po||new se}Wn.La="serverreachability";function Xs(u){W.call(this,Wn.La,u)}Z(Xs,W);function lr(u){const m=or();Gt(m,new Xs(m))}Wn.STAT_EVENT="statevent";function tu(u,m){W.call(this,Wn.STAT_EVENT,u),this.stat=m}Z(tu,W);function ae(u){const m=or();Gt(m,new tu(m,u))}Wn.Ma="timingevent";function we(u,m){W.call(this,Wn.Ma,u),this.size=m}Z(we,W);function ve(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function yo(u,m,y,T,U,q){u.info(function(){if(u.g)if(q)for(var nt="",Lt=q.split("&"),Re=0;Re<Lt.length;Re++){var jt=Lt[Re].split("=");if(1<jt.length){var Me=jt[0];jt=jt[1];var Ie=Me.split("_");nt=2<=Ie.length&&Ie[1]=="type"?nt+(Me+"="+jt+"&"):nt+(Me+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+nt})}function vh(u,m,y,T,U,q,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+q+" "+nt})}function ur(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ns(u,y)+(T?" "+T:"")})}function eu(u,m){u.info(function(){return"TIMEOUT: "+m})}Rn.prototype.info=function(){};function ns(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<U.length;nt++)U[nt]=""}}}}return mn(y)}catch{return m}}var cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ei(){}Z(ei,ho),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},ti=new ei;function We(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new de(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var _o={},$s={};function qn(u,m,y){u.L=1,u.v=os(gn(m)),u.m=y,u.P=!0,Ii(u,null)}function Ii(u,m){u.F=Date.now(),is(u),u.A=gn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),So(y.i,"t",T),u.C=0,y=u.j.J,u.h=new me,u.g=yu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new sn(D(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Sn[0]=U.toString()),U=Sn);for(var q=0;q<U.length;q++){var nt=Qs(y,U[q],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),lr(),yo(u.i,u.u,u.A,u.l,u.R,u.m)}We.prototype.ca=function(u){u=u.target;const m=this.M;m&&Nn(u)==3?m.j():this.Y(u)},We.prototype.Y=function(u){try{if(u==this.g)t:{const Ie=Nn(this.g);var m=this.g.Ba();const Pi=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||uu(this.g)))){this.J||Ie!=4||m==7||(m==8||0>=Pi?lr(3):lr(2)),hr(this);var y=this.g.Z();this.X=y;e:if(nu(this)){var T=uu(this.g);u="";var U=T.length,q=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),ni(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=y==200,vh(this.i,this.u,this.A,this.l,this.R,Ie,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Re=this.g;if((Lt=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Lt)){var jt=Lt;break e}}jt=null}if(y=jt)ur(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rs(this,y);else{this.o=!1,this.s=3,ae(12),Le(this),ni(this);break t}}if(this.P){y=!0;let je;for(;!this.J&&this.C<nt.length;)if(je=iu(this,nt),je==$s){Ie==4&&(this.s=4,ae(14),y=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(je==_o){this.s=4,ae(15),ur(this.i,this.l,nt,"[Invalid Chunk]"),y=!1;break}else ur(this.i,this.l,je,null),rs(this,je);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||nt.length!=0||this.h.h||(this.s=1,ae(16),y=!1),this.o=this.o&&y,!y)ur(this.i,this.l,nt,"[Invalid Chunked Response]"),Le(this),ni(this);else if(0<nt.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),gs(Me),Me.M=!0,ae(11))}}else ur(this.i,this.l,nt,null),rs(this,nt);Ie==4&&Le(this),this.o&&!this.J&&(Ie==4?mu(this.j,this):(this.o=!1,is(this)))}else Sh(this.g),y==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),Le(this),ni(this)}}}catch{}finally{}};function nu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function iu(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?$s:(y=Number(m.substring(y,T)),isNaN(y)?_o:(T+=1,T+y>m.length?$s:(m=m.slice(T,T+y),u.C=T+y,m)))}We.prototype.cancel=function(){this.J=!0,Le(this)};function is(u){u.S=Date.now()+u.I,ru(u,u.I)}function ru(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ve(D(u.ba,u),m)}function hr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}We.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(eu(this.i,this.A),this.L!=2&&(lr(),ae(17)),Le(this),this.s=2,ni(this)):ru(this,this.S-u)};function ni(u){u.j.G==0||u.J||mu(u.j,u)}function Le(u){hr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,wn(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function rs(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||vo(y.h,u))){if(!u.K&&vo(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)la(y),aa(y);else break t;Do(y),ae(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=ve(D(y.Za,y),6e3));if(1>=Js(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Vi(y,11)}else if((u.K||y.g==u)&&la(y),!ot(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let jt=U[m];if(y.T=jt[0],jt=jt[1],y.G==2)if(jt[0]=="c"){y.K=jt[1],y.ia=jt[2];const Me=jt[3];Me!=null&&(y.la=Me,y.j.info("VER="+y.la));const Ie=jt[4];Ie!=null&&(y.Aa=Ie,y.j.info("SVER="+y.Aa));const Pi=jt[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(T=1.5*Pi,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const je=u.g;if(je){const ui=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var q=T.h;q.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ws(q,q.h),q.h=null))}if(T.D){const xo=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(T.ya=xo,Zt(T.I,T.D,xo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var nt=u;if(T.qa=pu(T,T.J?T.ia:null,T.W),nt.K){tn(T.h,nt);var Lt=nt,Re=T.L;Re&&(Lt.I=Re),Lt.B&&(hr(Lt),is(Lt)),T.g=nt}else fu(T);0<y.i.length&&oa(y)}else jt[0]!="stop"&&jt[0]!="close"||Vi(y,7);else y.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Vi(y,7):Io(y):jt[0]!="noop"&&y.l&&y.l.ta(jt),y.v=0)}}lr(4)}catch{}}var su=class{constructor(u,m){this.g=u,this.map=m}};function Ci(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Js(u){return u.h?1:u.g?u.g.size:0}function vo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ws(u,m){u.g?u.g.add(m):u.h=m}function tn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ci.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return it(u.i)}function Eh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function ta(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function To(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=ta(u),T=Eh(u),U=T.length,q=0;q<U;q++)m.call(void 0,T[q],y&&y[q],u)}var ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Th(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),U=null;if(0<=T){var q=u[y].substring(0,T);U=u[y].substring(T+1)}else q=u[y];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ee(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ee){this.h=u.h,as(this,u.j),this.o=u.o,this.g=u.g,fr(this,u.s),this.l=u.l;var m=u.i,y=new Ni;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Di(this,y),this.m=u.m}else u&&(m=String(u).match(ss))?(this.h=!1,as(this,m[1]||"",!0),this.o=In(m[2]||""),this.g=In(m[3]||"",!0),fr(this,m[4]),this.l=In(m[5]||"",!0),Di(this,m[6]||"",!0),this.m=In(m[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}Ee.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ls(m,Ao,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ls(m,Ao,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ls(y,y.charAt(0)=="/"?Ah:bo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ls(y,ea)),u.join("")};function gn(u){return new Ee(u)}function as(u,m,y){u.j=y?In(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function fr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Di(u,m,y){m instanceof Ni?(u.i=m,ou(u.i,u.h)):(y||(m=ls(m,bh)),u.i=new Ni(m,u.h))}function Zt(u,m,y){u.i.set(m,y)}function os(u){return Zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function In(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ls(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,au),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function au(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ao=/[#\/\?@]/g,bo=/[#\?:]/g,Ah=/[#\?]/g,bh=/[#\?@]/g,ea=/#/g;function Ni(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Cn(u){u.g||(u.g=new Map,u.h=0,u.i&&Th(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Ni.prototype,r.add=function(u,m){Cn(this),this.i=null,u=ii(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function xi(u,m){Cn(u),m=ii(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oi(u,m){return Cn(u),m=ii(u,m),u.g.has(m)}r.forEach=function(u,m){Cn(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)},r.na=function(){Cn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const U=u[T];for(let q=0;q<U.length;q++)y.push(m[T])}return y},r.V=function(u){Cn(this);let m=[];if(typeof u=="string")Oi(this,u)&&(m=m.concat(this.g.get(ii(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return Cn(this),this.i=null,u=ii(this,u),Oi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function So(u,m,y){xi(u,m),0<y.length&&(u.i=null,u.g.set(ii(u,m),it(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const q=encodeURIComponent(String(T)),nt=this.V(T);for(T=0;T<nt.length;T++){var U=q;nt[T]!==""&&(U+="="+encodeURIComponent(String(nt[T]))),u.push(U)}}return this.i=u.join("&")};function ii(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ou(u,m){m&&!u.j&&(Cn(u),u.i=null,u.g.forEach(function(y,T){var U=T.toLowerCase();T!=U&&(xi(this,T),So(this,U,y))},u)),u.j=m}function us(u,m){const y=new Rn;if(g.Image){const T=new Image;T.onload=F(Dn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=F(Dn,y,"TestLoadImage: error",!1,m,T),T.onabort=F(Dn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=F(Dn,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Hn(u,m){const y=new Rn,T=new AbortController,U=setTimeout(()=>{T.abort(),Dn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?Dn(y,"TestPingServer: ok",!0,m):Dn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Dn(y,"TestPingServer: error",!1,m)})}function Dn(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function cs(){this.g=new Jn}function ri(u,m,y){const T=y||"";try{To(u,function(U,q){let nt=U;_(U)&&(nt=mn(U)),m.push(T+q+"="+encodeURIComponent(nt))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function dr(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(dr,ho),dr.prototype.g=function(){return new Mi(this.l,this.j)},dr.prototype.i=function(u){return function(){return u}}({});function Mi(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(Mi,se),r=Mi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ai(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function wo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?si(this):ai(this),this.readyState==3&&wo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,si(this))},r.Qa=function(u){this.g&&(this.response=u,si(this))},r.ga=function(){this.g&&si(this)};function si(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ai(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function ai(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ro(u){let m="";return St(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Oe(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Ro(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Zt(u,m,y))}function Kt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Kt,se);var na=/^https?$/i,hs=["POST","PUT"];r=Kt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?fo(this.o):fo(ti),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){lu(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(hs,m,void 0))||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of y)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fs(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){lu(this,q)}};function lu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ia(u),oi(u)}function ia(u){u.A||(u.A=!0,Gt(u,"complete"),Gt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Gt(this,"complete"),Gt(this,"abort"),oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),Kt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ra(this):this.bb())},r.bb=function(){ra(this)};function ra(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Nn(u)!=4||u.Z()!=2)){if(u.u&&Nn(u)==4)_t(u.Ea,0,u);else if(Gt(u,"readystatechange"),Nn(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=nt===0){var U=String(u.D).match(ss)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!na.test(U?U.toLowerCase():"")}y=T}if(y)Gt(u,"complete"),Gt(u,"success");else{u.m=6;try{var q=2<Nn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",ia(u)}}finally{oi(u)}}}}function oi(u,m){if(u.g){fs(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Gt(u,"ready");try{y.onreadystatechange=T}catch{}}}function fs(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Nn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),bi(m)}};function uu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Sh(u){const m={};u=(u.g&&2<=Nn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ot(u[T]))continue;var y=V(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[U]||[];m[U]=q,q.push(y)}O(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function sa(u){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,u),this.cb=ds("retryDelaySeedMs",1e4,u),this.Wa=ds("forwardChannelMaxRetries",2,u),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(u&&u.concurrentRequestLimit),this.Da=new cs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=sa.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){ae(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=pu(this,null,this.W),oa(this)};function Io(u){if(cu(u),u.G==3){var m=u.U++,y=gn(u.I);if(Zt(y,"SID",u.K),Zt(y,"RID",m),Zt(y,"TYPE","terminate"),ms(u,y),m=new We(u,u.j,m),m.L=2,m.v=os(gn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=yu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),is(m)}gu(u)}function aa(u){u.g&&(gs(u),u.g.cancel(),u.g=null)}function cu(u){aa(u),u.u&&(g.clearTimeout(u.u),u.u=null),la(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function oa(u){if(!Zs(u.h)&&!u.s){u.s=!0;var m=u.Ga;rt||C(),ut||(rt(),ut=!0),Dt.add(m,u),u.B=0}}function wh(u,m){return Js(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ve(D(u.Ga,u,m),No(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new We(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),x(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=hu(this,U,m),y=gn(this.I),Zt(y,"RID",u),Zt(y,"CVER",22),this.D&&Zt(y,"X-HTTP-Session-Id",this.D),ms(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(Ro(q)))+"&"+m:this.m&&Oe(y,this.m,q)),Ws(this.h,U),this.Ua&&Zt(y,"TYPE","init"),this.P?(Zt(y,"$req",m),Zt(y,"SID","null"),U.T=!0,qn(U,y,null)):qn(U,y,m),this.G=2}}else this.G==3&&(u?Co(this,u):this.i.length==0||Zs(this.h)||Co(this))};function Co(u,m){var y;m?y=m.l:y=u.U++;const T=gn(u.I);Zt(T,"SID",u.K),Zt(T,"RID",y),Zt(T,"AID",u.T),ms(u,T),u.m&&u.o&&Oe(T,u.m,u.o),y=new We(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=hu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ws(u.h,y),qn(y,T,m)}function ms(u,m){u.H&&St(u.H,function(y,T){Zt(m,T,y)}),u.l&&To({},function(y,T){Zt(m,T,y)})}function hu(u,m,y){y=Math.min(u.i.length,y);var T=u.l?D(u.l.Na,u.l,u):null;t:{var U=u.i;let q=-1;for(;;){const nt=["count="+y];q==-1?0<y?(q=U[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let Lt=!0;for(let Re=0;Re<y;Re++){let jt=U[Re].g;const Me=U[Re].map;if(jt-=q,0>jt)q=Math.max(0,U[Re].g-100),Lt=!1;else try{ri(Me,nt,"req"+jt+"_")}catch{T&&T(Me)}}if(Lt){T=nt.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function fu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;rt||C(),ut||(rt(),ut=!0),Dt.add(m,u),u.v=0}}function Do(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ve(D(u.Fa,u),No(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ve(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),aa(this),du(this))};function gs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function du(u){u.g=new We(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=gn(u.qa);Zt(m,"RID","rpc"),Zt(m,"SID",u.K),Zt(m,"AID",u.T),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Zt(m,"TO",u.ja),Zt(m,"TYPE","xmlhttp"),ms(u,m),u.m&&u.o&&Oe(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=os(gn(m)),y.m=null,y.P=!0,Ii(y,u)}r.Za=function(){this.C!=null&&(this.C=null,aa(this),Do(this),ae(19))};function la(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function mu(u,m){var y=null;if(u.g==m){la(u),gs(u),u.g=null;var T=2}else if(vo(u.h,m))y=m.D,tn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=or(),Gt(T,new we(T,y)),oa(u)}else fu(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&wh(u,m)||T==2&&Do(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:Vi(u,5);break;case 4:Vi(u,10);break;case 3:Vi(u,6);break;default:Vi(u,2)}}}function No(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Vi(u,m){if(u.j.info("Error code "+m),m==2){var y=D(u.fb,u),T=u.Xa;const U=!T;T=new Ee(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||as(T,"https"),os(T),U?us(T.toString(),y):Hn(T.toString(),y)}else ae(2);u.G=0,u.l&&u.l.sa(m),gu(u),cu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function gu(u){if(u.G=0,u.ka=[],u.l){const m=Eo(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ka,m),tt(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function pu(u,m,y){var T=y instanceof Ee?gn(y):new Ee(y);if(T.g!="")m&&(T.g=m+"."+T.g),fr(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new Ee(null);T&&as(q,T),m&&(q.g=m),U&&fr(q,U),y&&(q.l=y),T=q}return y=u.D,m=u.ya,y&&m&&Zt(T,y,m),Zt(T,"VER",u.la),ms(u,T),T}function yu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Kt(new dr({eb:y})):new Kt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ua(){}ua.prototype.g=function(u,m){return new en(u,m)};function en(u,m){se.call(this),this.g=new sa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ot(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ot(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new li(this)}Z(en,se),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Io(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=mn(u),u=y);m.i.push(new su(m.Ya++,u)),m.G==3&&oa(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,en.aa.N.call(this)};function vu(u){wi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(vu,wi);function Eu(){go.call(this),this.status=1}Z(Eu,go);function li(u){this.g=u}Z(li,_u),li.prototype.ua=function(){Gt(this.g,"a")},li.prototype.ta=function(u){Gt(this.g,new vu(u))},li.prototype.sa=function(u){Gt(this.g,new Eu)},li.prototype.ra=function(){Gt(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,sE=function(){return new ua},rE=function(){return or()},iE=Wn,Fd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,xc=cr,Ri.COMPLETE="complete",nE=Ri,mo.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",se.prototype.listen=se.prototype.K,bl=mo,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,eE=Kt}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const iv="@firebase/firestore",rv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new um("@firebase/firestore");function ja(){return zs.logLevel}function st(r,...t){if(zs.logLevel<=kt.DEBUG){const n=t.map(bm);zs.debug(`Firestore (${so}): ${r}`,...n)}}function er(r,...t){if(zs.logLevel<=kt.ERROR){const n=t.map(bm);zs.error(`Firestore (${so}): ${r}`,...n)}}function Ya(r,...t){if(zs.logLevel<=kt.WARN){const n=t.map(bm);zs.warn(`Firestore (${so}): ${r}`,...n)}}function bm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,aE(r,s,n)}function aE(r,t,n){let s=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw er(s),new Error(s)}function Yt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||aE(t,l,s)}function Rt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ir{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}}class pR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yR{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ps,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ps)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new oE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class _R{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new _R(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ER{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=TR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function Gd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return xt(s,l);{const c=lE(),f=AR(c.encode(av(r,n)),c.encode(av(t,n)));return f!==0?f:xt(s,l)}}n+=s>65535?2:1}return xt(r.length,t.length)}function av(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function AR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return xt(r[n],t[n]);return xt(r.length,t.length)}function Xa(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=-62135596800,lv=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(t){return Ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*lv);return new Ne(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<ov)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-ov;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new Ne(0,0))}static max(){return new bt(new Ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="__name__";class gi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return gi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof gi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=gi.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return xt(t.length,n.length)}static compareSegments(t,n){const s=gi.isNumericId(t),l=gi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?gi.extractNumericId(t).compare(gi.extractNumericId(n)):Gd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class ie extends gi{construct(t,n,s){return new ie(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new ie(n)}static emptyPath(){return new ie([])}}const bR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends gi{construct(t,n,s){return new Fe(t,n,s)}static isValidIdentifier(t){return bR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uv}static keyField(){return new Fe([uv])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(c(),l++)}if(c(),f)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(n)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ie.fromString(t))}static fromName(t){return new dt(ie.fromString(t).popFirst(5))}static empty(){return new dt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function SR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(s===1e9?new Ne(n+1,0):new Ne(n,s));return new Qr(l,dt.empty(),t)}function wR(r){return new Qr(r.readTime,r.key,kl)}class Qr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Qr(bt.min(),dt.empty(),kl)}static max(){return new Qr(bt.max(),dt.empty(),kl)}}function RR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:xt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==IR)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$.reject(n)}static resolve(t){return new $((n,s)=>{n(t)})}static reject(t){return new $((n,s)=>{s(t)})}static waitFor(t){return new $((n,s)=>{let l=0,c=0,f=!1;t.forEach(g=>{++l,g.next(()=>{++c,f&&c===l&&n()},p=>s(p))}),f=!0,c===l&&n()})}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next(l=>l?$.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new $((s,l)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(A=>{f[_]=A,++g,g===c&&s(f)},A=>l(A))}})}static doWhile(t,n){return new $((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function DR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}ah.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=-1;function oh(r){return r==null}function Gc(r){return r===0&&1/r==-1/0}function NR(r){return typeof r=="number"&&Number.isInteger(r)&&!Gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="";function xR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=cv(t)),t=OR(r.get(n),t);return cv(t)}function OR(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case cE:n+="";break;default:n+=c}}return n}function cv(r){return r+cE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function qs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function hE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,n){this.comparator=t,this.root=n||He.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bc(this.root,t,this.comparator,!0)}}class bc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??He.RED,this.left=l??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new He(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new He(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new fv(this.data.getIterator())}getIteratorFrom(t){return new fv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class fv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Yn([])}unionWith(t){let n=new xe(Fe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Yn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fE("Invalid base64 string: "+c):c}}(t);return new Ge(n)}static fromUint8Array(t){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(t);return new Ge(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const MR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const n=MR.exec(r);if(Yt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Yr(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="server_timestamp",mE="__type__",gE="__previous_value__",pE="__local_write_time__";function wm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[mE])===null||n===void 0?void 0:n.stringValue)===dE}function lh(r){const t=r.mapValue.fields[gE];return wm(t)?lh(t):t}function Ul(r){const t=Kr(r.mapValue.fields[pE].timestampValue);return new Ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,n,s,l,c,f,g,p,_,A){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=A}}const Qc="(default)";class Ll{constructor(t,n){this.projectId=t,this.database=n||Qc}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(t){return t instanceof Ll&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="__type__",PR="__max__",Sc={mapValue:{}},_E="__vector__",Kc="value";function Xr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wm(r)?4:UR(r)?9007199254740991:kR(r)?10:11:Et(28295,{value:r})}function vi(r,t){if(r===t)return!0;const n=Xr(r);if(n!==Xr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ul(r).isEqual(Ul(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Kr(l.timestampValue),g=Kr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Yr(l.bytesValue).isEqual(Yr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=ye(l.doubleValue),g=ye(c.doubleValue);return f===g?Gc(f)===Gc(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return Xa(r.arrayValue.values||[],t.arrayValue.values||[],vi);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(hv(f)!==hv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!vi(f[p],g[p])))return!1;return!0}(r,t);default:return Et(52216,{left:r})}}function jl(r,t){return(r.values||[]).find(n=>vi(n,t))!==void 0}function $a(r,t){if(r===t)return 0;const n=Xr(r),s=Xr(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return function(c,f){const g=ye(c.integerValue||c.doubleValue),p=ye(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return dv(r.timestampValue,t.timestampValue);case 4:return dv(Ul(r),Ul(t));case 5:return Gd(r.stringValue,t.stringValue);case 6:return function(c,f){const g=Yr(c),p=Yr(f);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const A=xt(g[_],p[_]);if(A!==0)return A}return xt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const g=xt(ye(c.latitude),ye(f.latitude));return g!==0?g:xt(ye(c.longitude),ye(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return mv(r.arrayValue,t.arrayValue);case 10:return function(c,f){var g,p,_,A;const w=c.fields||{},D=f.fields||{},F=(g=w[Kc])===null||g===void 0?void 0:g.arrayValue,Z=(p=D[Kc])===null||p===void 0?void 0:p.arrayValue,it=xt(((_=F==null?void 0:F.values)===null||_===void 0?void 0:_.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:mv(F,Z)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===Sc.mapValue&&f===Sc.mapValue)return 0;if(c===Sc.mapValue)return 1;if(f===Sc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=f.fields||{},A=Object.keys(_);p.sort(),A.sort();for(let w=0;w<p.length&&w<A.length;++w){const D=Gd(p[w],A[w]);if(D!==0)return D;const F=$a(g[p[w]],_[A[w]]);if(F!==0)return F}return xt(p.length,A.length)}(r.mapValue,t.mapValue);default:throw Et(23264,{Pe:n})}}function dv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const n=Kr(r),s=Kr(t),l=xt(n.seconds,s.seconds);return l!==0?l:xt(n.nanos,s.nanos)}function mv(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=$a(n[l],s[l]);if(c)return c}return xt(n.length,s.length)}function Za(r){return Qd(r)}function Qd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Kr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Yr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return dt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Qd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Qd(n.fields[f])}`;return l+"}"}(r.mapValue):Et(61005,{value:r})}function Oc(r){switch(Xr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lh(r);return t?16+Oc(t):16;case 5:return 2*r.stringValue.length;case 6:return Yr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Oc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return qs(s.fields,(c,f)=>{l+=c.length+Oc(f)}),l}(r.mapValue);default:throw Et(13486,{value:r})}}function gv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Kd(r){return!!r&&"integerValue"in r}function Rm(r){return!!r&&"arrayValue"in r}function pv(r){return!!r&&"nullValue"in r}function yv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mc(r){return!!r&&"mapValue"in r}function kR(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[yE])===null||n===void 0?void 0:n.stringValue)===_E}function Dl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return qs(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Dl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Dl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function UR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===PR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.value=t}static empty(){return new Ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Mc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(n)}setAll(t){let n=Fe.emptyPath(),s={},l=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=Dl(f):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return vi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){qs(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Ln(Dl(this.value))}}function vE(r){const t=[];return qs(r.fields,(n,s)=>{const l=new Fe([n]);if(Mc(s)){const c=vE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)}),new Yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,n,s,l,c,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,bt.min(),bt.min(),bt.min(),Ln.empty(),0)}static newFoundDocument(t,n,s,l){return new $e(t,1,n,bt.min(),s,l,0)}static newNoDocument(t,n){return new $e(t,2,n,bt.min(),bt.min(),Ln.empty(),0)}static newUnknownDocument(t,n){return new $e(t,3,n,bt.min(),bt.min(),Ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n){this.position=t,this.inclusive=n}}function _v(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],f=r.position[l];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(f.referenceValue),n.key):s=$a(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function vv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!vi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n="asc"){this.field=t,this.dir=n}}function LR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{}class Se extends EE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new zR(t,n,s):n==="array-contains"?new HR(t,s):n==="in"?new FR(t,s):n==="not-in"?new GR(t,s):n==="array-contains-any"?new QR(t,s):new Se(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new BR(t,s):new qR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($a(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison($a(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends EE{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Zn(t,n)}matches(t){return TE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function TE(r){return r.op==="and"}function AE(r){return jR(r)&&TE(r)}function jR(r){for(const t of r.filters)if(t instanceof Zn)return!1;return!0}function Yd(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(AE(r))return r.filters.map(t=>Yd(t)).join(",");{const t=r.filters.map(n=>Yd(n)).join(",");return`${r.op}(${t})`}}function bE(r,t){return r instanceof Se?function(s,l){return l instanceof Se&&s.op===l.op&&s.field.isEqual(l.field)&&vi(s.value,l.value)}(r,t):r instanceof Zn?function(s,l){return l instanceof Zn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,f,g)=>c&&bE(f,l.filters[g]),!0):!1}(r,t):void Et(19439)}function SE(r){return r instanceof Se?function(n){return`${n.field.canonicalString()} ${n.op} ${Za(n.value)}`}(r):r instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(SE).join(" ,")+"}"}(r):"Filter"}class zR extends Se{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class BR extends Se{constructor(t,n){super(t,"in",n),this.keys=wE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class qR extends Se{constructor(t,n){super(t,"not-in",n),this.keys=wE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function wE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>dt.fromName(s.referenceValue))}class HR extends Se{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Rm(n)&&jl(n.arrayValue,this.value)}}class FR extends Se{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class GR extends Se{constructor(t,n){super(t,"not-in",n)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jl(this.value.arrayValue,n)}}class QR extends Se{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Rm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,n=null,s=[],l=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Ie=null}}function Ev(r,t=null,n=[],s=[],l=null,c=null,f=null){return new KR(r,t,n,s,l,c,f)}function Im(r){const t=Rt(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Yd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),oh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Za(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Za(s)).join(",")),t.Ie=n}return t.Ie}function Cm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!LR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!bE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!vv(r.startAt,t.startAt)&&vv(r.endAt,t.endAt)}function Xd(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t,n=null,s=[],l=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function YR(r,t,n,s,l,c,f,g){return new Xl(r,t,n,s,l,c,f,g)}function Dm(r){return new Xl(r)}function Tv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function RE(r){return r.collectionGroup!==null}function Nl(r){const t=Rt(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new xe(Fe.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new Xc(c,s))}),n.has(Fe.keyField().canonicalString())||t.Ee.push(new Xc(Fe.keyField(),s))}return t.Ee}function yi(r){const t=Rt(r);return t.de||(t.de=XR(t,Nl(r))),t.de}function XR(r,t){if(r.limitType==="F")return Ev(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Xc(l.field,c)});const n=r.endAt?new Yc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Yc(r.startAt.position,r.startAt.inclusive):null;return Ev(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function $d(r,t){const n=r.filters.concat([t]);return new Xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Zd(r,t,n){return new Xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function uh(r,t){return Cm(yi(r),yi(t))&&r.limitType===t.limitType}function IE(r){return`${Im(yi(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>SE(l)).join(", ")}]`),oh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Za(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Za(l)).join(",")),`Target(${s})`}(yi(r))}; limitType=${r.limitType})`}function ch(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of Nl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(f,g,p){const _=_v(f,g,p);return f.inclusive?_<=0:_<0}(s.startAt,Nl(s),l)||s.endAt&&!function(f,g,p){const _=_v(f,g,p);return f.inclusive?_>=0:_>0}(s.endAt,Nl(s),l))}(r,t)}function $R(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function CE(r){return(t,n)=>{let s=!1;for(const l of Nl(r)){const c=ZR(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function ZR(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):function(c,f,g){const p=f.data.field(c),_=g.data.field(c);return p!==null&&_!==null?$a(p,_):Et(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){qs(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return hE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new ue(dt.comparator);function nr(){return JR}const DE=new ue(dt.comparator);function Sl(...r){let t=DE;for(const n of r)t=t.insert(n.key,n);return t}function NE(r){let t=DE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Vs(){return xl()}function xE(){return xl()}function xl(){return new Hs(r=>r.toString(),(r,t)=>r.isEqual(t))}const WR=new ue(dt.comparator),tI=new xe(dt.comparator);function Ut(...r){let t=tI;for(const n of r)t=t.add(n);return t}const eI=new xe(xt);function nI(){return eI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function OE(r){return{integerValue:""+r}}function iI(r,t){return NR(t)?OE(t):Nm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function rI(r,t,n){return r instanceof zl?function(l,c){const f={fields:{[mE]:{stringValue:dE},[pE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&wm(c)&&(c=lh(c)),c&&(f.fields[gE]=c),{mapValue:f}}(n,t):r instanceof Bl?VE(r,t):r instanceof ql?PE(r,t):function(l,c){const f=ME(l,c),g=Av(f)+Av(l.Re);return Kd(f)&&Kd(l.Re)?OE(g):Nm(l.serializer,g)}(r,t)}function sI(r,t,n){return r instanceof Bl?VE(r,t):r instanceof ql?PE(r,t):n}function ME(r,t){return r instanceof $c?function(s){return Kd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class zl extends hh{}class Bl extends hh{constructor(t){super(),this.elements=t}}function VE(r,t){const n=kE(t);for(const s of r.elements)n.some(l=>vi(l,s))||n.push(s);return{arrayValue:{values:n}}}class ql extends hh{constructor(t){super(),this.elements=t}}function PE(r,t){let n=kE(t);for(const s of r.elements)n=n.filter(l=>!vi(l,s));return{arrayValue:{values:n}}}class $c extends hh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Av(r){return ye(r.integerValue||r.doubleValue)}function kE(r){return Rm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,n){this.field=t,this.transform=n}}function oI(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Bl&&l instanceof Bl||s instanceof ql&&l instanceof ql?Xa(s.elements,l.elements,vi):s instanceof $c&&l instanceof $c?vi(s.Re,l.Re):s instanceof zl&&l instanceof zl}(r.transform,t.transform)}class lI{constructor(t,n){this.version=t,this.transformResults=n}}class $n{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new $n}static exists(t){return new $n(void 0,t)}static updateTime(t){return new $n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class fh{}function UE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new xm(r.key,$n.none()):new $l(r.key,r.data,$n.none());{const n=r.data,s=Ln.empty();let l=new xe(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new Fs(r.key,s,new Yn(l.toArray()),$n.none())}}function uI(r,t,n){r instanceof $l?function(l,c,f){const g=l.value.clone(),p=Sv(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Fs?function(l,c,f){if(!Vc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=Sv(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(LE(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Ol(r,t,n,s){return r instanceof $l?function(c,f,g,p){if(!Vc(c.precondition,f))return g;const _=c.value.clone(),A=wv(c.fieldTransforms,p,f);return _.setAll(A),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof Fs?function(c,f,g,p){if(!Vc(c.precondition,f))return g;const _=wv(c.fieldTransforms,p,f),A=f.data;return A.setAll(LE(c)),A.setAll(_),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(r,t,n,s):function(c,f,g){return Vc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function cI(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=ME(s.transform,l||null);c!=null&&(n===null&&(n=Ln.empty()),n.set(s.field,c))}return n||null}function bv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Xa(s,l,(c,f)=>oI(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class $l extends fh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Fs extends fh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function LE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Sv(r,t,n){const s=new Map;Yt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let l=0;l<n.length;l++){const c=r[l],f=c.transform,g=t.data.field(c.field);s.set(c.field,sI(f,g,n[l]))}return s}function wv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,f=n.data.field(l.field);s.set(l.field,rI(c,f,t))}return s}class xm extends fh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hI extends fh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&uI(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ol(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ol(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=xE();return this.mutations.forEach(l=>{const c=t.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=UE(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ut())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,(n,s)=>bv(n,s))&&Xa(this.baseMutations,t.baseMutations,(n,s)=>bv(n,s))}}class Om{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Yt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return WR}();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new Om(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,Bt;function gI(r){switch(r){case J.OK:return Et(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function jE(r){if(r===void 0)return er("GRPC error has no .code"),J.UNKNOWN;switch(r){case be.OK:return J.OK;case be.CANCELLED:return J.CANCELLED;case be.UNKNOWN:return J.UNKNOWN;case be.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case be.INTERNAL:return J.INTERNAL;case be.UNAVAILABLE:return J.UNAVAILABLE;case be.UNAUTHENTICATED:return J.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case be.NOT_FOUND:return J.NOT_FOUND;case be.ALREADY_EXISTS:return J.ALREADY_EXISTS;case be.PERMISSION_DENIED:return J.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case be.ABORTED:return J.ABORTED;case be.OUT_OF_RANGE:return J.OUT_OF_RANGE;case be.UNIMPLEMENTED:return J.UNIMPLEMENTED;case be.DATA_LOSS:return J.DATA_LOSS;default:return Et(39323,{code:r})}}(Bt=be||(be={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new Hr([4294967295,4294967295],0);function Rv(r){const t=lE().encode(r),n=new tE;return n.update(t),new Uint8Array(n.digest())}function Iv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Hr([n,s],0),new Hr([l,c],0)]}class Mm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new wl(`Invalid padding: ${n}`);if(s<0)throw new wl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new wl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Hr.fromNumber(this.pe)}we(t,n,s){let l=t.add(n.multiply(Hr.fromNumber(s)));return l.compare(pI)===1&&(l=new Hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Rv(t),[s,l]=Iv(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,l,c);if(!this.be(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Mm(c,l,n);return s.forEach(g=>f.insert(g)),f}insert(t){if(this.pe===0)return;const n=Rv(t),[s,l]=Iv(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,l,c);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Zl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new dh(bt.min(),l,new ue(xt),nr(),Ut())}}class Zl{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Zl(s,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,n,s,l){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=l}}class zE{constructor(t,n){this.targetId=t,this.Ce=n}}class BE{constructor(t,n,s=Ge.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Cv{constructor(){this.Fe=0,this.Me=Dv(),this.xe=Ge.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ut(),n=Ut(),s=Ut();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Et(38017,{changeType:c})}}),new Zl(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=Dv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Yt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class yI{constructor(t){this.ze=t,this.je=new Map,this.He=nr(),this.Je=wc(),this.Ye=wc(),this.Ze=new ue(xt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,l)=>{this.it(l)&&n(l)})}ot(t){const n=t.targetId,s=t.Ce.count,l=this._t(n);if(l){const c=l.target;if(Xd(c))if(s===0){const f=new dt(c.path);this.tt(n,f,$e.newNoDocument(f,bt.min()))}else Yt(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const g=this.ct(t),p=g?this.lt(g,t,f):1;if(p!==0){this.st(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=Yr(s).toUint8Array()}catch(p){if(p instanceof fE)return Ya("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Mm(f,l,c)}catch(p){return Ya(p instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const f=this.ze.Pt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(n,c,null),l++)}),l}It(t){const n=new Map;this.je.forEach((c,f)=>{const g=this._t(f);if(g){if(c.current&&Xd(g.target)){const p=new dt(g.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,$e.newNoDocument(p,t))}c.Le&&(n.set(f,c.qe()),c.Qe())}});let s=Ut();this.Ye.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const _=this._t(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,f)=>f.setReadTime(t));const l=new dh(t,n,this.Ze,this.He,s);return this.He=nr(),this.Je=wc(),this.Ye=wc(),this.Ze=new ue(xt),l}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new Cv,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new xe(xt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new xe(xt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||st("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Cv),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function wc(){return new ue(dt.comparator)}function Dv(){return new ue(dt.comparator)}const _I={asc:"ASCENDING",desc:"DESCENDING"},vI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EI={and:"AND",or:"OR"};class TI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Jd(r,t){return r.useProto3Json||oh(t)?t:{value:t}}function Zc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function AI(r,t){return Zc(r,t.toTimestamp())}function _i(r){return Yt(!!r,49232),bt.fromTimestamp(function(n){const s=Kr(n);return new Ne(s.seconds,s.nanos)}(r))}function Vm(r,t){return Wd(r,t).canonicalString()}function Wd(r,t){const n=function(l){return new ie(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function HE(r){const t=ie.fromString(r);return Yt(YE(t),10190,{key:t.toString()}),t}function tm(r,t){return Vm(r.databaseId,t.path)}function Nd(r,t){const n=HE(t);if(n.get(1)!==r.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(GE(n))}function FE(r,t){return Vm(r.databaseId,t)}function bI(r){const t=HE(r);return t.length===4?ie.emptyPath():GE(t)}function em(r){return new ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function GE(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Nv(r,t,n){return{name:tm(r,t),fields:n.value.mapValue.fields}}function SI(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,A){return _.useProto3Json?(Yt(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(Yt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(_){const A=_.code===void 0?J.UNKNOWN:jE(_.code);return new lt(A,_.message||"")}(f);n=new BE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Nd(r,s.document.name),c=_i(s.document.updateTime),f=s.document.createTime?_i(s.document.createTime):bt.min(),g=new Ln({mapValue:{fields:s.document.fields}}),p=$e.newFoundDocument(l,c,f,g),_=s.targetIds||[],A=s.removedTargetIds||[];n=new Pc(_,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Nd(r,s.document),c=s.readTime?_i(s.readTime):bt.min(),f=$e.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Pc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Nd(r,s.document),c=s.removedTargetIds||[];n=new Pc([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new mI(l,c),g=s.targetId;n=new zE(g,f)}}return n}function wI(r,t){let n;if(t instanceof $l)n={update:Nv(r,t.key,t.value)};else if(t instanceof xm)n={delete:tm(r,t.key)};else if(t instanceof Fs)n={update:Nv(r,t.key,t.data),updateMask:VI(t.fieldMask)};else{if(!(t instanceof hI))return Et(16599,{ft:t.type});n={verify:tm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof zl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Bl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof $c)return{fieldPath:f.field.canonicalString(),increment:g.Re};throw Et(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:AI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)}(r,t.precondition)),n}function RI(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map(n=>function(l,c){let f=l.updateTime?_i(l.updateTime):_i(c);return f.isEqual(bt.min())&&(f=_i(c)),new lI(f,l.transformResults||[])}(n,t))):[]}function II(r,t){return{documents:[FE(r,t.path)]}}function CI(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=FE(r,l);const c=function(_){if(_.length!==0)return KE(Zn.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(A=>function(D){return{field:Ba(D.field),direction:xI(D.dir)}}(A))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Jd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{gt:n,parent:l}}function DI(r){let t=bI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Yt(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(w){const D=QE(w);return D instanceof Zn&&AE(D)?D.getFilters():[D]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(D=>function(Z){return new Xc(qa(Z.field),function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(D))}(n.orderBy));let g=null;n.limit&&(g=function(w){let D;return D=typeof w=="object"?w.value:w,oh(D)?null:D}(n.limit));let p=null;n.startAt&&(p=function(w){const D=!!w.before,F=w.values||[];return new Yc(F,D)}(n.startAt));let _=null;return n.endAt&&(_=function(w){const D=!w.before,F=w.values||[];return new Yc(F,D)}(n.endAt)),YR(t,l,f,c,g,"F",p,_)}function NI(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function QE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=qa(n.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=qa(n.unaryFilter.field);return Se.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qa(n.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=qa(n.unaryFilter.field);return Se.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(r):r.fieldFilter!==void 0?function(n){return Se.create(qa(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(s=>QE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(n.compositeFilter.op))}(r):Et(30097,{filter:r})}function xI(r){return _I[r]}function OI(r){return vI[r]}function MI(r){return EI[r]}function Ba(r){return{fieldPath:r.canonicalString()}}function qa(r){return Fe.fromServerFormat(r.fieldPath)}function KE(r){return r instanceof Se?function(n){if(n.op==="=="){if(yv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(pv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(pv(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:OI(n.op),value:n.value}}}(r):r instanceof Zn?function(n){const s=n.getFilters().map(l=>KE(l));return s.length===1?s[0]:{compositeFilter:{op:MI(n.op),filters:s}}}(r):Et(54877,{filter:r})}function VI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function YE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t,n,s,l,c=bt.min(),f=bt.min(),g=Ge.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new jr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t){this.wt=t}}function kI(r){const t=DI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.Cn=new LI}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(Qr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(Qr.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class LI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new xe(ie.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new xe(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XE=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(XE,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ja(0)}static lr(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="LruGarbageCollector",jI=1048576;function Mv([r,t],[n,s]){const l=xt(r,n);return l===0?xt(t,s):l}class zI{constructor(t){this.Er=t,this.buffer=new xe(Mv),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Mv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){st(Ov,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oo(n)?st(Ov,"Ignoring IndexedDB error during garbage collection: ",n):await ao(n)}await this.mr(3e5)})}}class qI{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return $.resolve(ah.le);const s=new zI(n);return this.gr.forEachTarget(t,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(xv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xv):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,l,c,f,g,p,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,f=Date.now(),this.nthSequenceNumber(t,l))).next(w=>(s=w,g=Date.now(),this.removeTargets(t,s,n))).next(w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(w=>(_=Date.now(),ja()<=kt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-A}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${w} documents in `+(_-p)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w})))}}function HI(r,t){return new qI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.changes=new Hs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&Ol(s.mutation,l,Yn.empty(),Ne.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Ut()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Ut()){const l=Vs();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let f=Sl();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Vs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Ut()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,s,l){let c=nr();const f=xl(),g=function(){return xl()}();return n.forEach((p,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Fs)?c=c.insert(_.key,_):A!==void 0?(f.set(_.key,A.mutation.getFieldMask()),Ol(A.mutation,_,A.mutation.getFieldMask(),Ne.now())):f.set(_.key,Yn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,A)=>f.set(_,A)),n.forEach((_,A)=>{var w;return g.set(_,new GI(A,(w=f.get(_))!==null&&w!==void 0?w:null))}),g))}recalculateAndSaveOverlays(t,n){const s=xl();let l=new ue((f,g)=>f-g),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let A=s.get(p)||Yn.empty();A=g.applyToLocalView(_,A),s.set(p,A);const w=(l.get(g.batchId)||Ut()).add(p);l=l.insert(g.batchId,w)})}).next(()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,A=p.value,w=xE();A.forEach(D=>{if(!c.has(D)){const F=UE(n.get(D),s.get(D));F!==null&&w.set(D,F),c=c.add(D)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,w))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(f){return dt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):RE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):$.resolve(Vs());let g=kl,p=c;return f.next(_=>$.forEach(_,(A,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next(D=>{p=p.insert(A,D)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Ut())).next(A=>({batchId:g,changes:NE(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next(s=>{let l=Sl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let f=Sl();return this.indexManager.getCollectionParents(t,c).next(g=>$.forEach(g,p=>{const _=function(w,D){return new Xl(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(A=>{A.forEach((w,D)=>{f=f.insert(w,D)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(f=>{c.forEach((p,_)=>{const A=_.getKey();f.get(A)===null&&(f=f.insert(A,$e.newInvalidDocument(A)))});let g=Sl();return f.forEach((p,_)=>{const A=c.get(p);A!==void 0&&Ol(A.mutation,_,Yn.empty(),Ne.now()),ch(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return $.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:_i(l.createTime)}}(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(l){return{name:l.name,query:kI(l.bundledQuery),readTime:_i(l.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.overlays=new ue(dt.comparator),this.Qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Vs();return $.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.St(t,n,c)}),$.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const l=Vs(),c=n.length+1,f=new dt(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return $.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ue((_,A)=>_-A);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=Vs(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Vs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=l)););return $.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new dI(n,s));let c=this.Qr.get(n);c===void 0&&(c=Ut(),this.Qr.set(n,c)),this.Qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.$r=new xe(Ue.Ur),this.Kr=new xe(Ue.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Ue(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Ue(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new dt(new ie([])),s=new Ue(n,t),l=new Ue(n,t+1),c=[];return this.Kr.forEachInRange([s,l],f=>{this.zr(f),c.push(f.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new dt(new ie([])),s=new Ue(n,t),l=new Ue(n,t+1);let c=Ut();return this.Kr.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new Ue(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return dt.comparator(t.key,n.key)||xt(t.Zr,n.Zr)}static Wr(t,n){return xt(t.Zr,n.Zr)||dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new xe(Ue.Ur)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new fI(c,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Xr=this.Xr.add(new Ue(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ti(s),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Sm:this.nr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ue(n,0),l=new Ue(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,l],f=>{const g=this.ei(f.Zr);c.push(g)}),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new xe(xt);return n.forEach(l=>{const c=new Ue(l,0),f=new Ue(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,f],g=>{s=s.add(g.Zr)})}),$.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const f=new Ue(new dt(c),0);let g=new xe(xt);return this.Xr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Zr)),!0)},f),$.resolve(this.ni(g))}ni(t){const n=[];return t.forEach(s=>{const l=this.ei(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Yt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return $.forEach(n.mutations,l=>{const c=new Ue(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Ue(n,0),l=this.Xr.firstAfterOrEqual(s);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t){this.ii=t,this.docs=function(){return new ue(dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(t,n){let s=nr();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))}),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=nr();const f=n.path,g=new dt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:A}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||RR(wR(A),s)<=0||(l.has(A.key)||ch(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,n,s,l){Et(9500)}si(t,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new JI(this)}getSize(t){return $.resolve(this.size)}}class JI extends FI{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(t,l)):this.Br.removeEntry(s)}),$.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(t){this.persistence=t,this.oi=new Hs(n=>Im(n),Cm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this._i=0,this.ai=new Pm,this.targetCount=0,this.ui=Ja.cr()}forEachTarget(t,n){return this.oi.forEach((s,l)=>n(l)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),$.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Ja(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Tr(n),$.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.oi.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.oi.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),$.waitFor(c).next(()=>l)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(t,f))}),$.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,n){this.ci={},this.overlays={},this.li=new ah(0),this.hi=!1,this.hi=!0,this.Pi=new XI,this.referenceDelegate=t(this),this.Ti=new WI(this),this.indexManager=new UI,this.remoteDocumentCache=function(l){return new ZI(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new PI(n),this.Ei=new KI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new YI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new $I(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){st("MemoryPersistence","Starting transaction:",t);const l=new t2(this.li.next());return this.referenceDelegate.di(),s(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(t,n){return $.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class t2 extends CR{constructor(t){super(),this.currentSequenceNumber=t}}class km{constructor(t){this.persistence=t,this.Vi=new Pm,this.mi=null}static fi(t){return new km(t)}get gi(){if(this.mi)return this.mi;throw Et(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.gi,s=>{const l=dt.fromPath(s);return this.pi(t,l).next(c=>{c||n.removeEntry(l,bt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return $.or([()=>$.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Jc{constructor(t,n){this.persistence=t,this.yi=new Hs(s=>xR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=HI(this,n)}static fi(t,n){return new Jc(t,n)}di(){}Ai(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return $.forEach(this.yi,(s,l)=>this.Dr(t,s,l).next(c=>c?$.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(t,f=>this.Dr(t,f,n).next(g=>{g||(s++,c.removeEntry(f,bt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),$.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Oc(t.data.value)),n}Dr(t,n,s){return $.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.yi.get(n);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.ds=s,this.As=l}static Rs(t,n){let s=Ut(),l=Ut();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Um(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Mb()?8:DR(Ze())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ws(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.bs(t,n,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new e2;return this.Ss(t,n,f).next(g=>{if(c.result=g,this.fs)return this.Ds(t,n,f,g.size)})}).next(()=>c.result)}Ds(t,n,s,l){return s.documentReadCount<this.gs?(ja()<=kt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$.resolve()):(ja()<=kt.DEBUG&&st("QueryEngine","Query:",za(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(ja()<=kt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,yi(n))):$.resolve())}ws(t,n){if(Tv(n))return $.resolve(null);let s=yi(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Zd(n,null,"F"),s=yi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Ut(...c);return this.ys.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.vs(n,g);return this.Cs(n,_,f,p.readTime)?this.ws(t,Zd(n,null,"F")):this.Fs(t,_,n,p)}))})))}bs(t,n,s,l){return Tv(n)||l.isEqual(bt.min())?$.resolve(null):this.ys.getDocuments(t,s).next(c=>{const f=this.vs(n,c);return this.Cs(n,f,s,l)?$.resolve(null):(ja()<=kt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(n)),this.Fs(t,f,n,SR(l,kl)).next(g=>g))})}vs(t,n){let s=new xe(CE(t));return n.forEach((l,c)=>{ch(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,s){return ja()<=kt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",za(n)),this.ys.getDocumentsMatchingQuery(t,n,Qr.min(),s)}Fs(t,n,s,l){return this.ys.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="LocalStore",i2=3e8;class r2{constructor(t,n,s,l){this.persistence=t,this.Ms=n,this.serializer=l,this.xs=new ue(xt),this.Os=new Hs(c=>Im(c),Cm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new QI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function s2(r,t,n,s){return new r2(r,t,n,s)}async function ZE(r,t){const n=Rt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let p=Ut();for(const _ of l){f.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}return n.localDocuments.getDocuments(s,p).next(_=>({ks:_,removedBatchIds:f,addedBatchIds:g}))})})}function a2(r,t){const n=Rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,_,A){const w=_.batch,D=w.keys();let F=$.resolve();return D.forEach(Z=>{F=F.next(()=>A.getEntry(p,Z)).next(it=>{const tt=_.docVersions.get(Z);Yt(tt!==null,48541),it.version.compareTo(tt)<0&&(w.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),A.addEntry(it)))})}),F.next(()=>g.mutationQueue.removeMutationBatch(p,w))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Ut();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function JE(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function o2(r,t){const n=Rt(r),s=t.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const g=[];t.targetChanges.forEach((A,w)=>{const D=l.get(w);if(!D)return;g.push(n.Ti.removeMatchingKeys(c,A.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(c,A.addedDocuments,w)));let F=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?F=F.withResumeToken(Ge.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,s)),l=l.insert(w,F),function(it,tt,Tt){return it.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=i2?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(D,F,A)&&g.push(n.Ti.updateTargetData(c,F))});let p=nr(),_=Ut();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(l2(c,f,t.documentUpdates).next(A=>{p=A.qs,_=A.Qs})),!s.isEqual(bt.min())){const A=n.Ti.getLastRemoteSnapshotVersion(c).next(w=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return $.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.xs=l,c))}function l2(r,t,n){let s=Ut(),l=Ut();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=nr();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):st(Lm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{qs:f,Qs:l}})}function u2(r,t){const n=Rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Sm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function c2(r,t){const n=Rt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Ti.getTargetData(s,t).next(c=>c?(l=c,$.resolve(l)):n.Ti.allocateTargetId(s).next(f=>(l=new jr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function nm(r,t,n){const s=Rt(r),l=s.xs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!oo(f))throw f;st(Lm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.xs=s.xs.remove(t),s.Os.delete(l.target)}function Vv(r,t,n){const s=Rt(r);let l=bt.min(),c=Ut();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,A){const w=Rt(p),D=w.Os.get(A);return D!==void 0?$.resolve(w.xs.get(D)):w.Ti.getTargetData(_,A)}(s,f,yi(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,t,n?l:bt.min(),n?c:Ut())).next(g=>(h2(s,$R(t),g),{documents:g,$s:c})))}function h2(r,t,n){let s=r.Ns.get(t)||bt.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ns.set(t,s)}class Pv{constructor(){this.activeTargetIds=nI()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class f2{constructor(){this.xo=new Pv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Pv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="ConnectivityMonitor";class Uv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){st(kv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){st(kv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function im(){return Rc===null?Rc=function(){return 268435456+Math.round(2147483648*Math.random())}():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="RestConnection",m2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g2{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===Qc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(t,n,s,l,c){const f=im(),g=this.jo(t,n.toUriEncodedString());st(xd,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,l,c);const{host:_}=new URL(g),A=no(_);return this.Jo(t,g,p,s,A).then(w=>(st(xd,`Received RPC '${t}' ${f}: `,w),w),w=>{throw Ya(xd,`RPC '${t}' ${f} failed with error: `,w,"url: ",g,"request:",s),w})}Yo(t,n,s,l,c,f){return this.zo(t,n,s,l,c)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}jo(t,n){const s=m2[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class y2 extends g2{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const f=im();return new Promise((g,p)=>{const _=new eE;_.setWithCredentials(!0),_.listenOnce(nE.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case xc.NO_ERROR:const w=_.getResponseJson();st(Ye,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(w)),g(w);break;case xc.TIMEOUT:st(Ye,`RPC '${t}' ${f} timed out`),p(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:const D=_.getStatus();if(st(Ye,`RPC '${t}' ${f} failed with status:`,D,"response text:",_.getResponseText()),D>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F==null?void 0:F.error;if(Z&&Z.status&&Z.message){const it=function(Tt){const ot=Tt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ot)>=0?ot:J.UNKNOWN}(Z.status);p(new lt(it,Z.message))}else p(new lt(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new lt(J.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{h_:t,streamId:f,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{st(Ye,`RPC '${t}' ${f} completed.`)}});const A=JSON.stringify(l);st(Ye,`RPC '${t}' ${f} sending request:`,l),_.send(n,"POST",A,s,15)})}I_(t,n,s){const l=im(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=sE(),g=rE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const A=c.join("");st(Ye,`Creating RPC '${t}' stream ${l}: ${A}`,p);const w=f.createWebChannel(A,p);this.E_(w);let D=!1,F=!1;const Z=new p2({Zo:tt=>{F?st(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(D||(st(Ye,`Opening RPC '${t}' stream ${l} transport.`),w.open(),D=!0),st(Ye,`RPC '${t}' stream ${l} sending:`,tt),w.send(tt))},Xo:()=>w.close()}),it=(tt,Tt,ot)=>{tt.listen(Tt,ct=>{try{ot(ct)}catch(Mt){setTimeout(()=>{throw Mt},0)}})};return it(w,bl.EventType.OPEN,()=>{F||(st(Ye,`RPC '${t}' stream ${l} transport opened.`),Z.__())}),it(w,bl.EventType.CLOSE,()=>{F||(F=!0,st(Ye,`RPC '${t}' stream ${l} transport closed`),Z.u_(),this.d_(w))}),it(w,bl.EventType.ERROR,tt=>{F||(F=!0,Ya(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),Z.u_(new lt(J.UNAVAILABLE,"The operation could not be completed")))}),it(w,bl.EventType.MESSAGE,tt=>{var Tt;if(!F){const ot=tt.data[0];Yt(!!ot,16349);const ct=ot,Mt=(ct==null?void 0:ct.error)||((Tt=ct[0])===null||Tt===void 0?void 0:Tt.error);if(Mt){st(Ye,`RPC '${t}' stream ${l} received error:`,Mt);const yt=Mt.status;let St=function(R){const x=be[R];if(x!==void 0)return jE(x)}(yt),O=Mt.message;St===void 0&&(St=J.INTERNAL,O="Unknown error status: "+yt+" with message "+Mt.message),F=!0,Z.u_(new lt(St,O)),w.close()}else st(Ye,`RPC '${t}' stream ${l} received:`,ot),Z.c_(ot)}}),it(g,iE.STAT_EVENT,tt=>{tt.stat===Fd.PROXY?st(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===Fd.NOPROXY&&st(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Z.a_()},0),Z}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(r){return new TI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t,n,s=1e3,l=1.5,c=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=l,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),l=Math.max(0,n-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="PersistentStream";class tT{constructor(t,n,s,l,c,f,g,p){this.xi=t,this.S_=s,this.D_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new WE(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.v_===n&&this.z_(s,l)},s=>{t(()=>{const l=new lt(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(l)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.j_(l))}),this.stream.onMessage(l=>{s(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return st(Lv,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(st(Lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _2 extends tT{constructor(t,n,s,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=SI(this.serializer,t),s=function(c){if(!("targetChange"in c))return bt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?_i(f.readTime):bt.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=em(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=Xd(p)?{documents:II(c,p)}:{query:CI(c,p).gt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=qE(c,f.resumeToken);const _=Jd(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(bt.min())>0){g.readTime=Zc(c,f.snapshotVersion.toTimestamp());const _=Jd(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=NI(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=em(this.serializer),n.removeTarget=t,this.Q_(n)}}class v2 extends tT{constructor(t,n,s,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=RI(t.writeResults,t.commitTime),s=_i(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=em(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>wI(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{}class T2 extends E2{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.zo(t,Wd(n,s),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(J.UNKNOWN,c.toString())})}Yo(t,n,s,l,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Yo(t,Wd(n,s),l,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(J.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class A2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(er(n),this.ua=!1):st("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class b2{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(f=>{s.enqueueAndForget(async()=>{Gs(this)&&(st(Bs,"Restarting streams for network reachability change."),await async function(p){const _=Rt(p);_.da.add(4),await Jl(_),_.Va.set("Unknown"),_.da.delete(4),await gh(_)}(this))})}),this.Va=new A2(s,l)}}async function gh(r){if(Gs(r))for(const t of r.Aa)await t(!0)}async function Jl(r){for(const t of r.Aa)await t(!1)}function eT(r,t){const n=Rt(r);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),qm(n)?Bm(n):lo(n).N_()&&zm(n,t))}function jm(r,t){const n=Rt(r),s=lo(n);n.Ea.delete(t),s.N_()&&nT(n,t),n.Ea.size===0&&(s.N_()?s.k_():Gs(n)&&n.Va.set("Unknown"))}function zm(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}lo(r).Z_(t)}function nT(r,t){r.ma.Ke(t),lo(r).X_(t)}function Bm(r){r.ma=new yI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),lo(r).start(),r.Va.ca()}function qm(r){return Gs(r)&&!lo(r).O_()&&r.Ea.size>0}function Gs(r){return Rt(r).da.size===0}function iT(r){r.ma=void 0}async function S2(r){r.Va.set("Online")}async function w2(r){r.Ea.forEach((t,n)=>{zm(r,t)})}async function R2(r,t){iT(r),qm(r)?(r.Va.Pa(t),Bm(r)):r.Va.set("Unknown")}async function I2(r,t,n){if(r.Va.set("Online"),t instanceof BE&&t.state===2&&t.cause)try{await async function(l,c){const f=c.cause;for(const g of c.targetIds)l.Ea.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ea.delete(g),l.ma.removeTarget(g))}(r,t)}catch(s){st(Bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Wc(r,s)}else if(t instanceof Pc?r.ma.Xe(t):t instanceof zE?r.ma.ot(t):r.ma.nt(t),!n.isEqual(bt.min()))try{const s=await JE(r.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.ma.It(f);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.Ea.get(_);A&&c.Ea.set(_,A.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,_)=>{const A=c.Ea.get(p);if(!A)return;c.Ea.set(p,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),nT(c,p);const w=new jr(A.target,p,_,A.sequenceNumber);zm(c,w)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){st(Bs,"Failed to raise snapshot:",s),await Wc(r,s)}}async function Wc(r,t,n){if(!oo(t))throw t;r.da.add(1),await Jl(r),r.Va.set("Offline"),n||(n=()=>JE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{st(Bs,"Retrying IndexedDB access"),await n(),r.da.delete(1),await gh(r)})}function rT(r,t){return t().catch(n=>Wc(r,n,t))}async function ph(r){const t=Rt(r),n=$r(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Sm;for(;C2(t);)try{const l=await u2(t.localStore,s);if(l===null){t.Ia.length===0&&n.k_();break}s=l.batchId,D2(t,l)}catch(l){await Wc(t,l)}sT(t)&&aT(t)}function C2(r){return Gs(r)&&r.Ia.length<10}function D2(r,t){r.Ia.push(t);const n=$r(r);n.N_()&&n.ea&&n.ta(t.mutations)}function sT(r){return Gs(r)&&!$r(r).O_()&&r.Ia.length>0}function aT(r){$r(r).start()}async function N2(r){$r(r).ia()}async function x2(r){const t=$r(r);for(const n of r.Ia)t.ta(n.mutations)}async function O2(r,t,n){const s=r.Ia.shift(),l=Om.from(s,t,n);await rT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await ph(r)}async function M2(r,t){t&&$r(r).ea&&await async function(s,l){if(function(f){return gI(f)&&f!==J.ABORTED}(l.code)){const c=s.Ia.shift();$r(s).L_(),await rT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await ph(s)}}(r,t),sT(r)&&aT(r)}async function jv(r,t){const n=Rt(r);n.asyncQueue.verifyOperationInProgress(),st(Bs,"RemoteStore received new credentials");const s=Gs(n);n.da.add(3),await Jl(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await gh(n)}async function V2(r,t){const n=Rt(r);t?(n.da.delete(2),await gh(n)):t||(n.da.add(2),await Jl(n),n.Va.set("Unknown"))}function lo(r){return r.fa||(r.fa=function(n,s,l){const c=Rt(n);return c.oa(),new _2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:S2.bind(null,r),n_:w2.bind(null,r),i_:R2.bind(null,r),Y_:I2.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),qm(r)?Bm(r):r.Va.set("Unknown")):(await r.fa.stop(),iT(r))})),r.fa}function $r(r){return r.ga||(r.ga=function(n,s,l){const c=Rt(n);return c.oa(),new v2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:N2.bind(null,r),i_:M2.bind(null,r),na:x2.bind(null,r),ra:O2.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await ph(r)):(await r.ga.stop(),r.Ia.length>0&&(st(Bs,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const f=Date.now()+s,g=new Hm(t,n,f,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(r,t){if(er("AsyncQueue",`${t}: ${r}`),oo(r))return new lt(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=Sl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Qa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.pa=new ue(dt.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):Et(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Wa{constructor(t,n,s,l,c,f,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new Wa(t,n,Qa.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class k2{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Rt(n),c=l.queries;l.queries=Bv(),c.forEach((f,g)=>{for(const p of g.Sa)p.onError(s)})})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function Bv(){return new Hs(r=>IE(r),uh)}async function U2(r,t){const n=Rt(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Da()&&t.va()&&(s=2):(c=new P2,s=t.va()?0:1);try{switch(s){case 0:c.ba=await n.onListen(l,!0);break;case 1:c.ba=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=Fm(f,`Initialization of query '${za(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Sa.push(t),t.Fa(n.onlineState),c.ba&&t.Ma(c.ba)&&Gm(n)}async function L2(r,t){const n=Rt(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(t);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?l=t.va()?0:1:!c.Da()&&t.va()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function j2(r,t){const n=Rt(r);let s=!1;for(const l of t){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Ma(l)&&(s=!0);f.ba=l}}s&&Gm(n)}function z2(r,t,n){const s=Rt(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(t)}function Gm(r){r.Ca.forEach(t=>{t.next()})}var rm,qv;(qv=rm||(rm={})).xa="default",qv.Cache="cache";class B2{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Wa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t){this.key=t}}class lT{constructor(t){this.key=t}}class q2{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.Za=CE(t),this.Xa=new Qa(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new zv,l=n?n.Xa:this.Xa;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,w)=>{const D=l.get(A),F=ch(this.query,w)?w:null,Z=!!D&&this.mutatedKeys.has(D.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let tt=!1;D&&F?D.data.isEqual(F.data)?Z!==it&&(s.track({type:3,doc:F}),tt=!0):this.ru(D,F)||(s.track({type:2,doc:F}),tt=!0,(p&&this.Za(F,p)>0||_&&this.Za(F,_)<0)&&(g=!0)):!D&&F?(s.track({type:0,doc:F}),tt=!0):D&&!F&&(s.track({type:1,doc:D}),tt=!0,(p||_)&&(g=!0)),tt&&(F?(f=f.add(F),c=it?c.add(A):c.delete(A)):(f=f.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{Xa:f,nu:s,Cs:g,mutatedKeys:c}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((A,w)=>function(F,Z){const it=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:tt})}};return it(F)-it(Z)}(A.type,w.type)||this.Za(A.doc,w.doc)),this.iu(s),l=l!=null&&l;const g=n&&!l?this.su():[],p=this.Ya.size===0&&this.current&&!l?1:0,_=p!==this.Ja;return this.Ja=p,f.length!==0||_?{snapshot:new Wa(this.query,t.Xa,c,f,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new zv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new lT(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new oT(s))}),n}au(t){this.Ha=t.$s,this.Ya=Ut();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Wa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Qm="SyncEngine";class H2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class F2{constructor(t){this.key=t,this.cu=!1}}class G2{constructor(t,n,s,l,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Hs(g=>IE(g),uh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ue(dt.comparator),this.Eu=new Map,this.du=new Pm,this.Au={},this.Ru=new Map,this.Vu=Ja.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Q2(r,t,n=!0){const s=mT(r);let l;const c=s.hu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.uu()):l=await uT(s,t,n,!0),l}async function K2(r,t){const n=mT(r);await uT(n,t,!0,!1)}async function uT(r,t,n,s){const l=await c2(r.localStore,yi(t)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await Y2(r,t,c,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&eT(r.remoteStore,l),g}async function Y2(r,t,n,s,l){r.fu=(w,D,F)=>async function(it,tt,Tt,ot){let ct=tt.view.tu(Tt);ct.Cs&&(ct=await Vv(it.localStore,tt.query,!1).then(({documents:O})=>tt.view.tu(O,ct)));const Mt=ot&&ot.targetChanges.get(tt.targetId),yt=ot&&ot.targetMismatches.get(tt.targetId)!=null,St=tt.view.applyChanges(ct,it.isPrimaryClient,Mt,yt);return Fv(it,tt.targetId,St.ou),St.snapshot}(r,w,D,F);const c=await Vv(r.localStore,t,!0),f=new q2(t,c.$s),g=f.tu(c.documents),p=Zl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=f.applyChanges(g,r.isPrimaryClient,p);Fv(r,n,_.ou);const A=new H2(t,n,f);return r.hu.set(t,A),r.Pu.has(n)?r.Pu.get(n).push(t):r.Pu.set(n,[t]),_.snapshot}async function X2(r,t,n){const s=Rt(r),l=s.hu.get(t),c=s.Pu.get(l.targetId);if(c.length>1)return s.Pu.set(l.targetId,c.filter(f=>!uh(f,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await nm(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&jm(s.remoteStore,l.targetId),sm(s,l.targetId)}).catch(ao)):(sm(s,l.targetId),await nm(s.localStore,l.targetId,!0))}async function $2(r,t){const n=Rt(r),s=n.hu.get(t),l=n.Pu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jm(n.remoteStore,s.targetId))}async function Z2(r,t,n){const s=rC(r);try{const l=await function(f,g){const p=Rt(f),_=Ne.now(),A=g.reduce((F,Z)=>F.add(Z.key),Ut());let w,D;return p.persistence.runTransaction("Locally write mutations","readwrite",F=>{let Z=nr(),it=Ut();return p.Bs.getEntries(F,A).next(tt=>{Z=tt,Z.forEach((Tt,ot)=>{ot.isValidDocument()||(it=it.add(Tt))})}).next(()=>p.localDocuments.getOverlayedDocuments(F,Z)).next(tt=>{w=tt;const Tt=[];for(const ot of g){const ct=cI(ot,w.get(ot.key).overlayedDocument);ct!=null&&Tt.push(new Fs(ot.key,ct,vE(ct.value.mapValue),$n.exists(!0)))}return p.mutationQueue.addMutationBatch(F,_,Tt,g)}).next(tt=>{D=tt;const Tt=tt.applyToLocalDocumentSet(w,it);return p.documentOverlayCache.saveOverlays(F,tt.batchId,Tt)})}).then(()=>({batchId:D.batchId,changes:NE(w)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,g,p){let _=f.Au[f.currentUser.toKey()];_||(_=new ue(xt)),_=_.insert(g,p),f.Au[f.currentUser.toKey()]=_}(s,l.batchId,n),await Wl(s,l.changes),await ph(s.remoteStore)}catch(l){const c=Fm(l,"Failed to persist write");n.reject(c)}}async function cT(r,t){const n=Rt(r);try{const s=await o2(n.localStore,t);t.targetChanges.forEach((l,c)=>{const f=n.Eu.get(c);f&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.cu=!0:l.modifiedDocuments.size>0?Yt(f.cu,14607):l.removedDocuments.size>0&&(Yt(f.cu,42227),f.cu=!1))}),await Wl(n,s,t)}catch(s){await ao(s)}}function Hv(r,t,n){const s=Rt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.hu.forEach((c,f)=>{const g=f.view.Fa(t);g.snapshot&&l.push(g.snapshot)}),function(f,g){const p=Rt(f);p.onlineState=g;let _=!1;p.queries.forEach((A,w)=>{for(const D of w.Sa)D.Fa(g)&&(_=!0)}),_&&Gm(p)}(s.eventManager,t),l.length&&s.lu.Y_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function J2(r,t,n){const s=Rt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Eu.get(t),c=l&&l.key;if(c){let f=new ue(dt.comparator);f=f.insert(c,$e.newNoDocument(c,bt.min()));const g=Ut().add(c),p=new dh(bt.min(),new Map,new ue(xt),f,g);await cT(s,p),s.Iu=s.Iu.remove(c),s.Eu.delete(t),Km(s)}else await nm(s.localStore,t,!1).then(()=>sm(s,t,n)).catch(ao)}async function W2(r,t){const n=Rt(r),s=t.batch.batchId;try{const l=await a2(n.localStore,t);fT(n,s,null),hT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Wl(n,l)}catch(l){await ao(l)}}async function tC(r,t,n){const s=Rt(r);try{const l=await function(f,g){const p=Rt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return p.mutationQueue.lookupMutationBatch(_,g).next(w=>(Yt(w!==null,37113),A=w.keys(),p.mutationQueue.removeMutationBatch(_,w))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>p.localDocuments.getDocuments(_,A))})}(s.localStore,t);fT(s,t,n),hT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Wl(s,l)}catch(l){await ao(l)}}function hT(r,t){(r.Ru.get(t)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(t)}function fT(r,t,n){const s=Rt(r);let l=s.Au[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Au[s.currentUser.toKey()]=l}}function sm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||dT(r,s)})}function dT(r,t){r.Tu.delete(t.path.canonicalString());const n=r.Iu.get(t);n!==null&&(jm(r.remoteStore,n),r.Iu=r.Iu.remove(t),r.Eu.delete(n),Km(r))}function Fv(r,t,n){for(const s of n)s instanceof oT?(r.du.addReference(s.key,t),eC(r,s)):s instanceof lT?(st(Qm,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||dT(r,s.key)):Et(19791,{pu:s})}function eC(r,t){const n=t.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(st(Qm,"New document in limbo: "+n),r.Tu.add(s),Km(r))}function Km(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const n=new dt(ie.fromString(t)),s=r.Vu.next();r.Eu.set(s,new F2(n)),r.Iu=r.Iu.insert(n,s),eT(r.remoteStore,new jr(yi(Dm(n.path)),s,"TargetPurposeLimboResolution",ah.le))}}async function Wl(r,t,n){const s=Rt(r),l=[],c=[],f=[];s.hu.isEmpty()||(s.hu.forEach((g,p)=>{f.push(s.fu(p,t,n).then(_=>{var A;if((_||n)&&s.isPrimaryClient){const w=_?!_.fromCache:(A=n==null?void 0:n.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(_){l.push(_);const w=Um.Rs(p.targetId,_);c.push(w)}}))}),await Promise.all(f),s.lu.Y_(l),await async function(p,_){const A=Rt(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>$.forEach(_,D=>$.forEach(D.ds,F=>A.persistence.referenceDelegate.addReference(w,D.targetId,F)).next(()=>$.forEach(D.As,F=>A.persistence.referenceDelegate.removeReference(w,D.targetId,F)))))}catch(w){if(!oo(w))throw w;st(Lm,"Failed to update sequence numbers: "+w)}for(const w of _){const D=w.targetId;if(!w.fromCache){const F=A.xs.get(D),Z=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion(Z);A.xs=A.xs.insert(D,it)}}}(s.localStore,c))}async function nC(r,t){const n=Rt(r);if(!n.currentUser.isEqual(t)){st(Qm,"User change. New user:",t.toKey());const s=await ZE(n.localStore,t);n.currentUser=t,function(c,f){c.Ru.forEach(g=>{g.forEach(p=>{p.reject(new lt(J.CANCELLED,f))})}),c.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Wl(n,s.ks)}}function iC(r,t){const n=Rt(r),s=n.Eu.get(t);if(s&&s.cu)return Ut().add(s.key);{let l=Ut();const c=n.Pu.get(t);if(!c)return l;for(const f of c){const g=n.hu.get(f);l=l.unionWith(g.view.eu)}return l}}function mT(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=cT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=J2.bind(null,t),t.lu.Y_=j2.bind(null,t.eventManager),t.lu.gu=z2.bind(null,t.eventManager),t}function rC(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=W2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tC.bind(null,t),t}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return s2(this.persistence,new n2,t.initialUser,this.serializer)}Su(t){return new $E(km.fi,this.serializer)}bu(t){return new f2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class sC extends th{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Yt(this.persistence.referenceDelegate instanceof Jc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new BI(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new $E(s=>Jc.fi(s,n),this.serializer)}}class am{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Hv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nC.bind(null,this.syncEngine),await V2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new k2}()}createDatastore(t){const n=mh(t.databaseInfo.databaseId),s=function(c){return new y2(c)}(t.databaseInfo);return function(c,f,g,p){return new T2(c,f,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,f,g){return new b2(s,l,c,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>Hv(this.syncEngine,n,0),function(){return Uv.C()?new Uv:new d2}())}createSyncEngine(t,n){return function(l,c,f,g,p,_,A){const w=new G2(l,c,f,g,p,_);return A&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=Rt(l);st(Bs,"RemoteStore shutting down."),c.da.add(5),await Jl(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):er("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class oC{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=uE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{st(Zr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(st(Zr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Fm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Md(r,t){r.asyncQueue.verifyOperationInProgress(),st(Zr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await ZE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Gv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await lC(r);st(Zr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>jv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>jv(t.remoteStore,l)),r._onlineComponents=t}async function lC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Zr,"Using user provided OfflineComponentProvider");try{await Md(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),await Md(r,new th)}}else st(Zr,"Using default OfflineComponentProvider"),await Md(r,new sC(void 0));return r._offlineComponents}async function gT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Zr,"Using user provided OnlineComponentProvider"),await Gv(r,r._uninitializedComponentsProvider._online)):(st(Zr,"Using default OnlineComponentProvider"),await Gv(r,new am))),r._onlineComponents}function uC(r){return gT(r).then(t=>t.syncEngine)}async function Qv(r){const t=await gT(r),n=t.eventManager;return n.onListen=Q2.bind(null,t.syncEngine),n.onUnlisten=X2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=K2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=$2.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(r,t,n){if(!n)throw new lt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function cC(r,t,n,s){if(t===!0&&s===!0)throw new lt(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Yv(r){if(!dt.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Xv(r){if(dt.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function yh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Fr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yh(r);throw new lt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firestore.googleapis.com",$v=!0;class Zv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_T,this.ssl=$v}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:$v;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=XE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<jI)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _h{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new gR;switch(s.type){case"firstParty":return new vR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Kv.get(n);s&&(st("ComponentProvider","Removing Datastore"),Kv.delete(n),s.terminate())}(this),Promise.resolve()}}function hC(r,t,n,s={}){var l;r=Fr(r,_h);const c=no(t),f=r._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c&&(d0(`https://${p}`),m0("Firestore",!0)),f.host!==_T&&f.host!==p&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},f),{host:p,ssl:c,emulatorOptions:s});if(!ks(_,g)&&(r._setSettings(_),s.mockUserToken)){let A,w;if(typeof s.mockUserToken=="string")A=s.mockUserToken,w=Xe.MOCK_USER;else{A=Sb(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Xe(D)}r._authCredentials=new pR(new oE(A,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new uo(this.firestore,t,this._query)}}class cn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new cn(this.firestore,t,this._key)}}class Gr extends uo{constructor(t,n,s){super(t,n,Dm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new cn(this.firestore,null,new dt(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function Vd(r,t,...n){if(r=Je(r),yT("collection","path",t),r instanceof _h){const s=ie.fromString(t,...n);return Xv(s),new Gr(r,null,s)}{if(!(r instanceof cn||r instanceof Gr))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(t,...n));return Xv(s),new Gr(r.firestore,null,s)}}function om(r,t,...n){if(r=Je(r),arguments.length===1&&(t=uE.newId()),yT("doc","path",t),r instanceof _h){const s=ie.fromString(t,...n);return Yv(s),new cn(r,null,new dt(s))}{if(!(r instanceof cn||r instanceof Gr))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(t,...n));return Yv(s),new cn(r.firestore,r instanceof Gr?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="AsyncQueue";class Wv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new WE(this,"async_queue_retry"),this.rc=()=>{const s=Od();s&&st(Jv,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=Od();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Od();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ps;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!oo(t))throw t;st(Jv,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,er("INTERNAL UNHANDLED ERROR: ",t0(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const l=Hm.createAndSchedule(this,t,n,s,c=>this.uc(c));return this.Zu.push(l),l}oc(){this.Xu&&Et(47125,{cc:t0(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function t0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class to extends _h{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Wv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Wv(t),this._firestoreClient=void 0,await t}}}function fC(r,t){const n=typeof r=="object"?r:_0(),s=typeof r=="string"?r:Qc,l=hm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=Ab("firestore");c&&hC(l,...c)}return l}function vT(r){if(r._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||dC(r),r._firestoreClient}function dC(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,_,A){return new VR(g,p,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,pT(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new oC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new eo(Ge.fromBase64String(t))}catch(n){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new eo(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^__.*__$/;class gC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Fs(t,this.data,this.fieldMask,n,this.fieldTransforms):new $l(t,this.data,n,this.fieldTransforms)}}function ET(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ic:r})}}class Jm{constructor(t,n,s,l,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Jm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Vc(t),l}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return eh(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(ET(this.Ic)&&mC.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class pC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||mh(t)}bc(t,n,s,l=!1){return new Jm({Ic:t,methodName:n,wc:s,path:Fe.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wm(r){const t=r._freezeSettings(),n=mh(r._databaseId);return new pC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function TT(r,t,n,s,l,c={}){const f=r.bc(c.merge||c.mergeFields?2:0,t,n,l);ST("Data must be an object, but it was:",f,s);const g=AT(s,f);let p,_;if(c.merge)p=new Yn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const D=_C(t,w,n);if(!f.contains(D))throw new lt(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);EC(A,D)||A.push(D)}p=new Yn(A),_=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,_=f.fieldTransforms;return new gC(new Ln(g),p,_)}class tg extends Xm{_toFieldTransform(t){return new aI(t.path,new zl)}isEqual(t){return t instanceof tg}}function yC(r,t,n,s=!1){return eg(n,r.bc(s?4:3,t))}function eg(r,t){if(bT(r=Je(r)))return ST("Unsupported field value:",t,r),AT(r,t);if(r instanceof Xm)return function(s,l){if(!ET(l.Ic))throw l.gc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const g of s){let p=eg(g,l.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=Je(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Ne.fromDate(s);return{timestampValue:Zc(l.serializer,c)}}if(s instanceof Ne){const c=new Ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zc(l.serializer,c)}}if(s instanceof $m)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof eo)return{bytesValue:qE(l.serializer,s._byteString)};if(s instanceof cn){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Zm)return function(f,g){return{mapValue:{fields:{[yE]:{stringValue:_E},[Kc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw g.gc("VectorValues must only contain numeric values.");return Nm(g.serializer,_)})}}}}}}(s,l);throw l.gc(`Unsupported field value: ${yh(s)}`)}(r,t)}function AT(r,t){const n={};return hE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qs(r,(s,l)=>{const c=eg(l,t.Ac(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function bT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ne||r instanceof $m||r instanceof eo||r instanceof cn||r instanceof Xm||r instanceof Zm)}function ST(r,t,n){if(!bT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=yh(n);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function _C(r,t,n){if((t=Je(t))instanceof Ym)return t._internalPath;if(typeof t=="string")return wT(r,t);throw eh("Field path arguments must be of type string or ",r,!1,void 0,n)}const vC=new RegExp("[~\\*/\\[\\]]");function wT(r,t,n){if(t.search(vC)>=0)throw eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ym(...t.split("."))._internalPath}catch{throw eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function eh(r,t,n,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new lt(J.INVALID_ARGUMENT,g+r+p)}function EC(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new TC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(IT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TC extends RT{data(){return super.data()}}function IT(r,t){return typeof t=="string"?wT(r,t):t instanceof Ym?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class bC extends ng{}function SC(r,t,...n){let s=[];t instanceof ng&&s.push(t),s=s.concat(n),function(c){const f=c.filter(p=>p instanceof rg).length,g=c.filter(p=>p instanceof ig).length;if(f>1||f>0&&g>0)throw new lt(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class ig extends bC{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ig(t,n,s)}_apply(t){const n=this._parse(t);return CT(t._query,n),new uo(t.firestore,t.converter,$d(t._query,n))}_parse(t){const n=Wm(t.firestore);return function(c,f,g,p,_,A,w){let D;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new lt(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){i0(w,A);const Z=[];for(const it of w)Z.push(n0(p,c,it));D={arrayValue:{values:Z}}}else D=n0(p,c,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||i0(w,A),D=yC(g,f,w,A==="in"||A==="not-in");return Se.create(_,A,D)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class rg extends ng{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new rg(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let f=l;const g=c.getFlattenedFilters();for(const p of g)CT(f,p),f=$d(f,p)}(t._query,n),new uo(t.firestore,t.converter,$d(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function n0(r,t,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new lt(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RE(t)&&n.indexOf("/")!==-1)throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ie.fromString(n));if(!dt.isDocumentKey(s))throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gv(r,new dt(s))}if(n instanceof cn)return gv(r,n._key);throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(n)}.`)}function i0(r,t){if(!Array.isArray(r)||r.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function CT(r,t){const n=function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class wC{convertValue(t,n="none"){switch(Xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return qs(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Kc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>ye(f.doubleValue));return new Zm(c)}convertGeoPoint(t){return new $m(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=lh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const n=Kr(t);return new Ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ie.fromString(t);Yt(YE(s),9688,{name:t});const l=new Ll(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return l.isEqual(n)||er(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class NT extends RT{constructor(t,n,s,l,c,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(IT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class kc extends NT{data(t={}){return super.data(t)}}class RC{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Rl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new kc(this._firestore,this._userDataWriter,s.key,s,new Rl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(g=>{const p=new kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Rl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Rl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),A=f.indexOf(g.doc.key)),{type:IC(g.type),doc:p,oldIndex:_,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function IC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}class xT extends wC{constructor(t){super(),this.firestore=t}convertBytes(t){return new eo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function CC(r,t,n){r=Fr(r,cn);const s=Fr(r.firestore,to),l=DT(r.converter,t,n);return sg(s,[TT(Wm(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,$n.none())])}function DC(r){return sg(Fr(r.firestore,to),[new xm(r._key,$n.none())])}function NC(r,t){const n=Fr(r.firestore,to),s=om(r),l=DT(r.converter,t);return sg(n,[TT(Wm(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,$n.exists(!1))]).then(()=>s)}function xC(r,...t){var n,s,l;r=Je(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||e0(t[f])||(c=t[f],f++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(e0(t[f])){const w=t[f];t[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),t[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),t[f+2]=(l=w.complete)===null||l===void 0?void 0:l.bind(w)}let p,_,A;if(r instanceof cn)_=Fr(r.firestore,to),A=Dm(r._key.path),p={next:w=>{t[f]&&t[f](OC(_,r,w))},error:t[f+1],complete:t[f+2]};else{const w=Fr(r,uo);_=Fr(w.firestore,to),A=w._query;const D=new xT(_);p={next:F=>{t[f]&&t[f](new RC(_,D,w,F))},error:t[f+1],complete:t[f+2]},AC(r._query)}return function(D,F,Z,it){const tt=new aC(it),Tt=new B2(F,tt,Z);return D.asyncQueue.enqueueAndForget(async()=>U2(await Qv(D),Tt)),()=>{tt.xu(),D.asyncQueue.enqueueAndForget(async()=>L2(await Qv(D),Tt))}}(vT(_),A,g,p)}function sg(r,t){return function(s,l){const c=new Ps;return s.asyncQueue.enqueueAndForget(async()=>Z2(await uC(s),l,c)),c.promise}(vT(r),t)}function OC(r,t,n){const s=n.docs.get(t._key),l=new xT(r);return new NT(r,l,t._key,s,new Rl(n.hasPendingWrites,n.fromCache),t.converter)}function MC(){return new tg("serverTimestamp")}(function(t,n=!0){(function(l){so=l})(io),Ka(new Us("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new to(new yR(s.getProvider("auth-internal")),new ER(f,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(_.options.projectId,A)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),qr(iv,rv,t),qr(iv,rv,"esm2017")})();const La="booking-app-1af02",VC={apiKey:"AIzaSyBWmkv8YDOAtSqrehqEkO1vWNbBvmhs65A",authDomain:"booking-app-1af02.firebaseapp.com",projectId:"booking-app-1af02",storageBucket:"booking-app-1af02.firebasestorage.app",messagingSenderId:"909871533345",appId:"1:909871533345:web:939fa5b6c8203ad4308260",measurementId:"G-NF4XH5S2QC"},r0=[{id:1,name:"Pioneer CDJ-3000",type:"CDJ Player",icon:"",category:"player"},{id:2,name:"Technics SL-1200",type:"Turntable",icon:"",category:"player"},{id:3,name:"DJM A9",type:"DJ Mixer",icon:"",category:"mixer"},{id:4,name:"DJM V10",type:"DJ Mixer",icon:"",category:"mixer"}],s0=2e5,xs=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r),vl=r=>r?new Date(r).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",El=r=>{if(!r)return"";const[t,n]=r.split(":"),s=parseInt(t),l=s>=12?"PM":"AM";return`${s>12?s-12:s===0?12:s}:${n.padStart(2,"0")} ${l}`},PC=(r,t)=>{if(!r||isNaN(t))return"";const[n,s]=r.split(":"),l=new Date;return l.setHours(parseInt(n),parseInt(s),0,0),l.setHours(l.getHours()+t),`${l.getHours().toString().padStart(2,"0")}:${l.getMinutes().toString().padStart(2,"0")}`};function kC(){const[r,t]=wt.useState(""),[n,s]=wt.useState(""),[l,c]=wt.useState(2),[f,g]=wt.useState([]),[p,_]=wt.useState([]),[A,w]=wt.useState(!1),[D,F]=wt.useState(null),[Z,it]=wt.useState("cash"),[tt,Tt]=wt.useState(!1),[ot,ct]=wt.useState(null),[Mt,yt]=wt.useState(!1),[St,O]=wt.useState(null),[b,R]=wt.useState(null),[x,V]=wt.useState(null),[M,I]=wt.useState(null),[qt,re]=wt.useState(null),[H,rt]=wt.useState(!0),[ut,Dt]=wt.useState(!1),[C,K]=wt.useState(null),[et,W]=wt.useState(null),[ft,It]=wt.useState(!1),[mt,fe]=wt.useState(""),[Ht,hn]=wt.useState(""),[fn,zn]=wt.useState(!0),Bn=wt.useRef(null);wt.useEffect(()=>{try{console.log("Initializing Firebase app...");const G=y0(VC),_t=fC(G),_e=dR(G);V(G),I(_t),re(_e),console.log("Firebase app, DB, Auth instances set.")}catch(G){console.error("Firebase Initialization Error:",G),K(`Firebase Initialization Error: ${G.message}`),rt(!1)}},[]),wt.useEffect(()=>{if(!qt){console.log("Auth instance not ready, skipping auth state listener.");return}console.log("Setting up auth state listener...");const G=ew(qt,async _t=>{_t?(R(_t.uid),W(null),console.log("Auth state changed: User is signed in. UID:",_t.uid),It(!1)):(console.log("Auth state changed: User is signed out. No automatic anonymous sign-in."),R(null),W(null)),rt(!1)});return()=>{console.log("Cleaning up auth state listener."),G()}},[qt]),wt.useEffect(()=>{if(!M||b===null||H||et){console.log("Firestore listener skipped: DB instance, userId, auth loading, or auth error not ready.",{dbInstance:M,userId:b,isLoadingAuth:H,authError:et}),_([]),Dt(!1);return}Dt(!0),K(null);const G=`artifacts/${La}/users/${b}/bookings`;console.log("Attempting to listen to Firestore collection:",G,"with userId:",b);const _t=Vd(M,G),_e=SC(_t),sn=xC(_e,de=>{console.log("Firestore snapshot received.");const Sn=[];de.forEach(wn=>{Sn.push({id:wn.id,...wn.data()})}),Sn.sort((wn,mn)=>{var bi,Jn;return(((bi=mn.timestamp)==null?void 0:bi.toDate())||0)-(((Jn=wn.timestamp)==null?void 0:Jn.toDate())||0)}),_(Sn),Dt(!1),console.log("Bookings updated:",Sn.length,"bookings.")},de=>{console.error("Firestore Error fetching bookings:",de),K(`Failed to load bookings: ${de.message}`),Dt(!1)});return()=>{console.log("Cleaning up Firestore listener."),sn()}},[M,b,H,et,La]);const Ei=wt.useMemo(()=>new Date().toISOString().split("T")[0],[]),Ti=wt.useMemo(()=>{const G=[];for(let _t=9;_t<=23;_t++){const _e=`${_t.toString().padStart(2,"0")}:00`,sn=_t>12?`${_t-12}:00 PM`:_t===12?"12:00 PM":`${_t}:00 AM`;G.push({value:_e,label:sn})}return G},[]),dn=wt.useCallback(()=>s0*l,[l]),Qs=wt.useMemo(()=>r0.filter(G=>G.category==="player"),[]),rn=wt.useMemo(()=>r0.filter(G=>G.category==="mixer"),[]),Ks=wt.useCallback(G=>{g(_t=>_t.some(sn=>sn.id===G.id)?_t.filter(sn=>sn.id!==G.id):[..._t,G])},[]),es=wt.useCallback(async()=>{if(!qt){W("Authentication service not available.");return}W(null);try{await Z1(qt,mt,Ht),console.log("User signed up successfully!")}catch(G){console.error("Sign-up error:",G),W(`Sign-up failed: ${G.message}`)}},[qt,mt,Ht]),rr=wt.useCallback(async()=>{if(!qt){W("Authentication service not available.");return}W(null);try{await J1(qt,mt,Ht),console.log("User signed in successfully!")}catch(G){console.error("Sign-in error:",G),W(`Sign-in failed: ${G.message}`)}},[qt,mt,Ht]),Ai=wt.useCallback(async()=>{if(!qt){W("Authentication service not available.");return}W(null);try{const G=new Xi;await Aw(qt,G),console.log("User signed in with Google successfully!")}catch(G){console.error("Google Sign-in error:",G),G.code==="auth/popup-closed-by-user"?W("Google Sign-in popup closed. Please try again."):G.code==="auth/cancelled-popup-request"?W("Another sign-in attempt was already in progress. Please try again."):W(`Google Sign-in failed: ${G.message}`)}},[qt]),co=wt.useCallback(async()=>{if(qt)try{await nw(qt),R(null),_([]),console.log("User logged out."),ct(null),t(""),s(""),c(2),g([]),it("cash")}catch(G){console.error("Logout error:",G),K(`Logout failed: ${G.message}`)}},[qt]),sr=wt.useCallback(()=>{if(!r||!n){alert("Please select both date and time to proceed with booking.");return}if(!b||!M||et){K("App not ready to book. Please wait for authentication or resolve prior errors."),console.error("Booking attempted when userId, dbInstance, or authError not ready.",{userId:b,dbInstance:M,authError:et});return}Z==="online"?Tt(!0):ar("pending")},[r,n,l,f,dn,b,M,et,Z]),ar=wt.useCallback(async G=>{try{K(null),Dt(!0);const _t=dn(),_e={date:r,time:n,duration:l,equipment:f.map(de=>({id:de.id,name:de.name,type:de.type})),total:_t,userId:b,timestamp:MC(),paymentMethod:Z,paymentStatus:G},sn=Vd(M,`artifacts/${La}/users/${b}/bookings`);if(ot){const de=om(sn,ot);await CC(de,_e,{merge:!0}),console.log("Booking successfully UPDATED with ID:",ot),F({..._e,id:ot,timestamp:new Date}),w(!0)}else{const de=await NC(sn,_e);console.log("Booking successfully ADDED with ID:",de.id),F({..._e,id:de.id,timestamp:new Date}),w(!0)}ct(null),t(""),s(""),c(2),g([]),it("cash")}catch(_t){console.error(`Error ${ot?"updating":"adding"} booking to Firestore:`,_t),K(`Failed to ${ot?"update":"book"} session: ${_t.message}`)}finally{Dt(!1),Tt(!1)}},[r,n,l,f,dn,b,M,Z,La,ot]),Ys=wt.useCallback(G=>{ct(G.id),t(G.date),s(G.time),c(G.duration),g(G.equipment||[]),it(G.paymentMethod||"cash"),K(null),Bn.current&&Bn.current.scrollIntoView({behavior:"smooth",block:"start"})},[]),se=wt.useCallback(G=>{O(G),yt(!0)},[]),Gt=wt.useCallback(async()=>{if(!(!St||!M||!b))try{K(null),Dt(!0);const G=om(Vd(M,`artifacts/${La}/users/${b}/bookings`),St.id);await DC(G),console.log("Booking successfully deleted:",St.id)}catch(G){console.error("Error deleting booking:",G),K(`Failed to delete booking: ${G.message}`)}finally{Dt(!1),yt(!1),O(null)}},[St,M,b,La]);return H||!x||et?P.jsxs("div",{className:"bg-gray-900 min-h-screen flex items-center justify-center text-orange-200 text-2xl p-4 text-center",children:[et?`Authentication Error: ${et}`:"Authenticating Firebase...",P.jsx("br",{}),C&&P.jsx("span",{className:"text-red-300 text-base",children:C})]}):P.jsxs("div",{className:"bg-gray-900 min-h-screen p-4",children:[" ",P.jsxs("div",{className:"max-w-4xl mx-auto",children:[P.jsxs("div",{className:"text-center mb-8",children:[P.jsxs("h1",{className:"text-4xl font-bold text-orange-400 mb-2",children:[" "," DJ Studio Booking"]}),P.jsxs("p",{className:"text-gray-300 text-lg",children:[" ","Book your professional DJ room with premium equipment"]}),P.jsx("div",{className:"mt-4 flex justify-center gap-4",children:b?P.jsxs(P.Fragment,{children:[P.jsxs("p",{className:"text-gray-400 text-sm",children:["Logged In: ",P.jsxs("span",{className:"font-mono bg-gray-700 p-1 rounded-md text-xs text-orange-200",children:[b.substring(0,8),"..."]})," "]}),P.jsx("button",{onClick:co,className:"px-4 py-2 bg-orange-600 text-white rounded-xl text-sm hover:bg-orange-700 transition duration-200 shadow-lg",children:"Logout"})]}):P.jsx("button",{onClick:()=>It(!0),className:"px-6 py-3 bg-orange-600 text-white rounded-xl text-lg font-semibold hover:bg-orange-700 transition duration-200 shadow-lg",children:"Sign In / Sign Up"})})]}),C&&!et&&P.jsxs("div",{className:"bg-red-800 text-white px-4 py-3 rounded-xl relative mb-4",role:"alert",children:[" ",P.jsx("strong",{className:"font-bold",children:"Error!"}),P.jsxs("span",{className:"block sm:inline",children:[" ",C]})]}),P.jsxs("div",{ref:Bn,className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mb-6 border border-gray-700",children:[" ",P.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[P.jsxs("div",{className:"space-y-6",children:[P.jsxs("h2",{className:"text-2xl font-semibold text-orange-300 mb-4",children:[" "," Schedule Your Session"]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"select-date",className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Date"}),P.jsx("input",{id:"select-date",type:"date",min:Ei,value:r,onChange:G=>t(G.target.value),className:"w-full p-3 border border-gray-600 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition duration-200 bg-gray-700 text-white"})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"select-time",className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Time"}),P.jsxs("select",{id:"select-time",value:n,onChange:G=>s(G.target.value),className:"w-full p-3 border border-gray-600 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition duration-200 bg-gray-700 text-white",children:[P.jsx("option",{value:"",children:"Choose a time..."}),Ti.map(G=>P.jsx("option",{value:G.value,children:G.label},G.value))]})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"select-duration",className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration (hours)"}),P.jsxs("select",{id:"select-duration",value:l,onChange:G=>c(parseInt(G.target.value)),className:"w-full p-3 border border-gray-600 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition duration-200 bg-gray-700 text-white",children:[P.jsx("option",{value:1,children:"1 hour"}),P.jsx("option",{value:2,children:"2 hours (Default)"}),P.jsx("option",{value:3,children:"3 hours"}),P.jsx("option",{value:4,children:"4 hours"}),P.jsx("option",{value:6,children:"6 hours"}),P.jsx("option",{value:8,children:"8 hours"})]})]})]}),P.jsxs("div",{className:"bg-gray-700 rounded-xl p-6 border border-gray-600",children:[" ",P.jsxs("h3",{className:"text-xl font-semibold text-orange-300 mb-4",children:[" "," Booking Summary"]}),P.jsxs("div",{className:"space-y-3 text-gray-300",children:[" ",P.jsxs("div",{className:"flex justify-between text-sm",children:[P.jsx("span",{children:"Room Rate (per hour)"}),P.jsx("span",{children:xs(s0)})]}),P.jsxs("div",{className:"flex justify-between text-sm",children:[P.jsx("span",{children:"Duration"}),P.jsxs("span",{children:[l," hours"]})]}),P.jsxs("div",{className:"flex justify-between text-sm",children:[P.jsx("span",{children:"Equipment"}),P.jsx("span",{className:"text-green-400",children:"Included"})," "]}),P.jsx("hr",{className:"my-3 border-gray-600"})," ",P.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[P.jsx("span",{children:"Total"}),P.jsx("span",{className:"text-orange-400",children:xs(dn())})," "]})]}),r&&n&&P.jsxs("div",{className:"mt-6 p-4 bg-gray-600 rounded-lg text-gray-200",children:[" ",P.jsx("p",{className:"text-sm text-gray-300",children:"Session Details:"}),P.jsx("p",{className:"font-medium",children:vl(r)}),P.jsxs("p",{className:"font-medium",children:[El(PC(n,l))," "]})]})]})]})]}),P.jsxs("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mb-6 border border-gray-700",children:[" ",P.jsxs("h2",{className:"text-2xl font-semibold text-orange-300 mb-6",children:[" "," Select Your Preferred Equipment"]}),P.jsx("p",{className:"text-gray-300 mb-6",children:"All equipment is included in the room price. Please select what you'd like to use:"}),P.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[P.jsxs("div",{children:[P.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Players"}),P.jsx("div",{className:"space-y-3",children:Qs.map(G=>{const _t=f.some(_e=>_e.id===G.id);return P.jsx("div",{onClick:()=>Ks(G),className:`p-4 rounded-xl cursor-pointer border-2 transition-all duration-200 hover:translate-y-[-2px] ${_t?"border-orange-500 bg-orange-900 shadow-md text-white":"border-gray-700 bg-gray-700 hover:border-orange-500 hover:shadow-sm text-gray-200"}`,children:P.jsxs("div",{className:"flex items-center space-x-3",children:[P.jsx("div",{className:"text-2xl",children:G.icon}),P.jsxs("div",{children:[P.jsx("h4",{className:"font-semibold",children:G.name}),P.jsx("p",{className:"text-sm text-gray-400",children:G.type})]}),_t&&P.jsx("div",{className:"ml-auto",children:P.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center",children:P.jsx("span",{className:"text-white text-sm",children:""})})})]})},G.id)})})]}),P.jsxs("div",{children:[P.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Mixers"}),P.jsx("div",{className:"space-y-3",children:rn.map(G=>{const _t=f.some(_e=>_e.id===G.id);return P.jsx("div",{onClick:()=>Ks(G),className:`p-4 rounded-xl cursor-pointer border-2 transition-all duration-200 hover:translate-y-[-2px] ${_t?"border-orange-500 bg-orange-900 shadow-md text-white":"border-gray-700 bg-gray-700 hover:border-orange-500 hover:shadow-sm text-gray-200"}`,children:P.jsxs("div",{className:"flex items-center space-x-3",children:[P.jsx("div",{className:"text-2xl",children:G.icon}),P.jsxs("div",{children:[P.jsx("h4",{className:"font-semibold",children:G.name}),P.jsx("p",{className:"text-sm text-gray-400",children:G.type})]}),_t&&P.jsx("div",{className:"ml-auto",children:P.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center",children:P.jsx("span",{className:"text-white text-sm",children:""})})})]})},G.id)})})]})]}),f.length>0&&P.jsxs("div",{className:"mt-6 p-4 bg-green-900 rounded-lg text-green-300 border border-green-700",children:[" ",P.jsx("h4",{className:"font-semibold mb-2",children:"Selected Equipment:"}),P.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(G=>P.jsxs("span",{className:"bg-green-700 text-green-100 px-3 py-1 rounded-full text-sm",children:[G.icon," ",G.name]},G.id))})]})]}),P.jsxs("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mb-6 border border-gray-700",children:[" ",P.jsxs("h2",{className:"text-2xl font-semibold text-orange-300 mb-6",children:[" "," Select Payment Method"]}),P.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[P.jsxs("label",{className:`flex items-center p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 w-full ${Z==="online"?"border-orange-500 bg-orange-900 text-white shadow-md":"border-gray-700 bg-gray-700 hover:border-orange-500 text-gray-200"}`,children:[P.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:Z==="online",onChange:()=>it("online"),className:"form-radio h-5 w-5 text-orange-600"}),P.jsx("span",{className:"ml-3 text-lg font-medium",children:"Online Payment"})]}),P.jsxs("label",{className:`flex items-center p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 w-full ${Z==="cash"?"border-orange-500 bg-orange-900 text-white shadow-md":"border-gray-700 bg-gray-700 hover:border-orange-500 text-gray-200"}`,children:[P.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:Z==="cash",onChange:()=>it("cash"),className:"form-radio h-5 w-5 text-orange-600"}),P.jsx("span",{className:"ml-3 text-lg font-medium",children:"Cash on Arrival"})]})]})]}),P.jsxs("div",{className:"text-center",children:[P.jsx("button",{onClick:sr,disabled:!r||!n||ut||!b,className:`px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-200 ${r&&n&&!ut&&b?"bg-gradient-to-r from-orange-600 to-orange-800 text-white hover:from-orange-700 hover:to-orange-900 shadow-lg hover:shadow-xl transform hover:scale-105":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:ut?ot?"Updating...":"Booking...":ot?` Update Booking - ${xs(dn())}`:` Book DJ Studio - ${xs(dn())}`}),ot&&P.jsx("button",{onClick:()=>{ct(null),t(""),s(""),c(2),g([]),it("cash"),K(null)},className:"ml-4 px-6 py-3 bg-gray-700 text-gray-300 rounded-xl font-semibold hover:bg-gray-600 transition duration-200",children:"Cancel Edit"})]}),b&&ut&&p.length===0&&!C?P.jsx("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mt-6 text-center text-gray-400 border border-gray-700",children:"Loading bookings..."}):b&&p.length>0&&P.jsxs("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mt-6 border border-gray-700",children:[P.jsx("h2",{className:"text-2xl font-semibold text-orange-300 mb-6",children:" Recent Bookings"}),P.jsx("div",{className:"space-y-4",children:p.map(G=>P.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center border border-gray-600",children:[P.jsxs("div",{className:"flex-grow mb-4 sm:mb-0",children:[P.jsxs("p",{className:"font-medium text-gray-100",children:["Booking ID: ",P.jsx("span",{className:"font-mono text-xs text-gray-400",children:G.id})]}),P.jsxs("p",{className:"text-sm text-gray-300",children:[vl(G.date)," at ",El(G.time)," (",G.duration," hours)"]}),P.jsxs("p",{className:"text-xs text-gray-400",children:["Equipment: ",G.equipment&&G.equipment.length>0?G.equipment.map(_t=>_t.name).join(", "):"None selected"]}),P.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Payment: ",G.paymentMethod==="online"?"Online":"Cash",P.jsx("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs font-semibold ${G.paymentStatus==="paid"?"bg-green-700 text-green-200":"bg-yellow-700 text-yellow-200"}`,children:G.paymentStatus==="paid"?"PAID":"PENDING"})]})]}),P.jsxs("div",{className:"text-right",children:[P.jsx("p",{className:"font-bold text-orange-400",children:xs(G.total)}),P.jsxs("p",{className:"text-xs text-gray-400",children:["Booked by: ",P.jsx("span",{className:"font-mono text-xs text-orange-200",children:G.userId?G.userId.substring(0,8)+"...":"N/A"})]})]}),P.jsx("div",{className:"flex flex-col sm:flex-row gap-2 mt-2 sm:mt-0 sm:ml-4",children:b===G.userId&&P.jsxs(P.Fragment,{children:[P.jsx("button",{onClick:()=>Ys(G),className:"px-4 py-2 bg-orange-500 text-white rounded-xl text-sm hover:bg-orange-600 transition duration-200",children:"Edit"}),P.jsx("button",{onClick:()=>se(G),className:"px-4 py-2 bg-red-600 text-white rounded-xl text-sm hover:bg-red-700 transition duration-200",children:"Cancel"})]})})]},G.id))})]}),b&&!ut&&p.length===0&&!C&&P.jsx("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mt-6 text-center text-gray-400 border border-gray-700",children:"No recent bookings found. Make your first booking above!"}),!b&&P.jsx("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mt-6 text-center text-gray-400 border border-gray-700",children:"Sign in to view and make bookings."}),A&&D&&P.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:[" ",P.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full text-white border border-gray-700",children:[" ",P.jsxs("div",{className:"text-center",children:[P.jsx("div",{className:"text-6xl mb-4 pulse-animation",children:""}),P.jsx("h2",{className:"text-2xl font-bold text-orange-400 mb-4",children:ot?"Booking Updated!":"Booking Confirmed!"}),P.jsxs("div",{className:"text-left bg-gray-700 rounded-lg p-4 mb-6 text-gray-200",children:[" ",P.jsxs("p",{children:[P.jsx("strong",{children:"Date:"})," ",vl(D.date)]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Time:"})," ",El(D.time)]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Duration:"})," ",D.duration," hours"]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Equipment:"})," ",D.equipment&&D.equipment.length>0?D.equipment.map(G=>G.name).join(", "):"None selected"]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Total:"})," ",xs(D.total)]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Booking ID:"})," ",P.jsxs("span",{className:"font-mono text-xs text-gray-400",children:["#",D.id]})]}),P.jsxs("p",{className:"mt-2",children:[P.jsx("strong",{children:"Payment Method:"})," ",D.paymentMethod==="online"?"Online":"Cash on Arrival"]}),P.jsxs("p",{children:[P.jsx("strong",{children:"Payment Status:"}),P.jsx("span",{className:`ml-1 font-semibold ${D.paymentStatus==="paid"?"text-green-400":"text-yellow-400"}`,children:D.paymentStatus==="paid"?"PAID":"PENDING"})]})]}),P.jsx("button",{onClick:()=>w(!1),className:"bg-orange-600 text-white px-6 py-3 rounded-xl hover:bg-orange-700 transition duration-200",children:"Awesome! Close"})]})]})]}),ft&&P.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:[" ",P.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full text-white border border-gray-700",children:[" ",P.jsxs("h2",{className:"text-2xl font-bold text-orange-400 mb-6 text-center",children:[" ",fn?"Sign In":"Sign Up"]}),et&&P.jsx("div",{className:"bg-red-800 text-white px-4 py-3 rounded-xl relative mb-4 text-sm",role:"alert",children:et}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),P.jsx("input",{type:"email",id:"email",value:mt,onChange:G=>fe(G.target.value),className:"w-full p-3 border border-gray-600 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition duration-200 bg-gray-700 text-white",placeholder:"your.email@example.com"})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),P.jsx("input",{type:"password",id:"password",value:Ht,onChange:G=>hn(G.target.value),className:"w-full p-3 border border-gray-600 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition duration-200 bg-gray-700 text-white",placeholder:"********"})]})]}),P.jsxs("div",{className:"mt-6 space-y-4",children:[P.jsx("button",{onClick:fn?rr:es,className:"w-full px-6 py-3 bg-orange-600 text-white rounded-xl font-semibold hover:bg-orange-700 transition duration-200",children:fn?"Sign In":"Sign Up"}),P.jsx("button",{onClick:()=>zn(G=>!G),className:"w-full px-6 py-3 bg-gray-700 text-gray-300 rounded-xl font-semibold hover:bg-gray-600 transition duration-200",children:fn?"Need an account? Sign Up":"Already have an account? Sign In"}),P.jsxs("button",{onClick:Ai,className:"w-full px-6 py-3 bg-red-700 text-white rounded-xl font-semibold hover:bg-red-800 transition duration-200 flex items-center justify-center",children:[P.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",className:"w-5 h-5 mr-2"}),"Sign In with Google"]}),P.jsx("button",{onClick:()=>{It(!1),W(null),fe(""),hn("")},className:"w-full text-sm text-gray-400 hover:text-gray-200 transition duration-200 mt-2",children:"Cancel"})]})]})]}),tt&&P.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:[" ",P.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full text-white text-center border border-gray-700",children:[" ",P.jsx("h2",{className:"text-2xl font-bold text-orange-400 mb-4",children:"Simulate Online Payment"}),P.jsxs("p",{className:"text-gray-300 mb-6",children:["Please confirm payment of **",xs(dn()),"** for your booking on ",vl(r)," at ",El(n),"."]}),P.jsxs("div",{className:"flex justify-center gap-4",children:[P.jsx("button",{onClick:()=>ar("paid"),className:"px-6 py-3 bg-green-700 text-white rounded-xl font-semibold hover:bg-green-800 transition duration-200",children:"Confirm Payment (Simulated)"}),P.jsx("button",{onClick:()=>{Tt(!1),K("Payment cancelled by user.")},className:"px-6 py-3 bg-gray-700 text-gray-300 rounded-xl font-semibold hover:bg-gray-600 transition duration-200",children:"Cancel"})]})]})]}),Mt&&St&&P.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:[" ",P.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full text-white text-center border border-gray-700",children:[" ",P.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:"Confirm Deletion"}),P.jsxs("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to cancel the booking for **",vl(St.date)," at ",El(St.time),"** (Booking ID: ",P.jsxs("span",{className:"font-mono text-xs text-gray-400",children:[St.id.substring(0,8),"..."]}),")? This action cannot be undone."]}),P.jsxs("div",{className:"flex justify-center gap-4",children:[P.jsx("button",{onClick:Gt,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition duration-200",children:"Yes, Cancel Booking"}),P.jsx("button",{onClick:()=>{yt(!1),O(null),K(null)},className:"px-6 py-3 bg-gray-700 text-gray-300 rounded-xl font-semibold hover:bg-gray-600 transition duration-200",children:"No, Keep Booking"})]})]})]})]})]})}db.createRoot(document.getElementById("root")).render(P.jsx(sb.StrictMode,{children:P.jsx(kC,{})}));
