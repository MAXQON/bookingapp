var v1=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var oV=v1((cV,Jh)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function IE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zm={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function T1(){if(D0)return Tu;D0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Tu.Fragment=e,Tu.jsx=t,Tu.jsxs=t,Tu}var C0;function E1(){return C0||(C0=1,Zm.exports=T1()),Zm.exports}var B=E1(),Jm={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function S1(){if(O0)return xe;O0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function D(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,ae={};function Z(C,X,re){this.props=C,this.context=X,this.refs=ae,this.updater=re||q}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function we(){}we.prototype=Z.prototype;function de(C,X,re){this.props=C,this.context=X,this.refs=ae,this.updater=re||q}var ge=de.prototype=new we;ge.constructor=de,$(ge,Z.prototype),ge.isPureReactComponent=!0;var ze=Array.isArray,be={H:null,A:null,T:null,S:null,V:null},Me=Object.prototype.hasOwnProperty;function M(C,X,re,te,ne,Ve){return re=Ve.ref,{$$typeof:n,type:C,key:X,ref:re!==void 0?re:null,props:Ve}}function b(C,X){return M(C.type,X,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function N(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(re){return X[re]})}var x=/\/+/g;function V(C,X){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):X.toString(36)}function I(){}function Dt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(I,I):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function mt(C,X,re,te,ne){var Ve=typeof C;(Ve==="undefined"||Ve==="boolean")&&(C=null);var ve=!1;if(C===null)ve=!0;else switch(Ve){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(C.$$typeof){case n:case e:ve=!0;break;case E:return ve=C._init,mt(ve(C._payload),X,re,te,ne)}}if(ve)return ne=ne(C),ve=te===""?"."+V(C,0):te,ze(ne)?(re="",ve!=null&&(re=ve.replace(x,"$&/")+"/"),mt(ne,X,re,"",function(Wt){return Wt})):ne!=null&&(R(ne)&&(ne=b(ne,re+(ne.key==null||C&&C.key===ne.key?"":(""+ne.key).replace(x,"$&/")+"/")+ve)),X.push(ne)),1;ve=0;var St=te===""?".":te+":";if(ze(C))for(var it=0;it<C.length;it++)te=C[it],Ve=St+V(te,it),ve+=mt(te,X,re,Ve,ne);else if(it=D(C),typeof it=="function")for(C=it.call(C),it=0;!(te=C.next()).done;)te=te.value,Ve=St+V(te,it++),ve+=mt(te,X,re,Ve,ne);else if(Ve==="object"){if(typeof C.then=="function")return mt(Dt(C),X,re,te,ne);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Y(C,X,re){if(C==null)return C;var te=[],ne=0;return mt(C,te,"","",function(Ve){return X.call(re,Ve,ne++)}),te}function se(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(re){(C._status===0||C._status===-1)&&(C._status=1,C._result=re)},function(re){(C._status===0||C._status===-1)&&(C._status=2,C._result=re)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var me=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function je(){}return xe.Children={map:Y,forEach:function(C,X,re){Y(C,function(){X.apply(this,arguments)},re)},count:function(C){var X=0;return Y(C,function(){X++}),X},toArray:function(C){return Y(C,function(X){return X})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},xe.Component=Z,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=de,xe.StrictMode=s,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=be,xe.__COMPILER_RUNTIME={__proto__:null,c:function(C){return be.H.useMemoCache(C)}},xe.cache=function(C){return function(){return C.apply(null,arguments)}},xe.cloneElement=function(C,X,re){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var te=$({},C.props),ne=C.key,Ve=void 0;if(X!=null)for(ve in X.ref!==void 0&&(Ve=void 0),X.key!==void 0&&(ne=""+X.key),X)!Me.call(X,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&X.ref===void 0||(te[ve]=X[ve]);var ve=arguments.length-2;if(ve===1)te.children=re;else if(1<ve){for(var St=Array(ve),it=0;it<ve;it++)St[it]=arguments[it+2];te.children=St}return M(C.type,ne,void 0,void 0,Ve,te)},xe.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},xe.createElement=function(C,X,re){var te,ne={},Ve=null;if(X!=null)for(te in X.key!==void 0&&(Ve=""+X.key),X)Me.call(X,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ne[te]=X[te]);var ve=arguments.length-2;if(ve===1)ne.children=re;else if(1<ve){for(var St=Array(ve),it=0;it<ve;it++)St[it]=arguments[it+2];ne.children=St}if(C&&C.defaultProps)for(te in ve=C.defaultProps,ve)ne[te]===void 0&&(ne[te]=ve[te]);return M(C,Ve,void 0,void 0,null,ne)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(C){return{$$typeof:m,render:C}},xe.isValidElement=R,xe.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:se}},xe.memo=function(C,X){return{$$typeof:y,type:C,compare:X===void 0?null:X}},xe.startTransition=function(C){var X=be.T,re={};be.T=re;try{var te=C(),ne=be.S;ne!==null&&ne(re,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(je,me)}catch(Ve){me(Ve)}finally{be.T=X}},xe.unstable_useCacheRefresh=function(){return be.H.useCacheRefresh()},xe.use=function(C){return be.H.use(C)},xe.useActionState=function(C,X,re){return be.H.useActionState(C,X,re)},xe.useCallback=function(C,X){return be.H.useCallback(C,X)},xe.useContext=function(C){return be.H.useContext(C)},xe.useDebugValue=function(){},xe.useDeferredValue=function(C,X){return be.H.useDeferredValue(C,X)},xe.useEffect=function(C,X,re){var te=be.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(C,X)},xe.useId=function(){return be.H.useId()},xe.useImperativeHandle=function(C,X,re){return be.H.useImperativeHandle(C,X,re)},xe.useInsertionEffect=function(C,X){return be.H.useInsertionEffect(C,X)},xe.useLayoutEffect=function(C,X){return be.H.useLayoutEffect(C,X)},xe.useMemo=function(C,X){return be.H.useMemo(C,X)},xe.useOptimistic=function(C,X){return be.H.useOptimistic(C,X)},xe.useReducer=function(C,X,re){return be.H.useReducer(C,X,re)},xe.useRef=function(C){return be.H.useRef(C)},xe.useState=function(C){return be.H.useState(C)},xe.useSyncExternalStore=function(C,X,re){return be.H.useSyncExternalStore(C,X,re)},xe.useTransition=function(){return be.H.useTransition()},xe.version="19.1.0",xe}var N0;function tp(){return N0||(N0=1,Jm.exports=S1()),Jm.exports}var ye=tp();const w1=IE(ye);var eg={exports:{}},Eu={},tg={exports:{}},ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function b1(){return M0||(M0=1,function(n){function e(Y,se){var me=Y.length;Y.push(se);e:for(;0<me;){var je=me-1>>>1,C=Y[je];if(0<o(C,se))Y[je]=se,Y[me]=C,me=je;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var se=Y[0],me=Y.pop();if(me!==se){Y[0]=me;e:for(var je=0,C=Y.length,X=C>>>1;je<X;){var re=2*(je+1)-1,te=Y[re],ne=re+1,Ve=Y[ne];if(0>o(te,me))ne<C&&0>o(Ve,te)?(Y[je]=Ve,Y[ne]=me,je=ne):(Y[je]=te,Y[re]=me,je=re);else if(ne<C&&0>o(Ve,me))Y[je]=Ve,Y[ne]=me,je=ne;else break e}}return se}function o(Y,se){var me=Y.sortIndex-se.sortIndex;return me!==0?me:Y.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();n.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,w=null,D=3,q=!1,$=!1,ae=!1,Z=!1,we=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function ze(Y){for(var se=t(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=Y)s(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=t(y)}}function be(Y){if(ae=!1,ze(Y),!$)if(t(p)!==null)$=!0,Me||(Me=!0,V());else{var se=t(y);se!==null&&mt(be,se.startTime-Y)}}var Me=!1,M=-1,b=5,R=-1;function N(){return Z?!0:!(n.unstable_now()-R<b)}function x(){if(Z=!1,Me){var Y=n.unstable_now();R=Y;var se=!0;try{e:{$=!1,ae&&(ae=!1,de(M),M=-1),q=!0;var me=D;try{t:{for(ze(Y),w=t(p);w!==null&&!(w.expirationTime>Y&&N());){var je=w.callback;if(typeof je=="function"){w.callback=null,D=w.priorityLevel;var C=je(w.expirationTime<=Y);if(Y=n.unstable_now(),typeof C=="function"){w.callback=C,ze(Y),se=!0;break t}w===t(p)&&s(p),ze(Y)}else s(p);w=t(p)}if(w!==null)se=!0;else{var X=t(y);X!==null&&mt(be,X.startTime-Y),se=!1}}break e}finally{w=null,D=me,q=!1}se=void 0}}finally{se?V():Me=!1}}}var V;if(typeof ge=="function")V=function(){ge(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Dt=I.port2;I.port1.onmessage=x,V=function(){Dt.postMessage(null)}}else V=function(){we(x,0)};function mt(Y,se){M=we(function(){Y(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return D},n.unstable_next=function(Y){switch(D){case 1:case 2:case 3:var se=3;break;default:se=D}var me=D;D=se;try{return Y()}finally{D=me}},n.unstable_requestPaint=function(){Z=!0},n.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=D;D=Y;try{return se()}finally{D=me}},n.unstable_scheduleCallback=function(Y,se,me){var je=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?je+me:je):me=je,Y){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=me+C,Y={id:E++,callback:se,priorityLevel:Y,startTime:me,expirationTime:C,sortIndex:-1},me>je?(Y.sortIndex=me,e(y,Y),t(p)===null&&Y===t(y)&&(ae?(de(M),M=-1):ae=!0,mt(be,me-je))):(Y.sortIndex=C,e(p,Y),$||q||($=!0,Me||(Me=!0,V()))),Y},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(Y){var se=D;return function(){var me=D;D=se;try{return Y.apply(this,arguments)}finally{D=me}}}}(ng)),ng}var x0;function A1(){return x0||(x0=1,tg.exports=b1()),tg.exports}var ig={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function R1(){if(k0)return gn;k0=1;var n=tp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:E}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},gn.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},gn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},gn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},gn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:D,fetchPriority:q}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:D,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},gn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},gn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},gn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},gn.requestFormReset=function(p){s.d.r(p)},gn.unstable_batchedUpdates=function(p,y){return p(y)},gn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},gn.useFormStatus=function(){return f.H.useHostTransitionStatus()},gn.version="19.1.0",gn}var V0;function I1(){if(V0)return ig.exports;V0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ig.exports=R1(),ig.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function D1(){if(P0)return Eu;P0=1;var n=A1(),e=tp(),t=I1();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function f(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(u(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),i;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),de=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),ze=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=x&&i[x]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function Dt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case $:return"Fragment";case Z:return"Profiler";case ae:return"StrictMode";case be:return"Suspense";case Me:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case q:return"Portal";case ge:return(i.displayName||"Context")+".Provider";case de:return(i._context.displayName||"Context")+".Consumer";case ze:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return r=i.displayName||null,r!==null?r:Dt(i.type)||"Memo";case b:r=i._payload,i=i._init;try{return Dt(i(r))}catch{}}return null}var mt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},je=[],C=-1;function X(i){return{current:i}}function re(i){0>C||(i.current=je[C],je[C]=null,C--)}function te(i,r){C++,je[C]=i.current,i.current=r}var ne=X(null),Ve=X(null),ve=X(null),St=X(null);function it(i,r){switch(te(ve,r),te(Ve,i),te(ne,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?n0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=n0(r),i=i0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}re(ne),te(ne,i)}function Wt(){re(ne),re(Ve),re(ve)}function xn(i){i.memoizedState!==null&&te(St,i);var r=ne.current,a=i0(r,i.type);r!==a&&(te(Ve,i),te(ne,a))}function Ct(i){Ve.current===i&&(re(ne),re(Ve)),St.current===i&&(re(St),gu._currentValue=me)}var sr=Object.prototype.hasOwnProperty,jt=n.unstable_scheduleCallback,ar=n.unstable_cancelCallback,ui=n.unstable_shouldYield,es=n.unstable_requestPaint,In=n.unstable_now,Qa=n.unstable_getCurrentPriorityLevel,Xs=n.unstable_ImmediatePriority,ci=n.unstable_UserBlockingPriority,or=n.unstable_NormalPriority,Tl=n.unstable_LowPriority,hi=n.unstable_IdlePriority,fi=n.log,lr=n.unstable_setDisableYieldValue,vt=null,Qe=null;function nn(i){if(typeof fi=="function"&&lr(i),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(vt,i)}catch{}}var wt=Math.clz32?Math.clz32:Oi,$s=Math.log,Zs=Math.LN2;function Oi(i){return i>>>=0,i===0?32:31-($s(i)/Zs|0)|0}var di=256,kn=4194304;function Vn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ts(i,r,a){var l=i.pendingLanes;if(l===0)return 0;var h=0,d=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Vn(l):(v&=T,v!==0?h=Vn(v):a||(a=T&~i,a!==0&&(h=Vn(a))))):(T=l&~d,T!==0?h=Vn(T):v!==0?h=Vn(v):a||(a=l&~i,a!==0&&(h=Vn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ur(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function ns(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Js(){var i=di;return di<<=1,(di&4194048)===0&&(di=256),i}function ea(){var i=kn;return kn<<=1,(kn&62914560)===0&&(kn=4194304),i}function Fn(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function mi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ta(i,r,a,l,h,d){var v=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var T=i.entanglements,A=i.expirationTimes,L=i.hiddenUpdates;for(a=v&~a;0<a;){var F=31-wt(a),Q=1<<F;T[F]=0,A[F]=-1;var z=L[F];if(z!==null)for(L[F]=null,F=0;F<z.length;F++){var j=z[F];j!==null&&(j.lane&=-536870913)}a&=~Q}l!==0&&Gn(i,l,0),d!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=d&~(v&~r))}function Gn(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-wt(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function na(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-wt(a),h=1<<l;h&r|i[l]&r&&(i[l]|=r),a&=~h}}function Ni(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function is(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function gi(){var i=se.p;return i!==0?i:(i=window.event,i===void 0?32:S0(i.type))}function J(i,r){var a=se.p;try{return se.p=i,r()}finally{se.p=a}}var oe=Math.random().toString(36).slice(2),Ae="__reactFiber$"+oe,Ce="__reactProps$"+oe,Be="__reactContainer$"+oe,Bt="__reactEvents$"+oe,Ka="__reactListeners$"+oe,rn="__reactHandles$"+oe,Mi="__reactResources$"+oe,cr="__reactMarker$"+oe;function rs(i){delete i[Ae],delete i[Ce],delete i[Bt],delete i[Ka],delete i[rn]}function hr(i){var r=i[Ae];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Be]||a[Ae]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=o0(i);i!==null;){if(a=i[Ae])return a;i=o0(i)}return r}i=a,a=i.parentNode}return null}function xi(i){if(i=i[Ae]||i[Be]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function ki(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function En(i){var r=i[Mi];return r||(r=i[Mi]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ot(i){i[cr]=!0}var El=new Set,Wa={};function pi(i,r){fr(i,r),fr(i+"Capture",r)}function fr(i,r){for(Wa[i]=r,i=0;i<r.length;i++)El.add(r[i])}var dc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mc={},ia={};function gc(i){return sr.call(ia,i)?!0:sr.call(mc,i)?!1:dc.test(i)?ia[i]=!0:(mc[i]=!0,!1)}function ss(i,r,a){if(gc(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Vi(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function sn(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}var ra,pc;function dr(i){if(ra===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ra=r&&r[1]||"",pc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+i+pc}var Xa=!1;function $a(i,r){if(!i||Xa)return"";Xa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var z=j}Reflect.construct(i,[],Q)}else{try{Q.call()}catch(j){z=j}i.call(Q.prototype)}}else{try{throw Error()}catch(j){z=j}(Q=i())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var A=v.split(`
`),L=T.split(`
`);for(h=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===A.length||h===L.length)for(l=A.length-1,h=L.length-1;1<=l&&0<=h&&A[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(A[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||A[l]!==L[h]){var F=`
`+A[l].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=l&&0<=h);break}}}finally{Xa=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?dr(a):""}function Sl(i){switch(i.tag){case 26:case 27:case 5:return dr(i.type);case 16:return dr("Lazy");case 13:return dr("Suspense");case 19:return dr("SuspenseList");case 0:case 15:return $a(i.type,!1);case 11:return $a(i.type.render,!1);case 1:return $a(i.type,!0);case 31:return dr("Activity");default:return""}}function Za(i){try{var r="";do r+=Sl(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Sn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function wl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function nd(i){var r=wl(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ja(i){i._valueTracker||(i._valueTracker=nd(i))}function bl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=wl(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function sa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var id=/[\n"\\]/g;function Vt(i){return i.replace(id,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Pn(i,r,a,l,h,d,v,T){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),r!=null?v==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Sn(r)):i.value!==""+Sn(r)&&(i.value=""+Sn(r)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),r!=null?as(i,v,Sn(r)):a!=null?as(i,v,Sn(a)):l!=null&&i.removeAttribute("value"),h==null&&d!=null&&(i.defaultChecked=!!d),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+Sn(T):i.removeAttribute("name")}function aa(i,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(i.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Sn(a):"",r=r!=null?""+Sn(r):a,T||r===i.value||(i.value=r),i.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=T?i.checked:!!l,i.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v)}function as(i,r,a){r==="number"&&sa(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function mr(i,r,a,l){if(i=i.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<i.length;a++)h=r.hasOwnProperty("$"+i[a].value),i[a].selected!==h&&(i[a].selected=h),h&&l&&(i[a].defaultSelected=!0)}else{for(a=""+Sn(a),r=null,h=0;h<i.length;h++){if(i[h].value===a){i[h].selected=!0,l&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function lt(i,r,a){if(r!=null&&(r=""+Sn(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+Sn(a):""}function oa(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Sn(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function Qn(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var la=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yc(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||la.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function Al(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&yc(i,h,l)}else for(var d in r)r.hasOwnProperty(d)&&yc(i,d,r[d])}function Rl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(i){return sd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var gr=null;function Kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var pr=null,yr=null;function Il(i){var r=xi(i);if(r&&(i=r.stateNode)){var a=i[Ce]||null;e:switch(i=r.stateNode,r.type){case"input":if(Pn(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Vt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var h=l[Ce]||null;if(!h)throw Error(s(90));Pn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&bl(l)}break e;case"textarea":lt(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&mr(i,!!a.multiple,r,!1)}}}var Pi=!1;function _c(i,r,a){if(Pi)return i(r,a);Pi=!0;try{var l=i(r);return l}finally{if(Pi=!1,(pr!==null||yr!==null)&&(hh(),pr&&(r=pr,i=yr,yr=pr=null,Il(r),i)))for(r=0;r<i.length;r++)Il(i[r])}}function ua(i,r){var a=i.stateNode;if(a===null)return null;var l=a[Ce]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wn=!1;if(yi)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{Wn=!1}var Ui=null,os=null,_r=null;function Dl(){if(_r)return _r;var i,r=os,a=r.length,l,h="value"in Ui?Ui.value:Ui.textContent,d=h.length;for(i=0;i<a&&r[i]===h[i];i++);var v=a-i;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return _r=h.slice(i,1<l?1-l:void 0)}function Li(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function zi(){return!0}function Cl(){return!1}function Xt(i){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(a=i[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:Cl,this.isPropagationStopped=Cl,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),r}var rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},to=Xt(rt),ha=E({},rt,{view:0,detail:0}),vc=Xt(ha),no,io,ji,fa=E({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ji&&(ji&&i.type==="mousemove"?(no=i.screenX-ji.screenX,io=i.screenY-ji.screenY):io=no=0,ji=i),no)},movementY:function(i){return"movementY"in i?i.movementY:io}}),Xn=Xt(fa),Tc=E({},fa,{dataTransfer:0}),ad=Xt(Tc),da=E({},ha,{relatedTarget:0}),ro=Xt(da),Ol=E({},rt,{animationName:0,elapsedTime:0,pseudoElement:0}),so=Xt(Ol),Ec=E({},rt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ao=Xt(Ec),od=E({},rt,{data:0}),Nl=Xt(od),ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ml(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=wc[i])?!!r[i]:!1}function ga(){return Ml}var bc=E({},ha,{key:function(i){if(i.key){var r=ma[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Li(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Sc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(i){return i.type==="keypress"?Li(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Li(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),oo=Xt(bc),Ac=E({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xl=Xt(Ac),vr=E({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga}),Rc=Xt(vr),Ic=E({},rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dc=Xt(Ic),Cc=E({},fa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),lo=Xt(Cc),wn=E({},rt,{newState:0,oldState:0}),Oc=Xt(wn),Nc=[9,13,27,32],Bi=yi&&"CompositionEvent"in window,c=null;yi&&"documentMode"in document&&(c=document.documentMode);var g=yi&&"TextEvent"in window&&!c,_=yi&&(!Bi||c&&8<c&&11>=c),S=" ",P=!1;function H(i,r){switch(i){case"keyup":return Nc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ke=!1;function Ht(i,r){switch(i){case"compositionend":return ie(r);case"keypress":return r.which!==32?null:(P=!0,S);case"textInput":return i=r.data,i===S&&P?null:i;default:return null}}function We(i,r){if(Ke)return i==="compositionend"||!Bi&&H(i,r)?(i=Dl(),_r=os=Ui=null,Ke=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yt(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!$t[i.type]:r==="textarea"}function Tr(i,r,a,l){pr?yr?yr.push(l):yr=[l]:pr=l,r=yh(r,"onChange"),0<r.length&&(a=new to("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var an=null,Hi=null;function kl(i){$v(i,0)}function Mc(i){var r=ki(i);if(bl(r))return i}function _y(i,r){if(i==="change")return r}var vy=!1;if(yi){var ld;if(yi){var ud="oninput"in document;if(!ud){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),ud=typeof Ty.oninput=="function"}ld=ud}else ld=!1;vy=ld&&(!document.documentMode||9<document.documentMode)}function Ey(){an&&(an.detachEvent("onpropertychange",Sy),Hi=an=null)}function Sy(i){if(i.propertyName==="value"&&Mc(Hi)){var r=[];Tr(r,Hi,i,Kn(i)),_c(kl,r)}}function Wb(i,r,a){i==="focusin"?(Ey(),an=r,Hi=a,an.attachEvent("onpropertychange",Sy)):i==="focusout"&&Ey()}function Xb(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Mc(Hi)}function $b(i,r){if(i==="click")return Mc(r)}function Zb(i,r){if(i==="input"||i==="change")return Mc(r)}function Jb(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Un=typeof Object.is=="function"?Object.is:Jb;function Vl(i,r){if(Un(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!sr.call(r,h)||!Un(i[h],r[h]))return!1}return!0}function wy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function by(i,r){var a=wy(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wy(a)}}function Ay(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Ay(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Ry(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=sa(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=sa(i.document)}return r}function cd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var eA=yi&&"documentMode"in document&&11>=document.documentMode,uo=null,hd=null,Pl=null,fd=!1;function Iy(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fd||uo==null||uo!==sa(l)||(l=uo,"selectionStart"in l&&cd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&Vl(Pl,l)||(Pl=l,l=yh(hd,"onSelect"),0<l.length&&(r=new to("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=uo)))}function pa(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var co={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},dd={},Dy={};yi&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ya(i){if(dd[i])return dd[i];if(!co[i])return i;var r=co[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in Dy)return dd[i]=r[a];return i}var Cy=ya("animationend"),Oy=ya("animationiteration"),Ny=ya("animationstart"),tA=ya("transitionrun"),nA=ya("transitionstart"),iA=ya("transitioncancel"),My=ya("transitionend"),xy=new Map,md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");md.push("scrollEnd");function _i(i,r){xy.set(i,r),pi(r,[i])}var ky=new WeakMap;function $n(i,r){if(typeof i=="object"&&i!==null){var a=ky.get(i);return a!==void 0?a:(r={value:i,source:r,stack:Za(r)},ky.set(i,r),r)}return{value:i,source:r,stack:Za(r)}}var Zn=[],ho=0,gd=0;function xc(){for(var i=ho,r=gd=ho=0;r<i;){var a=Zn[r];Zn[r++]=null;var l=Zn[r];Zn[r++]=null;var h=Zn[r];Zn[r++]=null;var d=Zn[r];if(Zn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Vy(a,h,d)}}function kc(i,r,a,l){Zn[ho++]=i,Zn[ho++]=r,Zn[ho++]=a,Zn[ho++]=l,gd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function pd(i,r,a,l){return kc(i,r,a,l),Vc(i)}function fo(i,r){return kc(i,null,null,r),Vc(i)}function Vy(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=i.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(i=d.stateNode,i===null||i._visibility&1||(h=!0)),i=d,d=d.return;return i.tag===3?(d=i.stateNode,h&&r!==null&&(h=31-wt(a),i=d.hiddenUpdates,l=i[h],l===null?i[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Vc(i){if(50<ou)throw ou=0,Sm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var mo={};function rA(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,r,a,l){return new rA(i,r,a,l)}function yd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Er(i,r){var a=i.alternate;return a===null?(a=Ln(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Py(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Pc(i,r,a,l,h,d){var v=0;if(l=i,typeof i=="function")yd(i)&&(v=1);else if(typeof i=="string")v=a1(i,a,ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Ln(31,a,r,h),i.elementType=R,i.lanes=d,i;case $:return _a(a.children,h,d,r);case ae:v=8,h|=24;break;case Z:return i=Ln(12,a,r,h|2),i.elementType=Z,i.lanes=d,i;case be:return i=Ln(13,a,r,h),i.elementType=be,i.lanes=d,i;case Me:return i=Ln(19,a,r,h),i.elementType=Me,i.lanes=d,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case we:case ge:v=10;break e;case de:v=9;break e;case ze:v=11;break e;case M:v=14;break e;case b:v=16,l=null;break e}v=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=Ln(v,a,r,h),r.elementType=i,r.type=l,r.lanes=d,r}function _a(i,r,a,l){return i=Ln(7,i,l,r),i.lanes=a,i}function _d(i,r,a){return i=Ln(6,i,null,r),i.lanes=a,i}function vd(i,r,a){return r=Ln(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var go=[],po=0,Uc=null,Lc=0,Jn=[],ei=0,va=null,Sr=1,wr="";function Ta(i,r){go[po++]=Lc,go[po++]=Uc,Uc=i,Lc=r}function Uy(i,r,a){Jn[ei++]=Sr,Jn[ei++]=wr,Jn[ei++]=va,va=i;var l=Sr;i=wr;var h=32-wt(l)-1;l&=~(1<<h),a+=1;var d=32-wt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Sr=1<<32-wt(r)+h|a<<h|l,wr=d+i}else Sr=1<<d|a<<h|l,wr=i}function Td(i){i.return!==null&&(Ta(i,1),Uy(i,1,0))}function Ed(i){for(;i===Uc;)Uc=go[--po],go[po]=null,Lc=go[--po],go[po]=null;for(;i===va;)va=Jn[--ei],Jn[ei]=null,wr=Jn[--ei],Jn[ei]=null,Sr=Jn[--ei],Jn[ei]=null}var bn=null,Rt=null,nt=!1,Ea=null,Yi=!1,Sd=Error(s(519));function Sa(i){var r=Error(s(418,""));throw zl($n(r,i)),Sd}function Ly(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[Ae]=i,r[Ce]=l,a){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(a=0;a<uu.length;a++)Ye(uu[a],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Ye("invalid",r),aa(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ja(r);break;case"select":Ye("invalid",r);break;case"textarea":Ye("invalid",r),oa(r,l.value,l.defaultValue,l.children),Ja(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||t0(r.textContent,a)?(l.popover!=null&&(Ye("beforetoggle",r),Ye("toggle",r)),l.onScroll!=null&&Ye("scroll",r),l.onScrollEnd!=null&&Ye("scrollend",r),l.onClick!=null&&(r.onclick=_h),r=!0):r=!1,r||Sa(i)}function zy(i){for(bn=i.return;bn;)switch(bn.tag){case 5:case 13:Yi=!1;return;case 27:case 3:Yi=!0;return;default:bn=bn.return}}function Ul(i){if(i!==bn)return!1;if(!nt)return zy(i),nt=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Lm(i.type,i.memoizedProps)),a=!a),a&&Rt&&Sa(i),zy(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){Rt=Ti(i.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}Rt=null}}else r===27?(r=Rt,ws(i.type)?(i=Hm,Hm=null,Rt=i):Rt=r):Rt=bn?Ti(i.stateNode.nextSibling):null;return!0}function Ll(){Rt=bn=null,nt=!1}function jy(){var i=Ea;return i!==null&&(On===null?On=i:On.push.apply(On,i),Ea=null),i}function zl(i){Ea===null?Ea=[i]:Ea.push(i)}var wd=X(null),wa=null,br=null;function ls(i,r,a){te(wd,r._currentValue),r._currentValue=a}function Ar(i){i._currentValue=wd.current,re(wd)}function bd(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function Ad(i,r,a,l){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var A=0;A<r.length;A++)if(T.context===r[A]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),bd(d.return,a,i),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),bd(v,a,i),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===i){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function jl(i,r,a,l){i=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;Un(h.pendingProps.value,v.value)||(i!==null?i.push(T):i=[T])}}else if(h===St.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(gu):i=[gu])}h=h.return}i!==null&&Ad(r,i,a,l),r.flags|=262144}function zc(i){for(i=i.firstContext;i!==null;){if(!Un(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ba(i){wa=i,br=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function mn(i){return By(wa,i)}function jc(i,r){return wa===null&&ba(i),By(i,r)}function By(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},br===null){if(i===null)throw Error(s(308));br=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else br=br.next=r;return a}var sA=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},aA=n.unstable_scheduleCallback,oA=n.unstable_NormalPriority,qt={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rd(){return{controller:new sA,data:new Map,refCount:0}}function Bl(i){i.refCount--,i.refCount===0&&aA(oA,function(){i.controller.abort()})}var Hl=null,Id=0,yo=0,_o=null;function lA(i,r){if(Hl===null){var a=Hl=[];Id=0,yo=Cm(),_o={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Id++,r.then(Hy,Hy),r}function Hy(){if(--Id===0&&Hl!==null){_o!==null&&(_o.status="fulfilled");var i=Hl;Hl=null,yo=0,_o=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function uA(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Yy=Y.S;Y.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&lA(i,r),Yy!==null&&Yy(i,r)};var Aa=X(null);function Dd(){var i=Aa.current;return i!==null?i:gt.pooledCache}function Bc(i,r){r===null?te(Aa,Aa.current):te(Aa,r.pool)}function qy(){var i=Dd();return i===null?null:{parent:qt._currentValue,pool:i}}var Yl=Error(s(460)),Fy=Error(s(474)),Hc=Error(s(542)),Cd={then:function(){}};function Gy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yc(){}function Qy(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Yc,Yc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Wy(i),i;default:if(typeof r.status=="string")r.then(Yc,Yc);else{if(i=gt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Wy(i),i}throw ql=r,Yl}}var ql=null;function Ky(){if(ql===null)throw Error(s(459));var i=ql;return ql=null,i}function Wy(i){if(i===Yl||i===Hc)throw Error(s(483))}var us=!1;function Od(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function cs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function hs(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(at&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Vc(i),Vy(i,null,a),r}return kc(i,l,r,a),Vc(i)}function Fl(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,na(i,a)}}function Md(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var xd=!1;function Gl(){if(xd){var i=_o;if(i!==null)throw i}}function Ql(i,r,a,l){xd=!1;var h=i.updateQueue;us=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var A=T,L=A.next;A.next=null,v===null?d=L:v.next=L,v=A;var F=i.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==v&&(T===null?F.firstBaseUpdate=L:T.next=L,F.lastBaseUpdate=A))}if(d!==null){var Q=h.baseState;v=0,F=L=A=null,T=d;do{var z=T.lane&-536870913,j=z!==T.lane;if(j?(Xe&z)===z:(l&z)===z){z!==0&&z===yo&&(xd=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var De=i,Ee=T;z=r;var ht=a;switch(Ee.tag){case 1:if(De=Ee.payload,typeof De=="function"){Q=De.call(ht,Q,z);break e}Q=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ee.payload,z=typeof De=="function"?De.call(ht,Q,z):De,z==null)break e;Q=E({},Q,z);break e;case 2:us=!0}}z=T.callback,z!==null&&(i.flags|=64,j&&(i.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(L=F=j,A=Q):F=F.next=j,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;j=T,T=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);F===null&&(A=Q),h.baseState=A,h.firstBaseUpdate=L,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),vs|=v,i.lanes=v,i.memoizedState=Q}}function Xy(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function $y(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Xy(a[i],r)}var vo=X(null),qc=X(0);function Zy(i,r){i=Mr,te(qc,i),te(vo,r),Mr=i|r.baseLanes}function kd(){te(qc,Mr),te(vo,vo.current)}function Vd(){Mr=qc.current,re(vo),re(qc)}var fs=0,Pe=null,ut=null,Pt=null,Fc=!1,To=!1,Ra=!1,Gc=0,Kl=0,Eo=null,cA=0;function Nt(){throw Error(s(321))}function Pd(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Un(i[a],r[a]))return!1;return!0}function Ud(i,r,a,l,h,d){return fs=d,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=i===null||i.memoizedState===null?V_:P_,Ra=!1,d=a(l,h),Ra=!1,To&&(d=e_(r,a,l,h)),Jy(i),d}function Jy(i){Y.H=Zc;var r=ut!==null&&ut.next!==null;if(fs=0,Pt=ut=Pe=null,Fc=!1,Kl=0,Eo=null,r)throw Error(s(300));i===null||Zt||(i=i.dependencies,i!==null&&zc(i)&&(Zt=!0))}function e_(i,r,a,l){Pe=i;var h=0;do{if(To&&(Eo=null),Kl=0,To=!1,25<=h)throw Error(s(301));if(h+=1,Pt=ut=null,i.updateQueue!=null){var d=i.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=yA,d=r(a,l)}while(To);return d}function hA(){var i=Y.H,r=i.useState()[0];return r=typeof r.then=="function"?Wl(r):r,i=i.useState()[0],(ut!==null?ut.memoizedState:null)!==i&&(Pe.flags|=1024),r}function Ld(){var i=Gc!==0;return Gc=0,i}function zd(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function jd(i){if(Fc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Fc=!1}fs=0,Pt=ut=Pe=null,To=!1,Kl=Gc=0,Eo=null}function Dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Pe.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function Ut(){if(ut===null){var i=Pe.alternate;i=i!==null?i.memoizedState:null}else i=ut.next;var r=Pt===null?Pe.memoizedState:Pt.next;if(r!==null)Pt=r,ut=i;else{if(i===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));ut=i,i={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Pt===null?Pe.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function Bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(i){var r=Kl;return Kl+=1,Eo===null&&(Eo=[]),i=Qy(Eo,i,r),r=Pe,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?V_:P_),i}function Qc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wl(i);if(i.$$typeof===ge)return mn(i)}throw Error(s(438,String(i)))}function Hd(i){var r=null,a=Pe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Bd(),Pe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=N;return r.index++,a}function Rr(i,r){return typeof r=="function"?r(i):r}function Kc(i){var r=Ut();return Yd(r,ut,i)}function Yd(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=i.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=i.baseState,h===null)i.memoizedState=d;else{r=h.next;var T=v=null,A=null,L=r,F=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(Xe&Q)===Q:(fs&Q)===Q){var z=L.revertLane;if(z===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===yo&&(F=!0);else if((fs&z)===z){L=L.next,z===yo&&(F=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(T=A=Q,v=d):A=A.next=Q,Pe.lanes|=z,vs|=z;Q=L.action,Ra&&a(d,Q),d=L.hasEagerState?L.eagerState:a(d,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(T=A=z,v=d):A=A.next=z,Pe.lanes|=Q,vs|=Q;L=L.next}while(L!==null&&L!==r);if(A===null?v=d:A.next=T,!Un(d,i.memoizedState)&&(Zt=!0,F&&(a=_o,a!==null)))throw a;i.memoizedState=d,i.baseState=v,i.baseQueue=A,l.lastRenderedState=d}return h===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function qd(i){var r=Ut(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=i(d,v.action),v=v.next;while(v!==h);Un(d,r.memoizedState)||(Zt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function t_(i,r,a){var l=Pe,h=Ut(),d=nt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Un((ut||h).memoizedState,a);v&&(h.memoizedState=a,Zt=!0),h=h.queue;var T=r_.bind(null,l,h,i);if(Xl(2048,8,T,[i]),h.getSnapshot!==r||v||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,So(9,Wc(),i_.bind(null,l,h,a,r),null),gt===null)throw Error(s(349));d||(fs&124)!==0||n_(l,r,a)}return a}function n_(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=Pe.updateQueue,r===null?(r=Bd(),Pe.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function i_(i,r,a,l){r.value=a,r.getSnapshot=l,s_(r)&&a_(i)}function r_(i,r,a){return a(function(){s_(r)&&a_(i)})}function s_(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Un(i,a)}catch{return!0}}function a_(i){var r=fo(i,2);r!==null&&Yn(r,i,2)}function Fd(i){var r=Dn();if(typeof i=="function"){var a=i;if(i=a(),Ra){nn(!0);try{a()}finally{nn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:i},r}function o_(i,r,a,l){return i.baseState=a,Yd(i,ut,typeof l=="function"?l:Rr)}function fA(i,r,a,l,h){if($c(i))throw Error(s(485));if(i=r.action,i!==null){var d={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,l_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function l_(i,r){var a=r.action,l=r.payload,h=i.state;if(r.isTransition){var d=Y.T,v={};Y.T=v;try{var T=a(h,l),A=Y.S;A!==null&&A(v,T),u_(i,r,T)}catch(L){Gd(i,r,L)}finally{Y.T=d}}else try{d=a(h,l),u_(i,r,d)}catch(L){Gd(i,r,L)}}function u_(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){c_(i,r,l)},function(l){return Gd(i,r,l)}):c_(i,r,a)}function c_(i,r,a){r.status="fulfilled",r.value=a,h_(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,l_(i,a)))}function Gd(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,h_(r),r=r.next;while(r!==l)}i.action=null}function h_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function f_(i,r){return r}function d_(i,r){if(nt){var a=gt.formState;if(a!==null){e:{var l=Pe;if(nt){if(Rt){t:{for(var h=Rt,d=Yi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ti(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Rt=Ti(h.nextSibling),l=h.data==="F!";break e}}Sa(l)}l=!1}l&&(r=a[0])}}return a=Dn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f_,lastRenderedState:r},a.queue=l,a=M_.bind(null,Pe,l),l.dispatch=a,l=Fd(!1),d=$d.bind(null,Pe,!1,l.queue),l=Dn(),h={state:r,dispatch:null,action:i,pending:null},l.queue=h,a=fA.bind(null,Pe,h,d,a),h.dispatch=a,l.memoizedState=i,[r,a,!1]}function m_(i){var r=Ut();return g_(r,ut,i)}function g_(i,r,a){if(r=Yd(i,r,f_)[0],i=Kc(Rr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Wl(r)}catch(v){throw v===Yl?Hc:v}else l=r;r=Ut();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Pe.flags|=2048,So(9,Wc(),dA.bind(null,h,a),null)),[l,d,i]}function dA(i,r){i.action=r}function p_(i){var r=Ut(),a=ut;if(a!==null)return g_(r,a,i);Ut(),r=r.memoizedState,a=Ut();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function So(i,r,a,l){return i={tag:i,create:a,deps:l,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=Bd(),Pe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function Wc(){return{destroy:void 0,resource:void 0}}function y_(){return Ut().memoizedState}function Xc(i,r,a,l){var h=Dn();l=l===void 0?null:l,Pe.flags|=i,h.memoizedState=So(1|r,Wc(),a,l)}function Xl(i,r,a,l){var h=Ut();l=l===void 0?null:l;var d=h.memoizedState.inst;ut!==null&&l!==null&&Pd(l,ut.memoizedState.deps)?h.memoizedState=So(r,d,a,l):(Pe.flags|=i,h.memoizedState=So(1|r,d,a,l))}function __(i,r){Xc(8390656,8,i,r)}function v_(i,r){Xl(2048,8,i,r)}function T_(i,r){return Xl(4,2,i,r)}function E_(i,r){return Xl(4,4,i,r)}function S_(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function w_(i,r,a){a=a!=null?a.concat([i]):null,Xl(4,4,S_.bind(null,r,i),a)}function Qd(){}function b_(i,r){var a=Ut();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Pd(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function A_(i,r){var a=Ut();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Pd(r,l[1]))return l[0];if(l=i(),Ra){nn(!0);try{i()}finally{nn(!1)}}return a.memoizedState=[l,r],l}function Kd(i,r,a){return a===void 0||(fs&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=Dv(),Pe.lanes|=i,vs|=i,a)}function R_(i,r,a,l){return Un(a,r)?a:vo.current!==null?(i=Kd(i,a,l),Un(i,r)||(Zt=!0),i):(fs&42)===0?(Zt=!0,i.memoizedState=a):(i=Dv(),Pe.lanes|=i,vs|=i,r)}function I_(i,r,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=Y.T,T={};Y.T=T,$d(i,!1,r,a);try{var A=h(),L=Y.S;if(L!==null&&L(T,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=uA(A,l);$l(i,r,F,Hn(i))}else $l(i,r,l,Hn(i))}catch(Q){$l(i,r,{then:function(){},status:"rejected",reason:Q},Hn())}finally{se.p=d,Y.T=v}}function mA(){}function Wd(i,r,a,l){if(i.tag!==5)throw Error(s(476));var h=D_(i).queue;I_(i,h,r,me,a===null?mA:function(){return C_(i),a(l)})}function D_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function C_(i){var r=D_(i).next.queue;$l(i,r,{},Hn())}function Xd(){return mn(gu)}function O_(){return Ut().memoizedState}function N_(){return Ut().memoizedState}function gA(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Hn();i=cs(a);var l=hs(r,i,a);l!==null&&(Yn(l,r,a),Fl(l,r,a)),r={cache:Rd()},i.payload=r;return}r=r.return}}function pA(i,r,a){var l=Hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},$c(i)?x_(r,a):(a=pd(i,r,a,l),a!==null&&(Yn(a,i,l),k_(a,r,l)))}function M_(i,r,a){var l=Hn();$l(i,r,a,l)}function $l(i,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if($c(i))x_(r,h);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,Un(T,v))return kc(i,r,h,0),gt===null&&xc(),!1}catch{}finally{}if(a=pd(i,r,h,l),a!==null)return Yn(a,i,l),k_(a,r,l),!0}return!1}function $d(i,r,a,l){if(l={lane:2,revertLane:Cm(),action:l,hasEagerState:!1,eagerState:null,next:null},$c(i)){if(r)throw Error(s(479))}else r=pd(i,a,l,2),r!==null&&Yn(r,i,2)}function $c(i){var r=i.alternate;return i===Pe||r!==null&&r===Pe}function x_(i,r){To=Fc=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function k_(i,r,a){if((a&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,na(i,a)}}var Zc={readContext:mn,use:Qc,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},V_={readContext:mn,use:Qc,useCallback:function(i,r){return Dn().memoizedState=[i,r===void 0?null:r],i},useContext:mn,useEffect:__,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,Xc(4194308,4,S_.bind(null,r,i),a)},useLayoutEffect:function(i,r){return Xc(4194308,4,i,r)},useInsertionEffect:function(i,r){Xc(4,2,i,r)},useMemo:function(i,r){var a=Dn();r=r===void 0?null:r;var l=i();if(Ra){nn(!0);try{i()}finally{nn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=Dn();if(a!==void 0){var h=a(r);if(Ra){nn(!0);try{a(r)}finally{nn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},l.queue=i,i=i.dispatch=pA.bind(null,Pe,i),[l.memoizedState,i]},useRef:function(i){var r=Dn();return i={current:i},r.memoizedState=i},useState:function(i){i=Fd(i);var r=i.queue,a=M_.bind(null,Pe,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Qd,useDeferredValue:function(i,r){var a=Dn();return Kd(a,i,r)},useTransition:function(){var i=Fd(!1);return i=I_.bind(null,Pe,i.queue,!0,!1),Dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=Pe,h=Dn();if(nt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),gt===null)throw Error(s(349));(Xe&124)!==0||n_(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,__(r_.bind(null,l,d,i),[i]),l.flags|=2048,So(9,Wc(),i_.bind(null,l,d,a,r),null),a},useId:function(){var i=Dn(),r=gt.identifierPrefix;if(nt){var a=wr,l=Sr;a=(l&~(1<<32-wt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Gc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=cA++,r=""+r+"r"+a.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:Xd,useFormState:d_,useActionState:d_,useOptimistic:function(i){var r=Dn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=$d.bind(null,Pe,!0,a),a.dispatch=r,[i,r]},useMemoCache:Hd,useCacheRefresh:function(){return Dn().memoizedState=gA.bind(null,Pe)}},P_={readContext:mn,use:Qc,useCallback:b_,useContext:mn,useEffect:v_,useImperativeHandle:w_,useInsertionEffect:T_,useLayoutEffect:E_,useMemo:A_,useReducer:Kc,useRef:y_,useState:function(){return Kc(Rr)},useDebugValue:Qd,useDeferredValue:function(i,r){var a=Ut();return R_(a,ut.memoizedState,i,r)},useTransition:function(){var i=Kc(Rr)[0],r=Ut().memoizedState;return[typeof i=="boolean"?i:Wl(i),r]},useSyncExternalStore:t_,useId:O_,useHostTransitionStatus:Xd,useFormState:m_,useActionState:m_,useOptimistic:function(i,r){var a=Ut();return o_(a,ut,i,r)},useMemoCache:Hd,useCacheRefresh:N_},yA={readContext:mn,use:Qc,useCallback:b_,useContext:mn,useEffect:v_,useImperativeHandle:w_,useInsertionEffect:T_,useLayoutEffect:E_,useMemo:A_,useReducer:qd,useRef:y_,useState:function(){return qd(Rr)},useDebugValue:Qd,useDeferredValue:function(i,r){var a=Ut();return ut===null?Kd(a,i,r):R_(a,ut.memoizedState,i,r)},useTransition:function(){var i=qd(Rr)[0],r=Ut().memoizedState;return[typeof i=="boolean"?i:Wl(i),r]},useSyncExternalStore:t_,useId:O_,useHostTransitionStatus:Xd,useFormState:p_,useActionState:p_,useOptimistic:function(i,r){var a=Ut();return ut!==null?o_(a,ut,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Hd,useCacheRefresh:N_},wo=null,Zl=0;function Jc(i){var r=Zl;return Zl+=1,wo===null&&(wo=[]),Qy(wo,i,r)}function Jl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function eh(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function U_(i){var r=i._init;return r(i._payload)}function L_(i){function r(k,O){if(i){var U=k.deletions;U===null?(k.deletions=[O],k.flags|=16):U.push(O)}}function a(k,O){if(!i)return null;for(;O!==null;)r(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Er(k,O),k.index=0,k.sibling=null,k}function d(k,O,U){return k.index=U,i?(U=k.alternate,U!==null?(U=U.index,U<O?(k.flags|=67108866,O):U):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function v(k){return i&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,U,G){return O===null||O.tag!==6?(O=_d(U,k.mode,G),O.return=k,O):(O=h(O,U),O.return=k,O)}function A(k,O,U,G){var he=U.type;return he===$?F(k,O,U.props.children,G,U.key):O!==null&&(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===b&&U_(he)===O.type)?(O=h(O,U.props),Jl(O,U),O.return=k,O):(O=Pc(U.type,U.key,U.props,null,k.mode,G),Jl(O,U),O.return=k,O)}function L(k,O,U,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=vd(U,k.mode,G),O.return=k,O):(O=h(O,U.children||[]),O.return=k,O)}function F(k,O,U,G,he){return O===null||O.tag!==7?(O=_a(U,k.mode,G,he),O.return=k,O):(O=h(O,U),O.return=k,O)}function Q(k,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=_d(""+O,k.mode,U),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return U=Pc(O.type,O.key,O.props,null,k.mode,U),Jl(U,O),U.return=k,U;case q:return O=vd(O,k.mode,U),O.return=k,O;case b:var G=O._init;return O=G(O._payload),Q(k,O,U)}if(mt(O)||V(O))return O=_a(O,k.mode,U,null),O.return=k,O;if(typeof O.then=="function")return Q(k,Jc(O),U);if(O.$$typeof===ge)return Q(k,jc(k,O),U);eh(k,O)}return null}function z(k,O,U,G){var he=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return he!==null?null:T(k,O,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case D:return U.key===he?A(k,O,U,G):null;case q:return U.key===he?L(k,O,U,G):null;case b:return he=U._init,U=he(U._payload),z(k,O,U,G)}if(mt(U)||V(U))return he!==null?null:F(k,O,U,G,null);if(typeof U.then=="function")return z(k,O,Jc(U),G);if(U.$$typeof===ge)return z(k,O,jc(k,U),G);eh(k,U)}return null}function j(k,O,U,G,he){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return k=k.get(U)||null,T(O,k,""+G,he);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case D:return k=k.get(G.key===null?U:G.key)||null,A(O,k,G,he);case q:return k=k.get(G.key===null?U:G.key)||null,L(O,k,G,he);case b:var Le=G._init;return G=Le(G._payload),j(k,O,U,G,he)}if(mt(G)||V(G))return k=k.get(U)||null,F(O,k,G,he,null);if(typeof G.then=="function")return j(k,O,U,Jc(G),he);if(G.$$typeof===ge)return j(k,O,U,jc(O,G),he);eh(O,G)}return null}function De(k,O,U,G){for(var he=null,Le=null,pe=O,Se=O=0,en=null;pe!==null&&Se<U.length;Se++){pe.index>Se?(en=pe,pe=null):en=pe.sibling;var Je=z(k,pe,U[Se],G);if(Je===null){pe===null&&(pe=en);break}i&&pe&&Je.alternate===null&&r(k,pe),O=d(Je,O,Se),Le===null?he=Je:Le.sibling=Je,Le=Je,pe=en}if(Se===U.length)return a(k,pe),nt&&Ta(k,Se),he;if(pe===null){for(;Se<U.length;Se++)pe=Q(k,U[Se],G),pe!==null&&(O=d(pe,O,Se),Le===null?he=pe:Le.sibling=pe,Le=pe);return nt&&Ta(k,Se),he}for(pe=l(pe);Se<U.length;Se++)en=j(pe,k,Se,U[Se],G),en!==null&&(i&&en.alternate!==null&&pe.delete(en.key===null?Se:en.key),O=d(en,O,Se),Le===null?he=en:Le.sibling=en,Le=en);return i&&pe.forEach(function(Ds){return r(k,Ds)}),nt&&Ta(k,Se),he}function Ee(k,O,U,G){if(U==null)throw Error(s(151));for(var he=null,Le=null,pe=O,Se=O=0,en=null,Je=U.next();pe!==null&&!Je.done;Se++,Je=U.next()){pe.index>Se?(en=pe,pe=null):en=pe.sibling;var Ds=z(k,pe,Je.value,G);if(Ds===null){pe===null&&(pe=en);break}i&&pe&&Ds.alternate===null&&r(k,pe),O=d(Ds,O,Se),Le===null?he=Ds:Le.sibling=Ds,Le=Ds,pe=en}if(Je.done)return a(k,pe),nt&&Ta(k,Se),he;if(pe===null){for(;!Je.done;Se++,Je=U.next())Je=Q(k,Je.value,G),Je!==null&&(O=d(Je,O,Se),Le===null?he=Je:Le.sibling=Je,Le=Je);return nt&&Ta(k,Se),he}for(pe=l(pe);!Je.done;Se++,Je=U.next())Je=j(pe,k,Se,Je.value,G),Je!==null&&(i&&Je.alternate!==null&&pe.delete(Je.key===null?Se:Je.key),O=d(Je,O,Se),Le===null?he=Je:Le.sibling=Je,Le=Je);return i&&pe.forEach(function(_1){return r(k,_1)}),nt&&Ta(k,Se),he}function ht(k,O,U,G){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case D:e:{for(var he=U.key;O!==null;){if(O.key===he){if(he=U.type,he===$){if(O.tag===7){a(k,O.sibling),G=h(O,U.props.children),G.return=k,k=G;break e}}else if(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===b&&U_(he)===O.type){a(k,O.sibling),G=h(O,U.props),Jl(G,U),G.return=k,k=G;break e}a(k,O);break}else r(k,O);O=O.sibling}U.type===$?(G=_a(U.props.children,k.mode,G,U.key),G.return=k,k=G):(G=Pc(U.type,U.key,U.props,null,k.mode,G),Jl(G,U),G.return=k,k=G)}return v(k);case q:e:{for(he=U.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(k,O.sibling),G=h(O,U.children||[]),G.return=k,k=G;break e}else{a(k,O);break}else r(k,O);O=O.sibling}G=vd(U,k.mode,G),G.return=k,k=G}return v(k);case b:return he=U._init,U=he(U._payload),ht(k,O,U,G)}if(mt(U))return De(k,O,U,G);if(V(U)){if(he=V(U),typeof he!="function")throw Error(s(150));return U=he.call(U),Ee(k,O,U,G)}if(typeof U.then=="function")return ht(k,O,Jc(U),G);if(U.$$typeof===ge)return ht(k,O,jc(k,U),G);eh(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(k,O.sibling),G=h(O,U),G.return=k,k=G):(a(k,O),G=_d(U,k.mode,G),G.return=k,k=G),v(k)):a(k,O)}return function(k,O,U,G){try{Zl=0;var he=ht(k,O,U,G);return wo=null,he}catch(pe){if(pe===Yl||pe===Hc)throw pe;var Le=Ln(29,pe,null,k.mode);return Le.lanes=G,Le.return=k,Le}finally{}}}var bo=L_(!0),z_=L_(!1),ti=X(null),qi=null;function ds(i){var r=i.alternate;te(Ft,Ft.current&1),te(ti,i),qi===null&&(r===null||vo.current!==null||r.memoizedState!==null)&&(qi=i)}function j_(i){if(i.tag===22){if(te(Ft,Ft.current),te(ti,i),qi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(qi=i)}}else ms()}function ms(){te(Ft,Ft.current),te(ti,ti.current)}function Ir(i){re(ti),qi===i&&(qi=null),re(Ft)}var Ft=X(0);function th(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Bm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Zd(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Jd={enqueueSetState:function(i,r,a){i=i._reactInternals;var l=Hn(),h=cs(l);h.payload=r,a!=null&&(h.callback=a),r=hs(i,h,l),r!==null&&(Yn(r,i,l),Fl(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=Hn(),h=cs(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=hs(i,h,l),r!==null&&(Yn(r,i,l),Fl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Hn(),l=cs(a);l.tag=2,r!=null&&(l.callback=r),r=hs(i,l,a),r!==null&&(Yn(r,i,a),Fl(r,i,a))}};function B_(i,r,a,l,h,d,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Vl(a,l)||!Vl(h,d):!0}function H_(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&Jd.enqueueReplaceState(r,r.state,null)}function Ia(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=E({},a));for(var h in i)a[h]===void 0&&(a[h]=i[h])}return a}var nh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Y_(i){nh(i)}function q_(i){console.error(i)}function F_(i){nh(i)}function ih(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function G_(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function em(i,r,a){return a=cs(a),a.tag=3,a.payload={element:null},a.callback=function(){ih(i,r)},a}function Q_(i){return i=cs(i),i.tag=3,i}function K_(i,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;i.payload=function(){return h(d)},i.callback=function(){G_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){G_(r,a,l),typeof h!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function _A(i,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&jl(r,a,h,!0),a=ti.current,a!==null){switch(a.tag){case 13:return qi===null?bm():a.alternate===null&&It===0&&(It=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Cd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Rm(i,l,h)),!1;case 22:return a.flags|=65536,l===Cd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Rm(i,l,h)),!1}throw Error(s(435,a.tag))}return Rm(i,l,h),bm(),!1}if(nt)return r=ti.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Sd&&(i=Error(s(422),{cause:l}),zl($n(i,a)))):(l!==Sd&&(r=Error(s(423),{cause:l}),zl($n(r,a))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,l=$n(l,a),h=em(i.stateNode,l,h),Md(i,h),It!==4&&(It=2)),!1;var d=Error(s(520),{cause:l});if(d=$n(d,a),au===null?au=[d]:au.push(d),It!==4&&(It=2),r===null)return!0;l=$n(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=h&-h,a.lanes|=i,i=em(a.stateNode,l,i),Md(a,i),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ts===null||!Ts.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Q_(h),K_(h,i,a,l),Md(a,h),!1}a=a.return}while(a!==null);return!1}var W_=Error(s(461)),Zt=!1;function on(i,r,a,l){r.child=i===null?z_(r,null,a,l):bo(r,i.child,a,l)}function X_(i,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ba(r),l=Ud(i,r,a,v,d,h),T=Ld(),i!==null&&!Zt?(zd(i,r,h),Dr(i,r,h)):(nt&&T&&Td(r),r.flags|=1,on(i,r,l,h),r.child)}function $_(i,r,a,l,h){if(i===null){var d=a.type;return typeof d=="function"&&!yd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Z_(i,r,d,l,h)):(i=Pc(a.type,null,l,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(d=i.child,!lm(i,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Vl,a(v,l)&&i.ref===r.ref)return Dr(i,r,h)}return r.flags|=1,i=Er(d,l),i.ref=r.ref,i.return=r,r.child=i}function Z_(i,r,a,l,h){if(i!==null){var d=i.memoizedProps;if(Vl(d,l)&&i.ref===r.ref)if(Zt=!1,r.pendingProps=l=d,lm(i,h))(i.flags&131072)!==0&&(Zt=!0);else return r.lanes=i.lanes,Dr(i,r,h)}return tm(i,r,a,l,h)}function J_(i,r,a){var l=r.pendingProps,h=l.children,d=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,i!==null){for(h=r.child=i.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return ev(i,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Bc(r,d!==null?d.cachePool:null),d!==null?Zy(r,d):kd(),j_(r);else return r.lanes=r.childLanes=536870912,ev(i,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Bc(r,d.cachePool),Zy(r,d),ms(),r.memoizedState=null):(i!==null&&Bc(r,null),kd(),ms());return on(i,r,h,a),r.child}function ev(i,r,a,l){var h=Dd();return h=h===null?null:{parent:qt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},i!==null&&Bc(r,null),kd(),j_(r),i!==null&&jl(i,r,l,!0),null}function rh(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function tm(i,r,a,l,h){return ba(r),a=Ud(i,r,a,l,void 0,h),l=Ld(),i!==null&&!Zt?(zd(i,r,h),Dr(i,r,h)):(nt&&l&&Td(r),r.flags|=1,on(i,r,a,h),r.child)}function tv(i,r,a,l,h,d){return ba(r),r.updateQueue=null,a=e_(r,l,a,h),Jy(i),l=Ld(),i!==null&&!Zt?(zd(i,r,d),Dr(i,r,d)):(nt&&l&&Td(r),r.flags|=1,on(i,r,a,d),r.child)}function nv(i,r,a,l,h){if(ba(r),r.stateNode===null){var d=mo,v=a.contextType;typeof v=="object"&&v!==null&&(d=mn(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Od(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?mn(v):mo,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Zd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Jd.enqueueReplaceState(d,d.state,null),Ql(r,l,d,h),Gl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){d=r.stateNode;var T=r.memoizedProps,A=Ia(a,T);d.props=A;var L=d.context,F=a.contextType;v=mo,typeof F=="object"&&F!==null&&(v=mn(F));var Q=a.getDerivedStateFromProps;F=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||L!==v)&&H_(r,d,l,v),us=!1;var z=r.memoizedState;d.state=z,Ql(r,l,d,h),Gl(),L=r.memoizedState,T||z!==L||us?(typeof Q=="function"&&(Zd(r,a,Q,l),L=r.memoizedState),(A=us||B_(r,a,A,l,z,L,v))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=L),d.props=l,d.state=L,d.context=v,l=A):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Nd(i,r),v=r.memoizedProps,F=Ia(a,v),d.props=F,Q=r.pendingProps,z=d.context,L=a.contextType,A=mo,typeof L=="object"&&L!==null&&(A=mn(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Q||z!==A)&&H_(r,d,l,A),us=!1,z=r.memoizedState,d.state=z,Ql(r,l,d,h),Gl();var j=r.memoizedState;v!==Q||z!==j||us||i!==null&&i.dependencies!==null&&zc(i.dependencies)?(typeof T=="function"&&(Zd(r,a,T,l),j=r.memoizedState),(F=us||B_(r,a,F,l,z,j,A)||i!==null&&i.dependencies!==null&&zc(i.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,A),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,A)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===i.memoizedProps&&z===i.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&z===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=A,l=F):(typeof d.componentDidUpdate!="function"||v===i.memoizedProps&&z===i.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&z===i.memoizedState||(r.flags|=1024),l=!1)}return d=l,rh(i,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,i!==null&&l?(r.child=bo(r,i.child,null,h),r.child=bo(r,null,a,h)):on(i,r,a,h),r.memoizedState=d.state,i=r.child):i=Dr(i,r,h),i}function iv(i,r,a,l){return Ll(),r.flags|=256,on(i,r,a,l),r.child}var nm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function im(i){return{baseLanes:i,cachePool:qy()}}function rm(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=ni),i}function rv(i,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=i!==null&&i.memoizedState===null?!1:(Ft.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,i===null){if(nt){if(h?ds(r):ms(),nt){var T=Rt,A;if(A=T){e:{for(A=T,T=Yi;A.nodeType!==8;){if(!T){T=null;break e}if(A=Ti(A.nextSibling),A===null){T=null;break e}}T=A}T!==null?(r.memoizedState={dehydrated:T,treeContext:va!==null?{id:Sr,overflow:wr}:null,retryLane:536870912,hydrationErrors:null},A=Ln(18,null,null,0),A.stateNode=T,A.return=r,r.child=A,bn=r,Rt=null,A=!0):A=!1}A||Sa(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Bm(T)?r.lanes=32:r.lanes=536870912,null;Ir(r)}return T=l.children,l=l.fallback,h?(ms(),h=r.mode,T=sh({mode:"hidden",children:T},h),l=_a(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=im(a),h.childLanes=rm(i,v,a),r.memoizedState=nm,l):(ds(r),sm(r,T))}if(A=i.memoizedState,A!==null&&(T=A.dehydrated,T!==null)){if(d)r.flags&256?(ds(r),r.flags&=-257,r=am(i,r,a)):r.memoizedState!==null?(ms(),r.child=i.child,r.flags|=128,r=null):(ms(),h=l.fallback,T=r.mode,l=sh({mode:"visible",children:l.children},T),h=_a(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,bo(r,i.child,null,a),l=r.child,l.memoizedState=im(a),l.childLanes=rm(i,v,a),r.memoizedState=nm,r=h);else if(ds(r),Bm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(s(419)),l.stack="",l.digest=v,zl({value:l,source:null,stack:null}),r=am(i,r,a)}else if(Zt||jl(i,r,a,!1),v=(a&i.childLanes)!==0,Zt||v){if(v=gt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Ni(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==A.retryLane))throw A.retryLane=l,fo(i,l),Yn(v,i,l),W_;T.data==="$?"||bm(),r=am(i,r,a)}else T.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=A.treeContext,Rt=Ti(T.nextSibling),bn=r,nt=!0,Ea=null,Yi=!1,i!==null&&(Jn[ei++]=Sr,Jn[ei++]=wr,Jn[ei++]=va,Sr=i.id,wr=i.overflow,va=r),r=sm(r,l.children),r.flags|=4096);return r}return h?(ms(),h=l.fallback,T=r.mode,A=i.child,L=A.sibling,l=Er(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,L!==null?h=Er(L,h):(h=_a(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=i.child.memoizedState,T===null?T=im(a):(A=T.cachePool,A!==null?(L=qt._currentValue,A=A.parent!==L?{parent:L,pool:L}:A):A=qy(),T={baseLanes:T.baseLanes|a,cachePool:A}),h.memoizedState=T,h.childLanes=rm(i,v,a),r.memoizedState=nm,l):(ds(r),a=i.child,i=a.sibling,a=Er(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(v=r.deletions,v===null?(r.deletions=[i],r.flags|=16):v.push(i)),r.child=a,r.memoizedState=null,a)}function sm(i,r){return r=sh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function sh(i,r){return i=Ln(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function am(i,r,a){return bo(r,i.child,null,a),i=sm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function sv(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),bd(i.return,r,a)}function om(i,r,a,l,h){var d=i.memoizedState;d===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function av(i,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(on(i,r,l.children,a),l=Ft.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&sv(i,a,r);else if(i.tag===19)sv(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(te(Ft,l),h){case"forwards":for(a=r.child,h=null;a!==null;)i=a.alternate,i!==null&&th(i)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),om(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&th(i)===null){r.child=h;break}i=h.sibling,h.sibling=a,a=h,h=i}om(r,!0,a,null,d);break;case"together":om(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Dr(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),vs|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(jl(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Er(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Er(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function lm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&zc(i)))}function vA(i,r,a){switch(r.tag){case 3:it(r,r.stateNode.containerInfo),ls(r,qt,i.memoizedState.cache),Ll();break;case 27:case 5:xn(r);break;case 4:it(r,r.stateNode.containerInfo);break;case 10:ls(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(ds(r),r.flags|=128,null):(a&r.child.childLanes)!==0?rv(i,r,a):(ds(r),i=Dr(i,r,a),i!==null?i.sibling:null);ds(r);break;case 19:var h=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(jl(i,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return av(i,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Ft,Ft.current),l)break;return null;case 22:case 23:return r.lanes=0,J_(i,r,a);case 24:ls(r,qt,i.memoizedState.cache)}return Dr(i,r,a)}function ov(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Zt=!0;else{if(!lm(i,a)&&(r.flags&128)===0)return Zt=!1,vA(i,r,a);Zt=(i.flags&131072)!==0}else Zt=!1,nt&&(r.flags&1048576)!==0&&Uy(r,Lc,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")yd(l)?(i=Ia(l,i),r.tag=1,r=nv(null,r,l,i,a)):(r.tag=0,r=tm(null,r,l,i,a));else{if(l!=null){if(h=l.$$typeof,h===ze){r.tag=11,r=X_(null,r,l,i,a);break e}else if(h===M){r.tag=14,r=$_(null,r,l,i,a);break e}}throw r=Dt(l)||l,Error(s(306,r,""))}}return r;case 0:return tm(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Ia(l,r.pendingProps),nv(i,r,l,h,a);case 3:e:{if(it(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Nd(i,r),Ql(r,l,null,a);var v=r.memoizedState;if(l=v.cache,ls(r,qt,l),l!==d.cache&&Ad(r,[qt],a,!0),Gl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=iv(i,r,l,a);break e}else if(l!==h){h=$n(Error(s(424)),r),zl(h),r=iv(i,r,l,a);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Rt=Ti(i.firstChild),bn=r,nt=!0,Ea=null,Yi=!0,a=z_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ll(),l===h){r=Dr(i,r,a);break e}on(i,r,l,a)}r=r.child}return r;case 26:return rh(i,r),i===null?(a=h0(r.type,null,r.pendingProps,null))?r.memoizedState=a:nt||(a=r.type,i=r.pendingProps,l=vh(ve.current).createElement(a),l[Ae]=r,l[Ce]=i,un(l,a,i),Ot(l),r.stateNode=l):r.memoizedState=h0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return xn(r),i===null&&nt&&(l=r.stateNode=l0(r.type,r.pendingProps,ve.current),bn=r,Yi=!0,h=Rt,ws(r.type)?(Hm=h,Rt=Ti(l.firstChild)):Rt=h),on(i,r,r.pendingProps.children,a),rh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&nt&&((h=l=Rt)&&(l=QA(l,r.type,r.pendingProps,Yi),l!==null?(r.stateNode=l,bn=r,Rt=Ti(l.firstChild),Yi=!1,h=!0):h=!1),h||Sa(r)),xn(r),h=r.type,d=r.pendingProps,v=i!==null?i.memoizedProps:null,l=d.children,Lm(h,d)?l=null:v!==null&&Lm(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Ud(i,r,hA,null,null,a),gu._currentValue=h),rh(i,r),on(i,r,l,a),r.child;case 6:return i===null&&nt&&((i=a=Rt)&&(a=KA(a,r.pendingProps,Yi),a!==null?(r.stateNode=a,bn=r,Rt=null,i=!0):i=!1),i||Sa(r)),null;case 13:return rv(i,r,a);case 4:return it(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=bo(r,null,l,a):on(i,r,l,a),r.child;case 11:return X_(i,r,r.type,r.pendingProps,a);case 7:return on(i,r,r.pendingProps,a),r.child;case 8:return on(i,r,r.pendingProps.children,a),r.child;case 12:return on(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ls(r,r.type,l.value),on(i,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,ba(r),h=mn(h),l=l(h),r.flags|=1,on(i,r,l,a),r.child;case 14:return $_(i,r,r.type,r.pendingProps,a);case 15:return Z_(i,r,r.type,r.pendingProps,a);case 19:return av(i,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},i===null?(a=sh(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Er(i.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return J_(i,r,a);case 24:return ba(r),l=mn(qt),i===null?(h=Dd(),h===null&&(h=gt,d=Rd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Od(r),ls(r,qt,h)):((i.lanes&a)!==0&&(Nd(i,r),Ql(r,null,null,a),Gl()),h=i.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),ls(r,qt,l)):(l=d.cache,ls(r,qt,l),l!==h.cache&&Ad(r,[qt],a,!0))),on(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Cr(i){i.flags|=4}function lv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!p0(r)){if(r=ti.current,r!==null&&((Xe&4194048)===Xe?qi!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||r!==qi))throw ql=Cd,Fy;i.flags|=8192}}function ah(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ea():536870912,i.lanes|=r,Do|=r)}function eu(i,r){if(!nt)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function bt(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var h=i.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function TA(i,r,a){var l=r.pendingProps;switch(Ed(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(r),null;case 1:return bt(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ar(qt),Wt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ul(r)?Cr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jy())),bt(r),null;case 26:return a=r.memoizedState,i===null?(Cr(r),a!==null?(bt(r),lv(r,a)):(bt(r),r.flags&=-16777217)):a?a!==i.memoizedState?(Cr(r),bt(r),lv(r,a)):(bt(r),r.flags&=-16777217):(i.memoizedProps!==l&&Cr(r),bt(r),r.flags&=-16777217),null;case 27:Ct(r),a=ve.current;var h=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Cr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return bt(r),null}i=ne.current,Ul(r)?Ly(r):(i=l0(h,l,a),r.stateNode=i,Cr(r))}return bt(r),null;case 5:if(Ct(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Cr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return bt(r),null}if(i=ne.current,Ul(r))Ly(r);else{switch(h=vh(ve.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}i[Ae]=r,i[Ce]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=i;e:switch(un(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Cr(r)}}return bt(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&Cr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=ve.current,Ul(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,h=bn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}i[Ae]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||t0(i.nodeValue,a)),i||Sa(r)}else i=vh(i).createTextNode(l),i[Ae]=r,r.stateNode=i}return bt(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Ul(r),l!==null&&l.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ae]=r}else Ll(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bt(r),h=!1}else h=jy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Ir(r),r):(Ir(r),null)}if(Ir(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),ah(r,r.updateQueue),bt(r),null;case 4:return Wt(),i===null&&xm(r.stateNode.containerInfo),bt(r),null;case 10:return Ar(r.type),bt(r),null;case 19:if(re(Ft),h=r.memoizedState,h===null)return bt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)eu(h,!1);else{if(It!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(d=th(i),d!==null){for(r.flags|=128,eu(h,!1),i=d.updateQueue,r.updateQueue=i,ah(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)Py(a,i),a=a.sibling;return te(Ft,Ft.current&1|2),r.child}i=i.sibling}h.tail!==null&&In()>uh&&(r.flags|=128,l=!0,eu(h,!1),r.lanes=4194304)}else{if(!l)if(i=th(d),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,ah(r,i),eu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!nt)return bt(r),null}else 2*In()-h.renderingStartTime>uh&&a!==536870912&&(r.flags|=128,l=!0,eu(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(i=h.last,i!==null?i.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=In(),r.sibling=null,i=Ft.current,te(Ft,l?i&1|2:i&1),r):(bt(r),null);case 22:case 23:return Ir(r),Vd(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(bt(r),r.subtreeFlags&6&&(r.flags|=8192)):bt(r),a=r.updateQueue,a!==null&&ah(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&re(Aa),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ar(qt),bt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function EA(i,r){switch(Ed(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ar(qt),Wt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ct(r),null;case 13:if(Ir(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ll()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return re(Ft),null;case 4:return Wt(),null;case 10:return Ar(r.type),null;case 22:case 23:return Ir(r),Vd(),i!==null&&re(Aa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ar(qt),null;case 25:return null;default:return null}}function uv(i,r){switch(Ed(r),r.tag){case 3:Ar(qt),Wt();break;case 26:case 27:case 5:Ct(r);break;case 4:Wt();break;case 13:Ir(r);break;case 19:re(Ft);break;case 10:Ar(r.type);break;case 22:case 23:Ir(r),Vd(),i!==null&&re(Aa);break;case 24:Ar(qt)}}function tu(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&i)===i){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){dt(r,r.return,T)}}function gs(i,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&i)===i){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var A=a,L=T;try{L()}catch(F){dt(h,A,F)}}}l=l.next}while(l!==d)}}catch(F){dt(r,r.return,F)}}function cv(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{$y(r,a)}catch(l){dt(i,i.return,l)}}}function hv(i,r,a){a.props=Ia(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){dt(i,r,l)}}function nu(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(h){dt(i,r,h)}}function Fi(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){dt(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){dt(i,r,h)}else a.current=null}function fv(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){dt(i,i.return,h)}}function um(i,r,a){try{var l=i.stateNode;HA(l,i.type,a,r),l[Ce]=r}catch(h){dt(i,i.return,h)}}function dv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ws(i.type)||i.tag===4}function cm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||dv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ws(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function hm(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=_h));else if(l!==4&&(l===27&&ws(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(hm(i,r,a),i=i.sibling;i!==null;)hm(i,r,a),i=i.sibling}function oh(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&(l===27&&ws(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(oh(i,r,a),i=i.sibling;i!==null;)oh(i,r,a),i=i.sibling}function mv(i){var r=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);un(r,l,a),r[Ae]=i,r[Ce]=a}catch(d){dt(i,i.return,d)}}var Or=!1,Mt=!1,fm=!1,gv=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function SA(i,r){if(i=i.containerInfo,Pm=Ah,i=Ry(i),cd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,A=-1,L=0,F=0,Q=i,z=null;t:for(;;){for(var j;Q!==a||h!==0&&Q.nodeType!==3||(T=v+h),Q!==d||l!==0&&Q.nodeType!==3||(A=v+l),Q.nodeType===3&&(v+=Q.nodeValue.length),(j=Q.firstChild)!==null;)z=Q,Q=j;for(;;){if(Q===i)break t;if(z===a&&++L===h&&(T=v),z===d&&++F===l&&(A=v),(j=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=j}a=T===-1||A===-1?null:{start:T,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(Um={focusedElem:i,selectionRange:a},Ah=!1,Jt=r;Jt!==null;)if(r=Jt,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Jt=i;else for(;Jt!==null;){switch(r=Jt,d=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&d!==null){i=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var De=Ia(a.type,h,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(De,d),l.__reactInternalSnapshotBeforeUpdate=i}catch(Ee){dt(a,a.return,Ee)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)jm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":jm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Jt=i;break}Jt=r.return}}function pv(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ps(i,a),l&4&&tu(5,a);break;case 1:if(ps(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(v){dt(a,a.return,v)}else{var h=Ia(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(v){dt(a,a.return,v)}}l&64&&cv(a),l&512&&nu(a,a.return);break;case 3:if(ps(i,a),l&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{$y(i,r)}catch(v){dt(a,a.return,v)}}break;case 27:r===null&&l&4&&mv(a);case 26:case 5:ps(i,a),r===null&&l&4&&fv(a),l&512&&nu(a,a.return);break;case 12:ps(i,a);break;case 13:ps(i,a),l&4&&vv(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=NA.bind(null,a),WA(i,a))));break;case 22:if(l=a.memoizedState!==null||Or,!l){r=r!==null&&r.memoizedState!==null||Mt,h=Or;var d=Mt;Or=l,(Mt=r)&&!d?ys(i,a,(a.subtreeFlags&8772)!==0):ps(i,a),Or=h,Mt=d}break;case 30:break;default:ps(i,a)}}function yv(i){var r=i.alternate;r!==null&&(i.alternate=null,yv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&rs(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Tt=null,Cn=!1;function Nr(i,r,a){for(a=a.child;a!==null;)_v(i,r,a),a=a.sibling}function _v(i,r,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(vt,a)}catch{}switch(a.tag){case 26:Mt||Fi(a,r),Nr(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||Fi(a,r);var l=Tt,h=Cn;ws(a.type)&&(Tt=a.stateNode,Cn=!1),Nr(i,r,a),hu(a.stateNode),Tt=l,Cn=h;break;case 5:Mt||Fi(a,r);case 6:if(l=Tt,h=Cn,Tt=null,Nr(i,r,a),Tt=l,Cn=h,Tt!==null)if(Cn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(a.stateNode)}catch(d){dt(a,r,d)}else try{Tt.removeChild(a.stateNode)}catch(d){dt(a,r,d)}break;case 18:Tt!==null&&(Cn?(i=Tt,a0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),vu(i)):a0(Tt,a.stateNode));break;case 4:l=Tt,h=Cn,Tt=a.stateNode.containerInfo,Cn=!0,Nr(i,r,a),Tt=l,Cn=h;break;case 0:case 11:case 14:case 15:Mt||gs(2,a,r),Mt||gs(4,a,r),Nr(i,r,a);break;case 1:Mt||(Fi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&hv(a,r,l)),Nr(i,r,a);break;case 21:Nr(i,r,a);break;case 22:Mt=(l=Mt)||a.memoizedState!==null,Nr(i,r,a),Mt=l;break;default:Nr(i,r,a)}}function vv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{vu(i)}catch(a){dt(r,r.return,a)}}function wA(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new gv),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new gv),r;default:throw Error(s(435,i.tag))}}function dm(i,r){var a=wA(i);r.forEach(function(l){var h=MA.bind(null,i,l);a.has(l)||(a.add(l),l.then(h,h))})}function zn(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=i,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(ws(T.type)){Tt=T.stateNode,Cn=!1;break e}break;case 5:Tt=T.stateNode,Cn=!1;break e;case 3:case 4:Tt=T.stateNode.containerInfo,Cn=!0;break e}T=T.return}if(Tt===null)throw Error(s(160));_v(d,v,h),Tt=null,Cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Tv(r,i),r=r.sibling}var vi=null;function Tv(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:zn(r,i),jn(i),l&4&&(gs(3,i,i.return),tu(3,i),gs(5,i,i.return));break;case 1:zn(r,i),jn(i),l&512&&(Mt||a===null||Fi(a,a.return)),l&64&&Or&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=vi;if(zn(r,i),jn(i),l&512&&(Mt||a===null||Fi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[cr]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),un(d,l,a),d[Ae]=i,Ot(d),l=d;break e;case"link":var v=m0("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),un(d,l,a),h.head.appendChild(d);break;case"meta":if(v=m0("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),un(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ae]=i,Ot(d),l=d}i.stateNode=l}else g0(h,i.type,i.stateNode);else i.stateNode=d0(h,l,i.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?g0(h,i.type,i.stateNode):d0(h,l,i.memoizedProps)):l===null&&i.stateNode!==null&&um(i,i.memoizedProps,a.memoizedProps)}break;case 27:zn(r,i),jn(i),l&512&&(Mt||a===null||Fi(a,a.return)),a!==null&&l&4&&um(i,i.memoizedProps,a.memoizedProps);break;case 5:if(zn(r,i),jn(i),l&512&&(Mt||a===null||Fi(a,a.return)),i.flags&32){h=i.stateNode;try{Qn(h,"")}catch(j){dt(i,i.return,j)}}l&4&&i.stateNode!=null&&(h=i.memoizedProps,um(i,h,a!==null?a.memoizedProps:h)),l&1024&&(fm=!0);break;case 6:if(zn(r,i),jn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(j){dt(i,i.return,j)}}break;case 3:if(Sh=null,h=vi,vi=Th(r.containerInfo),zn(r,i),vi=h,jn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{vu(r.containerInfo)}catch(j){dt(i,i.return,j)}fm&&(fm=!1,Ev(i));break;case 4:l=vi,vi=Th(i.stateNode.containerInfo),zn(r,i),jn(i),vi=l;break;case 12:zn(r,i),jn(i);break;case 13:zn(r,i),jn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vm=In()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,dm(i,l)));break;case 22:h=i.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,L=Or,F=Mt;if(Or=L||h,Mt=F||A,zn(r,i),Mt=F,Or=L,jn(i),l&8192)e:for(r=i.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||A||Or||Mt||Da(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){A=a=r;try{if(d=A.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=A.stateNode;var Q=A.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(j){dt(A,A.return,j)}}}else if(r.tag===6){if(a===null){A=r;try{A.stateNode.nodeValue=h?"":A.memoizedProps}catch(j){dt(A,A.return,j)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dm(i,a))));break;case 19:zn(r,i),jn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,dm(i,l)));break;case 30:break;case 21:break;default:zn(r,i),jn(i)}}function jn(i){var r=i.flags;if(r&2){try{for(var a,l=i.return;l!==null;){if(dv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=cm(i);oh(i,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Qn(v,""),a.flags&=-33);var T=cm(i);oh(i,T,v);break;case 3:case 4:var A=a.stateNode.containerInfo,L=cm(i);hm(i,L,A);break;default:throw Error(s(161))}}catch(F){dt(i,i.return,F)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Ev(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Ev(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ps(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)pv(i,r.alternate,r),r=r.sibling}function Da(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:gs(4,r,r.return),Da(r);break;case 1:Fi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&hv(r,r.return,a),Da(r);break;case 27:hu(r.stateNode);case 26:case 5:Fi(r,r.return),Da(r);break;case 22:r.memoizedState===null&&Da(r);break;case 30:Da(r);break;default:Da(r)}i=i.sibling}}function ys(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=i,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:ys(h,d,a),tu(4,d);break;case 1:if(ys(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){dt(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)Xy(A[h],T)}catch(L){dt(l,l.return,L)}}a&&v&64&&cv(d),nu(d,d.return);break;case 27:mv(d);case 26:case 5:ys(h,d,a),a&&l===null&&v&4&&fv(d),nu(d,d.return);break;case 12:ys(h,d,a);break;case 13:ys(h,d,a),a&&v&4&&vv(h,d);break;case 22:d.memoizedState===null&&ys(h,d,a),nu(d,d.return);break;case 30:break;default:ys(h,d,a)}r=r.sibling}}function mm(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Bl(a))}function gm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Bl(i))}function Gi(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Sv(i,r,a,l),r=r.sibling}function Sv(i,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Gi(i,r,a,l),h&2048&&tu(9,r);break;case 1:Gi(i,r,a,l);break;case 3:Gi(i,r,a,l),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Bl(i)));break;case 12:if(h&2048){Gi(i,r,a,l),i=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(A){dt(r,r.return,A)}}else Gi(i,r,a,l);break;case 13:Gi(i,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?Gi(i,r,a,l):iu(i,r):d._visibility&2?Gi(i,r,a,l):(d._visibility|=2,Ao(i,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&mm(v,r);break;case 24:Gi(i,r,a,l),h&2048&&gm(r.alternate,r);break;default:Gi(i,r,a,l)}}function Ao(i,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=i,v=r,T=a,A=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:Ao(d,v,T,A,h),tu(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?Ao(d,v,T,A,h):iu(d,v):(F._visibility|=2,Ao(d,v,T,A,h)),h&&L&2048&&mm(v.alternate,v);break;case 24:Ao(d,v,T,A,h),h&&L&2048&&gm(v.alternate,v);break;default:Ao(d,v,T,A,h)}r=r.sibling}}function iu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,h=l.flags;switch(l.tag){case 22:iu(a,l),h&2048&&mm(l.alternate,l);break;case 24:iu(a,l),h&2048&&gm(l.alternate,l);break;default:iu(a,l)}r=r.sibling}}var ru=8192;function Ro(i){if(i.subtreeFlags&ru)for(i=i.child;i!==null;)wv(i),i=i.sibling}function wv(i){switch(i.tag){case 26:Ro(i),i.flags&ru&&i.memoizedState!==null&&l1(vi,i.memoizedState,i.memoizedProps);break;case 5:Ro(i);break;case 3:case 4:var r=vi;vi=Th(i.stateNode.containerInfo),Ro(i),vi=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=ru,ru=16777216,Ro(i),ru=r):Ro(i));break;default:Ro(i)}}function bv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function su(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Jt=l,Rv(l,i)}bv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Av(i),i=i.sibling}function Av(i){switch(i.tag){case 0:case 11:case 15:su(i),i.flags&2048&&gs(9,i,i.return);break;case 3:su(i);break;case 12:su(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,lh(i)):su(i);break;default:su(i)}}function lh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Jt=l,Rv(l,i)}bv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:gs(8,r,r.return),lh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,lh(r));break;default:lh(r)}i=i.sibling}}function Rv(i,r){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:gs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Bl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Jt=l;else e:for(a=i;Jt!==null;){l=Jt;var h=l.sibling,d=l.return;if(yv(l),l===a){Jt=null;break e}if(h!==null){h.return=d,Jt=h;break e}Jt=d}}}var bA={getCacheForType:function(i){var r=mn(qt),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},AA=typeof WeakMap=="function"?WeakMap:Map,at=0,gt=null,He=null,Xe=0,ot=0,Bn=null,_s=!1,Io=!1,pm=!1,Mr=0,It=0,vs=0,Ca=0,ym=0,ni=0,Do=0,au=null,On=null,_m=!1,vm=0,uh=1/0,ch=null,Ts=null,ln=0,Es=null,Co=null,Oo=0,Tm=0,Em=null,Iv=null,ou=0,Sm=null;function Hn(){if((at&2)!==0&&Xe!==0)return Xe&-Xe;if(Y.T!==null){var i=yo;return i!==0?i:Cm()}return gi()}function Dv(){ni===0&&(ni=(Xe&536870912)===0||nt?Js():536870912);var i=ti.current;return i!==null&&(i.flags|=32),ni}function Yn(i,r,a){(i===gt&&(ot===2||ot===9)||i.cancelPendingCommit!==null)&&(No(i,0),Ss(i,Xe,ni,!1)),mi(i,a),((at&2)===0||i!==gt)&&(i===gt&&((at&2)===0&&(Ca|=a),It===4&&Ss(i,Xe,ni,!1)),Qi(i))}function Cv(i,r,a){if((at&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&i.expiredLanes)===0||ur(i,r),h=l?DA(i,r):Am(i,r,!0),d=l;do{if(h===0){Io&&!l&&Ss(i,r,0,!1);break}else{if(a=i.current.alternate,d&&!RA(a)){h=Am(i,r,!1),d=!1;continue}if(h===2){if(d=r,i.errorRecoveryDisabledLanes&d)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=i;h=au;var A=T.current.memoizedState.isDehydrated;if(A&&(No(T,v).flags|=256),v=Am(T,v,!1),v!==2){if(pm&&!A){T.errorRecoveryDisabledLanes|=d,Ca|=d,h=4;break e}d=On,On=h,d!==null&&(On===null?On=d:On.push.apply(On,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){No(i,0),Ss(i,r,0,!0);break}e:{switch(l=i,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ss(l,r,ni,!_s);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=vm+300-In(),10<h)){if(Ss(l,r,ni,!_s),ts(l,0,!0)!==0)break e;l.timeoutHandle=r0(Ov.bind(null,l,a,On,ch,_m,r,ni,Ca,Do,_s,d,2,-0,0),h);break e}Ov(l,a,On,ch,_m,r,ni,Ca,Do,_s,d,0,-0,0)}}break}while(!0);Qi(i)}function Ov(i,r,a,l,h,d,v,T,A,L,F,Q,z,j){if(i.timeoutHandle=-1,Q=r.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(mu={stylesheets:null,count:0,unsuspend:o1},wv(r),Q=u1(),Q!==null)){i.cancelPendingCommit=Q(Uv.bind(null,i,r,d,a,l,h,v,T,A,F,1,z,j)),Ss(i,d,v,!L);return}Uv(i,r,d,a,l,h,v,T,A)}function RA(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Un(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ss(i,r,a,l){r&=~ym,r&=~Ca,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var h=r;0<h;){var d=31-wt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Gn(i,a,r)}function hh(){return(at&6)===0?(lu(0),!1):!0}function wm(){if(He!==null){if(ot===0)var i=He.return;else i=He,br=wa=null,jd(i),wo=null,Zl=0,i=He;for(;i!==null;)uv(i.alternate,i),i=i.return;He=null}}function No(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,qA(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),wm(),gt=i,He=a=Er(i.current,null),Xe=r,ot=0,Bn=null,_s=!1,Io=ur(i,r),pm=!1,Do=ni=ym=Ca=vs=It=0,On=au=null,_m=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var h=31-wt(l),d=1<<h;r|=i[h],l&=~d}return Mr=r,xc(),a}function Nv(i,r){Pe=null,Y.H=Zc,r===Yl||r===Hc?(r=Ky(),ot=3):r===Fy?(r=Ky(),ot=4):ot=r===W_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,He===null&&(It=1,ih(i,$n(r,i.current)))}function Mv(){var i=Y.H;return Y.H=Zc,i===null?Zc:i}function xv(){var i=Y.A;return Y.A=bA,i}function bm(){It=4,_s||(Xe&4194048)!==Xe&&ti.current!==null||(Io=!0),(vs&134217727)===0&&(Ca&134217727)===0||gt===null||Ss(gt,Xe,ni,!1)}function Am(i,r,a){var l=at;at|=2;var h=Mv(),d=xv();(gt!==i||Xe!==r)&&(ch=null,No(i,r)),r=!1;var v=It;e:do try{if(ot!==0&&He!==null){var T=He,A=Bn;switch(ot){case 8:wm(),v=6;break e;case 3:case 2:case 9:case 6:ti.current===null&&(r=!0);var L=ot;if(ot=0,Bn=null,Mo(i,T,A,L),a&&Io){v=0;break e}break;default:L=ot,ot=0,Bn=null,Mo(i,T,A,L)}}IA(),v=It;break}catch(F){Nv(i,F)}while(!0);return r&&i.shellSuspendCounter++,br=wa=null,at=l,Y.H=h,Y.A=d,He===null&&(gt=null,Xe=0,xc()),v}function IA(){for(;He!==null;)kv(He)}function DA(i,r){var a=at;at|=2;var l=Mv(),h=xv();gt!==i||Xe!==r?(ch=null,uh=In()+500,No(i,r)):Io=ur(i,r);e:do try{if(ot!==0&&He!==null){r=He;var d=Bn;t:switch(ot){case 1:ot=0,Bn=null,Mo(i,r,d,1);break;case 2:case 9:if(Gy(d)){ot=0,Bn=null,Vv(r);break}r=function(){ot!==2&&ot!==9||gt!==i||(ot=7),Qi(i)},d.then(r,r);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Gy(d)?(ot=0,Bn=null,Vv(r)):(ot=0,Bn=null,Mo(i,r,d,7));break;case 5:var v=null;switch(He.tag){case 26:v=He.memoizedState;case 5:case 27:var T=He;if(!v||p0(v)){ot=0,Bn=null;var A=T.sibling;if(A!==null)He=A;else{var L=T.return;L!==null?(He=L,fh(L)):He=null}break t}}ot=0,Bn=null,Mo(i,r,d,5);break;case 6:ot=0,Bn=null,Mo(i,r,d,6);break;case 8:wm(),It=6;break e;default:throw Error(s(462))}}CA();break}catch(F){Nv(i,F)}while(!0);return br=wa=null,Y.H=l,Y.A=h,at=a,He!==null?0:(gt=null,Xe=0,xc(),It)}function CA(){for(;He!==null&&!ui();)kv(He)}function kv(i){var r=ov(i.alternate,i,Mr);i.memoizedProps=i.pendingProps,r===null?fh(i):He=r}function Vv(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=tv(a,r,r.pendingProps,r.type,void 0,Xe);break;case 11:r=tv(a,r,r.pendingProps,r.type.render,r.ref,Xe);break;case 5:jd(r);default:uv(a,r),r=He=Py(r,Mr),r=ov(a,r,Mr)}i.memoizedProps=i.pendingProps,r===null?fh(i):He=r}function Mo(i,r,a,l){br=wa=null,jd(r),wo=null,Zl=0;var h=r.return;try{if(_A(i,h,r,a,Xe)){It=1,ih(i,$n(a,i.current)),He=null;return}}catch(d){if(h!==null)throw He=h,d;It=1,ih(i,$n(a,i.current)),He=null;return}r.flags&32768?(nt||l===1?i=!0:Io||(Xe&536870912)!==0?i=!1:(_s=i=!0,(l===2||l===9||l===3||l===6)&&(l=ti.current,l!==null&&l.tag===13&&(l.flags|=16384))),Pv(r,i)):fh(r)}function fh(i){var r=i;do{if((r.flags&32768)!==0){Pv(r,_s);return}i=r.return;var a=TA(r.alternate,r,Mr);if(a!==null){He=a;return}if(r=r.sibling,r!==null){He=r;return}He=r=i}while(r!==null);It===0&&(It=5)}function Pv(i,r){do{var a=EA(i.alternate,i);if(a!==null){a.flags&=32767,He=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){He=i;return}He=i=a}while(i!==null);It=6,He=null}function Uv(i,r,a,l,h,d,v,T,A){i.cancelPendingCommit=null;do dh();while(ln!==0);if((at&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=gd,ta(i,a,d,v,T,A),i===gt&&(He=gt=null,Xe=0),Co=r,Es=i,Oo=a,Tm=d,Em=h,Iv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,xA(or,function(){return Hv(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=se.p,se.p=2,v=at,at|=4;try{SA(i,r,a)}finally{at=v,se.p=h,Y.T=l}}ln=1,Lv(),zv(),jv()}}function Lv(){if(ln===1){ln=0;var i=Es,r=Co,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var h=at;at|=4;try{Tv(r,i);var d=Um,v=Ry(i.containerInfo),T=d.focusedElem,A=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Ay(T.ownerDocument.documentElement,T)){if(A!==null&&cd(T)){var L=A.start,F=A.end;if(F===void 0&&(F=L),"selectionStart"in T)T.selectionStart=L,T.selectionEnd=Math.min(F,T.value.length);else{var Q=T.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var j=z.getSelection(),De=T.textContent.length,Ee=Math.min(A.start,De),ht=A.end===void 0?Ee:Math.min(A.end,De);!j.extend&&Ee>ht&&(v=ht,ht=Ee,Ee=v);var k=by(T,Ee),O=by(T,ht);if(k&&O&&(j.rangeCount!==1||j.anchorNode!==k.node||j.anchorOffset!==k.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var U=Q.createRange();U.setStart(k.node,k.offset),j.removeAllRanges(),Ee>ht?(j.addRange(U),j.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),j.addRange(U))}}}}for(Q=[],j=T;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var G=Q[T];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Ah=!!Pm,Um=Pm=null}finally{at=h,se.p=l,Y.T=a}}i.current=r,ln=2}}function zv(){if(ln===2){ln=0;var i=Es,r=Co,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var h=at;at|=4;try{pv(i,r.alternate,r)}finally{at=h,se.p=l,Y.T=a}}ln=3}}function jv(){if(ln===4||ln===3){ln=0,es();var i=Es,r=Co,a=Oo,l=Iv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ln=5:(ln=0,Co=Es=null,Bv(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&(Ts=null),is(a),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(vt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,h=se.p,se.p=2,Y.T=null;try{for(var d=i.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Y.T=r,se.p=h}}(Oo&3)!==0&&dh(),Qi(i),h=i.pendingLanes,(a&4194090)!==0&&(h&42)!==0?i===Sm?ou++:(ou=0,Sm=i):ou=0,lu(0)}}function Bv(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Bl(r)))}function dh(i){return Lv(),zv(),jv(),Hv()}function Hv(){if(ln!==5)return!1;var i=Es,r=Tm;Tm=0;var a=is(Oo),l=Y.T,h=se.p;try{se.p=32>a?32:a,Y.T=null,a=Em,Em=null;var d=Es,v=Oo;if(ln=0,Co=Es=null,Oo=0,(at&6)!==0)throw Error(s(331));var T=at;if(at|=4,Av(d.current),Sv(d,d.current,v,a),at=T,lu(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(vt,d)}catch{}return!0}finally{se.p=h,Y.T=l,Bv(i,r)}}function Yv(i,r,a){r=$n(a,r),r=em(i.stateNode,r,2),i=hs(i,r,2),i!==null&&(mi(i,2),Qi(i))}function dt(i,r,a){if(i.tag===3)Yv(i,i,a);else for(;r!==null;){if(r.tag===3){Yv(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ts===null||!Ts.has(l))){i=$n(a,i),a=Q_(2),l=hs(r,a,2),l!==null&&(K_(a,l,r,i),mi(l,2),Qi(l));break}}r=r.return}}function Rm(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new AA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(pm=!0,h.add(a),i=OA.bind(null,i,r,a),r.then(i,i))}function OA(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,gt===i&&(Xe&a)===a&&(It===4||It===3&&(Xe&62914560)===Xe&&300>In()-vm?(at&2)===0&&No(i,0):ym|=a,Do===Xe&&(Do=0)),Qi(i)}function qv(i,r){r===0&&(r=ea()),i=fo(i,r),i!==null&&(mi(i,r),Qi(i))}function NA(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),qv(i,a)}function MA(i,r){var a=0;switch(i.tag){case 13:var l=i.stateNode,h=i.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),qv(i,a)}function xA(i,r){return jt(i,r)}var mh=null,xo=null,Im=!1,gh=!1,Dm=!1,Oa=0;function Qi(i){i!==xo&&i.next===null&&(xo===null?mh=xo=i:xo=xo.next=i),gh=!0,Im||(Im=!0,VA())}function lu(i,r){if(!Dm&&gh){Dm=!0;do for(var a=!1,l=mh;l!==null;){if(i!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-wt(42|i)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Kv(l,d))}else d=Xe,d=ts(l,l===gt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ur(l,d)||(a=!0,Kv(l,d));l=l.next}while(a);Dm=!1}}function kA(){Fv()}function Fv(){gh=Im=!1;var i=0;Oa!==0&&(YA()&&(i=Oa),Oa=0);for(var r=In(),a=null,l=mh;l!==null;){var h=l.next,d=Gv(l,r);d===0?(l.next=null,a===null?mh=h:a.next=h,h===null&&(xo=a)):(a=l,(i!==0||(d&3)!==0)&&(gh=!0)),l=h}lu(i)}function Gv(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,h=i.expirationTimes,d=i.pendingLanes&-62914561;0<d;){var v=31-wt(d),T=1<<v,A=h[v];A===-1?((T&a)===0||(T&l)!==0)&&(h[v]=ns(T,r)):A<=r&&(i.expiredLanes|=T),d&=~T}if(r=gt,a=Xe,a=ts(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===r&&(ot===2||ot===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&ar(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||ur(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&ar(l),is(a)){case 2:case 8:a=ci;break;case 32:a=or;break;case 268435456:a=hi;break;default:a=or}return l=Qv.bind(null,i),a=jt(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&ar(l),i.callbackPriority=2,i.callbackNode=null,2}function Qv(i,r){if(ln!==0&&ln!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(dh()&&i.callbackNode!==a)return null;var l=Xe;return l=ts(i,i===gt?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(Cv(i,l,r),Gv(i,In()),i.callbackNode!=null&&i.callbackNode===a?Qv.bind(null,i):null)}function Kv(i,r){if(dh())return null;Cv(i,r,!0)}function VA(){FA(function(){(at&6)!==0?jt(Xs,kA):Fv()})}function Cm(){return Oa===0&&(Oa=Js()),Oa}function Wv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:eo(""+i)}function Xv(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function PA(i,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=Wv((h[Ce]||null).action),v=l.submitter;v&&(r=(r=v[Ce]||null)?Wv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new to("action","action",null,l,h);i.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Oa!==0){var A=v?Xv(h,v):new FormData(h);Wd(a,{pending:!0,data:A,method:h.method,action:d},null,A)}}else typeof d=="function"&&(T.preventDefault(),A=v?Xv(h,v):new FormData(h),Wd(a,{pending:!0,data:A,method:h.method,action:d},d,A))},currentTarget:h}]})}}for(var Om=0;Om<md.length;Om++){var Nm=md[Om],UA=Nm.toLowerCase(),LA=Nm[0].toUpperCase()+Nm.slice(1);_i(UA,"on"+LA)}_i(Cy,"onAnimationEnd"),_i(Oy,"onAnimationIteration"),_i(Ny,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(tA,"onTransitionRun"),_i(nA,"onTransitionStart"),_i(iA,"onTransitionCancel"),_i(My,"onTransitionEnd"),fr("onMouseEnter",["mouseout","mouseover"]),fr("onMouseLeave",["mouseout","mouseover"]),fr("onPointerEnter",["pointerout","pointerover"]),fr("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uu));function $v(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],A=T.instance,L=T.currentTarget;if(T=T.listener,A!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=L;try{d(h)}catch(F){nh(F)}h.currentTarget=null,d=A}else for(v=0;v<l.length;v++){if(T=l[v],A=T.instance,L=T.currentTarget,T=T.listener,A!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=L;try{d(h)}catch(F){nh(F)}h.currentTarget=null,d=A}}}}function Ye(i,r){var a=r[Bt];a===void 0&&(a=r[Bt]=new Set);var l=i+"__bubble";a.has(l)||(Zv(r,i,2,!1),a.add(l))}function Mm(i,r,a){var l=0;r&&(l|=4),Zv(a,i,l,r)}var ph="_reactListening"+Math.random().toString(36).slice(2);function xm(i){if(!i[ph]){i[ph]=!0,El.forEach(function(a){a!=="selectionchange"&&(zA.has(a)||Mm(a,!1,i),Mm(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ph]||(r[ph]=!0,Mm("selectionchange",!1,r))}}function Zv(i,r,a,l){switch(S0(r)){case 2:var h=f1;break;case 8:h=d1;break;default:h=Qm}a=h.bind(null,r,a,i),h=void 0,!Wn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?i.addEventListener(r,a,{capture:!0,passive:h}):i.addEventListener(r,a,!0):h!==void 0?i.addEventListener(r,a,{passive:h}):i.addEventListener(r,a,!1)}function km(i,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var A=v.tag;if((A===3||A===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=hr(T),v===null)return;if(A=v.tag,A===5||A===6||A===26||A===27){l=d=v;continue e}T=T.parentNode}}l=l.return}_c(function(){var L=d,F=Kn(a),Q=[];e:{var z=xy.get(i);if(z!==void 0){var j=to,De=i;switch(i){case"keypress":if(Li(a)===0)break e;case"keydown":case"keyup":j=oo;break;case"focusin":De="focus",j=ro;break;case"focusout":De="blur",j=ro;break;case"beforeblur":case"afterblur":j=ro;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Rc;break;case Cy:case Oy:case Ny:j=so;break;case My:j=Dc;break;case"scroll":case"scrollend":j=vc;break;case"wheel":j=lo;break;case"copy":case"cut":case"paste":j=ao;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=xl;break;case"toggle":case"beforetoggle":j=Oc}var Ee=(r&4)!==0,ht=!Ee&&(i==="scroll"||i==="scrollend"),k=Ee?z!==null?z+"Capture":null:z;Ee=[];for(var O=L,U;O!==null;){var G=O;if(U=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||U===null||k===null||(G=ua(O,k),G!=null&&Ee.push(cu(O,G,U))),ht)break;O=O.return}0<Ee.length&&(z=new j(z,De,null,a,F),Q.push({event:z,listeners:Ee}))}}if((r&7)===0){e:{if(z=i==="mouseover"||i==="pointerover",j=i==="mouseout"||i==="pointerout",z&&a!==gr&&(De=a.relatedTarget||a.fromElement)&&(hr(De)||De[Be]))break e;if((j||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,j?(De=a.relatedTarget||a.toElement,j=L,De=De?hr(De):null,De!==null&&(ht=u(De),Ee=De.tag,De!==ht||Ee!==5&&Ee!==27&&Ee!==6)&&(De=null)):(j=null,De=L),j!==De)){if(Ee=Xn,G="onMouseLeave",k="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=xl,G="onPointerLeave",k="onPointerEnter",O="pointer"),ht=j==null?z:ki(j),U=De==null?z:ki(De),z=new Ee(G,O+"leave",j,a,F),z.target=ht,z.relatedTarget=U,G=null,hr(F)===L&&(Ee=new Ee(k,O+"enter",De,a,F),Ee.target=U,Ee.relatedTarget=ht,G=Ee),ht=G,j&&De)t:{for(Ee=j,k=De,O=0,U=Ee;U;U=ko(U))O++;for(U=0,G=k;G;G=ko(G))U++;for(;0<O-U;)Ee=ko(Ee),O--;for(;0<U-O;)k=ko(k),U--;for(;O--;){if(Ee===k||k!==null&&Ee===k.alternate)break t;Ee=ko(Ee),k=ko(k)}Ee=null}else Ee=null;j!==null&&Jv(Q,z,j,Ee,!1),De!==null&&ht!==null&&Jv(Q,ht,De,Ee,!0)}}e:{if(z=L?ki(L):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var he=_y;else if(Yt(z))if(vy)he=Zb;else{he=Xb;var Le=Wb}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&Rl(L.elementType)&&(he=_y):he=$b;if(he&&(he=he(i,L))){Tr(Q,he,a,F);break e}Le&&Le(i,z,L),i==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&as(z,"number",z.value)}switch(Le=L?ki(L):window,i){case"focusin":(Yt(Le)||Le.contentEditable==="true")&&(uo=Le,hd=L,Pl=null);break;case"focusout":Pl=hd=uo=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,Iy(Q,a,F);break;case"selectionchange":if(eA)break;case"keydown":case"keyup":Iy(Q,a,F)}var pe;if(Bi)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Ke?H(i,a)&&(Se="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(_&&a.locale!=="ko"&&(Ke||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Ke&&(pe=Dl()):(Ui=F,os="value"in Ui?Ui.value:Ui.textContent,Ke=!0)),Le=yh(L,Se),0<Le.length&&(Se=new Nl(Se,i,null,a,F),Q.push({event:Se,listeners:Le}),pe?Se.data=pe:(pe=ie(a),pe!==null&&(Se.data=pe)))),(pe=g?Ht(i,a):We(i,a))&&(Se=yh(L,"onBeforeInput"),0<Se.length&&(Le=new Nl("onBeforeInput","beforeinput",null,a,F),Q.push({event:Le,listeners:Se}),Le.data=pe)),PA(Q,i,L,a,F)}$v(Q,r)})}function cu(i,r,a){return{instance:i,listener:r,currentTarget:a}}function yh(i,r){for(var a=r+"Capture",l=[];i!==null;){var h=i,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ua(i,a),h!=null&&l.unshift(cu(i,h,d)),h=ua(i,r),h!=null&&l.push(cu(i,h,d))),i.tag===3)return l;i=i.return}return[]}function ko(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Jv(i,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,A=T.alternate,L=T.stateNode;if(T=T.tag,A!==null&&A===l)break;T!==5&&T!==26&&T!==27||L===null||(A=L,h?(L=ua(a,d),L!=null&&v.unshift(cu(a,L,A))):h||(L=ua(a,d),L!=null&&v.push(cu(a,L,A)))),a=a.return}v.length!==0&&i.push({event:r,listeners:v})}var jA=/\r\n?/g,BA=/\u0000|\uFFFD/g;function e0(i){return(typeof i=="string"?i:""+i).replace(jA,`
`).replace(BA,"")}function t0(i,r){return r=e0(r),e0(i)===r}function _h(){}function ct(i,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Qn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Qn(i,""+l);break;case"className":Vi(i,"class",l);break;case"tabIndex":Vi(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(i,a,l);break;case"style":Al(i,l,d);break;case"data":if(r!=="object"){Vi(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=eo(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&ct(i,r,"name",h.name,h,null),ct(i,r,"formEncType",h.formEncType,h,null),ct(i,r,"formMethod",h.formMethod,h,null),ct(i,r,"formTarget",h.formTarget,h,null)):(ct(i,r,"encType",h.encType,h,null),ct(i,r,"method",h.method,h,null),ct(i,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=eo(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=_h);break;case"onScroll":l!=null&&Ye("scroll",i);break;case"onScrollEnd":l!=null&&Ye("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=eo(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Ye("beforetoggle",i),Ye("toggle",i),ss(i,"popover",l);break;case"xlinkActuate":sn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":sn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":sn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":sn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":sn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":sn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":sn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":sn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":sn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ss(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rd.get(a)||a,ss(i,a,l))}}function Vm(i,r,a,l,h,d){switch(a){case"style":Al(i,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?Qn(i,l):(typeof l=="number"||typeof l=="bigint")&&Qn(i,""+l);break;case"onScroll":l!=null&&Ye("scroll",i);break;case"onScrollEnd":l!=null&&Ye("scrollend",i);break;case"onClick":l!=null&&(i.onclick=_h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=i[Ce]||null,d=d!=null?d[a]:null,typeof d=="function"&&i.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,h);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):ss(i,a,l)}}}function un(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",i),Ye("load",i);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ct(i,r,d,v,a,null)}}h&&ct(i,r,"srcSet",a.srcSet,a,null),l&&ct(i,r,"src",a.src,a,null);return;case"input":Ye("invalid",i);var T=d=v=h=null,A=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":v=F;break;case"checked":A=F;break;case"defaultChecked":L=F;break;case"value":d=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:ct(i,r,l,F,a,null)}}aa(i,d,T,A,L,v,h,!1),Ja(i);return;case"select":Ye("invalid",i),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:ct(i,r,h,T,a,null)}r=d,a=v,i.multiple=!!l,r!=null?mr(i,!!l,r,!1):a!=null&&mr(i,!!l,a,!0);return;case"textarea":Ye("invalid",i),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ct(i,r,v,T,a,null)}oa(i,l,h,d),Ja(i);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(l=a[A],l!=null))switch(A){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ct(i,r,A,l,a,null)}return;case"dialog":Ye("beforetoggle",i),Ye("toggle",i),Ye("cancel",i),Ye("close",i);break;case"iframe":case"object":Ye("load",i);break;case"video":case"audio":for(l=0;l<uu.length;l++)Ye(uu[l],i);break;case"image":Ye("error",i),Ye("load",i);break;case"details":Ye("toggle",i);break;case"embed":case"source":case"link":Ye("error",i),Ye("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ct(i,r,L,l,a,null)}return;default:if(Rl(r)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&Vm(i,r,F,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ct(i,r,T,l,a,null))}function HA(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,A=null,L=null,F=null;for(j in a){var Q=a[j];if(a.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":A=Q;default:l.hasOwnProperty(j)||ct(i,r,j,null,l,Q)}}for(var z in l){var j=l[z];if(Q=a[z],l.hasOwnProperty(z)&&(j!=null||Q!=null))switch(z){case"type":d=j;break;case"name":h=j;break;case"checked":L=j;break;case"defaultChecked":F=j;break;case"value":v=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:j!==Q&&ct(i,r,z,j,l,Q)}}Pn(i,v,T,A,L,F,d,h);return;case"select":j=v=T=z=null;for(d in a)if(A=a[d],a.hasOwnProperty(d)&&A!=null)switch(d){case"value":break;case"multiple":j=A;default:l.hasOwnProperty(d)||ct(i,r,d,null,l,A)}for(h in l)if(d=l[h],A=a[h],l.hasOwnProperty(h)&&(d!=null||A!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==A&&ct(i,r,h,d,l,A)}r=T,a=v,l=j,z!=null?mr(i,!!a,z,!1):!!l!=!!a&&(r!=null?mr(i,!!a,r,!0):mr(i,!!a,a?[]:"",!1));return;case"textarea":j=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ct(i,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ct(i,r,v,h,l,d)}lt(i,z,j);return;case"option":for(var De in a)if(z=a[De],a.hasOwnProperty(De)&&z!=null&&!l.hasOwnProperty(De))switch(De){case"selected":i.selected=!1;break;default:ct(i,r,De,null,l,z)}for(A in l)if(z=l[A],j=a[A],l.hasOwnProperty(A)&&z!==j&&(z!=null||j!=null))switch(A){case"selected":i.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ct(i,r,A,z,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)z=a[Ee],a.hasOwnProperty(Ee)&&z!=null&&!l.hasOwnProperty(Ee)&&ct(i,r,Ee,null,l,z);for(L in l)if(z=l[L],j=a[L],l.hasOwnProperty(L)&&z!==j&&(z!=null||j!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,r));break;default:ct(i,r,L,z,l,j)}return;default:if(Rl(r)){for(var ht in a)z=a[ht],a.hasOwnProperty(ht)&&z!==void 0&&!l.hasOwnProperty(ht)&&Vm(i,r,ht,void 0,l,z);for(F in l)z=l[F],j=a[F],!l.hasOwnProperty(F)||z===j||z===void 0&&j===void 0||Vm(i,r,F,z,l,j);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&ct(i,r,k,null,l,z);for(Q in l)z=l[Q],j=a[Q],!l.hasOwnProperty(Q)||z===j||z==null&&j==null||ct(i,r,Q,z,l,j)}var Pm=null,Um=null;function vh(i){return i.nodeType===9?i:i.ownerDocument}function n0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Lm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var zm=null;function YA(){var i=window.event;return i&&i.type==="popstate"?i===zm?!1:(zm=i,!0):(zm=null,!1)}var r0=typeof setTimeout=="function"?setTimeout:void 0,qA=typeof clearTimeout=="function"?clearTimeout:void 0,s0=typeof Promise=="function"?Promise:void 0,FA=typeof queueMicrotask=="function"?queueMicrotask:typeof s0<"u"?function(i){return s0.resolve(null).then(i).catch(GA)}:r0;function GA(i){setTimeout(function(){throw i})}function ws(i){return i==="head"}function a0(i,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(i.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=i.ownerDocument;if(a&1&&hu(v.documentElement),a&2&&hu(v.body),a&4)for(a=v.head,hu(a),v=a.firstChild;v;){var T=v.nextSibling,A=v.nodeName;v[cr]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){i.removeChild(d),vu(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);vu(r)}function jm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jm(a),rs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function QA(i,r,a,l){for(;i.nodeType===1;){var h=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[cr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(d=i.getAttribute("rel"),d==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(d!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(d=i.getAttribute("src"),(d!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===d)return i}else return i;if(i=Ti(i.nextSibling),i===null)break}return null}function KA(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Ti(i.nextSibling),i===null))return null;return i}function Bm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function WA(i,r){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Ti(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Hm=null;function o0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function l0(i,r,a){switch(r=vh(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function hu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);rs(i)}var ii=new Map,u0=new Set;function Th(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var xr=se.d;se.d={f:XA,r:$A,D:ZA,C:JA,L:e1,m:t1,X:i1,S:n1,M:r1};function XA(){var i=xr.f(),r=hh();return i||r}function $A(i){var r=xi(i);r!==null&&r.tag===5&&r.type==="form"?C_(r):xr.r(i)}var Vo=typeof document>"u"?null:document;function c0(i,r,a){var l=Vo;if(l&&typeof r=="string"&&r){var h=Vt(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),u0.has(h)||(u0.add(h),i={rel:i,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),un(r,"link",i),Ot(r),l.head.appendChild(r)))}}function ZA(i){xr.D(i),c0("dns-prefetch",i,null)}function JA(i,r){xr.C(i,r),c0("preconnect",i,r)}function e1(i,r,a){xr.L(i,r,a);var l=Vo;if(l&&i&&r){var h='link[rel="preload"][as="'+Vt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Vt(a.imageSizes)+'"]')):h+='[href="'+Vt(i)+'"]';var d=h;switch(r){case"style":d=Po(i);break;case"script":d=Uo(i)}ii.has(d)||(i=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),ii.set(d,i),l.querySelector(h)!==null||r==="style"&&l.querySelector(fu(d))||r==="script"&&l.querySelector(du(d))||(r=l.createElement("link"),un(r,"link",i),Ot(r),l.head.appendChild(r)))}}function t1(i,r){xr.m(i,r);var a=Vo;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Vt(l)+'"][href="'+Vt(i)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Uo(i)}if(!ii.has(d)&&(i=E({rel:"modulepreload",href:i},r),ii.set(d,i),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(du(d)))return}l=a.createElement("link"),un(l,"link",i),Ot(l),a.head.appendChild(l)}}}function n1(i,r,a){xr.S(i,r,a);var l=Vo;if(l&&i){var h=En(l).hoistableStyles,d=Po(i);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(fu(d)))T.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},a),(a=ii.get(d))&&Ym(i,a);var A=v=l.createElement("link");Ot(A),un(A,"link",i),A._p=new Promise(function(L,F){A.onload=L,A.onerror=F}),A.addEventListener("load",function(){T.loading|=1}),A.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Eh(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function i1(i,r){xr.X(i,r);var a=Vo;if(a&&i){var l=En(a).hoistableScripts,h=Uo(i),d=l.get(h);d||(d=a.querySelector(du(h)),d||(i=E({src:i,async:!0},r),(r=ii.get(h))&&qm(i,r),d=a.createElement("script"),Ot(d),un(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function r1(i,r){xr.M(i,r);var a=Vo;if(a&&i){var l=En(a).hoistableScripts,h=Uo(i),d=l.get(h);d||(d=a.querySelector(du(h)),d||(i=E({src:i,async:!0,type:"module"},r),(r=ii.get(h))&&qm(i,r),d=a.createElement("script"),Ot(d),un(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function h0(i,r,a,l){var h=(h=ve.current)?Th(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Po(a.href),a=En(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Po(a.href);var d=En(h).hoistableStyles,v=d.get(i);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(i,v),(d=h.querySelector(fu(i)))&&!d._p&&(v.instance=d,v.state.loading=5),ii.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ii.set(i,a),d||s1(h,i,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Uo(a),a=En(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Po(i){return'href="'+Vt(i)+'"'}function fu(i){return'link[rel="stylesheet"]['+i+"]"}function f0(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function s1(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),un(r,"link",a),Ot(r),i.head.appendChild(r))}function Uo(i){return'[src="'+Vt(i)+'"]'}function du(i){return"script[async]"+i}function d0(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+Vt(a.href)+'"]');if(l)return r.instance=l,Ot(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),Ot(l),un(l,"style",h),Eh(l,a.precedence,i),r.instance=l;case"stylesheet":h=Po(a.href);var d=i.querySelector(fu(h));if(d)return r.state.loading|=4,r.instance=d,Ot(d),d;l=f0(a),(h=ii.get(h))&&Ym(l,h),d=(i.ownerDocument||i).createElement("link"),Ot(d);var v=d;return v._p=new Promise(function(T,A){v.onload=T,v.onerror=A}),un(d,"link",l),r.state.loading|=4,Eh(d,a.precedence,i),r.instance=d;case"script":return d=Uo(a.src),(h=i.querySelector(du(d)))?(r.instance=h,Ot(h),h):(l=a,(h=ii.get(d))&&(l=E({},a),qm(l,h)),i=i.ownerDocument||i,h=i.createElement("script"),Ot(h),un(h,"link",l),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Eh(l,a.precedence,i));return r.instance}function Eh(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(i,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function Ym(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function qm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Sh=null;function m0(i,r,a){if(Sh===null){var l=new Map,h=Sh=new Map;h.set(a,l)}else h=Sh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),h=0;h<a.length;h++){var d=a[h];if(!(d[cr]||d[Ae]||i==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=i+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function g0(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function a1(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function p0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var mu=null;function o1(){}function l1(i,r,a){if(mu===null)throw Error(s(475));var l=mu;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Po(a.href),d=i.querySelector(fu(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=wh.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=d,Ot(d);return}d=i.ownerDocument||i,a=f0(a),(h=ii.get(h))&&Ym(a,h),d=d.createElement("link"),Ot(d);var v=d;v._p=new Promise(function(T,A){v.onload=T,v.onerror=A}),un(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=wh.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function u1(){if(mu===null)throw Error(s(475));var i=mu;return i.stylesheets&&i.count===0&&Fm(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&Fm(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function wh(){if(this.count--,this.count===0){if(this.stylesheets)Fm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var bh=null;function Fm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,bh=new Map,r.forEach(c1,i),bh=null,wh.call(i))}function c1(i,r){if(!(r.state.loading&4)){var a=bh.get(i);if(a)var l=a.get(null);else{a=new Map,bh.set(i,a);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=wh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var gu={$$typeof:ge,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function h1(i,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.hiddenUpdates=Fn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function y0(i,r,a,l,h,d,v,T,A,L,F,Q){return i=new h1(i,r,a,v,T,A,L,Q),r=1,d===!0&&(r|=24),d=Ln(3,null,null,r),i.current=d,d.stateNode=i,r=Rd(),r.refCount++,i.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Od(d),i}function _0(i){return i?(i=mo,i):mo}function v0(i,r,a,l,h,d){h=_0(h),l.context===null?l.context=h:l.pendingContext=h,l=cs(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=hs(i,l,r),a!==null&&(Yn(a,i,r),Fl(a,i,r))}function T0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Gm(i,r){T0(i,r),(i=i.alternate)&&T0(i,r)}function E0(i){if(i.tag===13){var r=fo(i,67108864);r!==null&&Yn(r,i,67108864),Gm(i,67108864)}}var Ah=!0;function f1(i,r,a,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=2,Qm(i,r,a,l)}finally{se.p=d,Y.T=h}}function d1(i,r,a,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=8,Qm(i,r,a,l)}finally{se.p=d,Y.T=h}}function Qm(i,r,a,l){if(Ah){var h=Km(l);if(h===null)km(i,r,l,Rh,a),w0(i,l);else if(g1(h,i,r,a,l))l.stopPropagation();else if(w0(i,l),r&4&&-1<m1.indexOf(i)){for(;h!==null;){var d=xi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var A=1<<31-wt(v);T.entanglements[1]|=A,v&=~A}Qi(d),(at&6)===0&&(uh=In()+500,lu(0))}}break;case 13:T=fo(d,2),T!==null&&Yn(T,d,2),hh(),Gm(d,2)}if(d=Km(l),d===null&&km(i,r,l,Rh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else km(i,r,l,null,a)}}function Km(i){return i=Kn(i),Wm(i)}var Rh=null;function Wm(i){if(Rh=null,i=hr(i),i!==null){var r=u(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=f(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Rh=i,null}function S0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qa()){case Xs:return 2;case ci:return 8;case or:case Tl:return 32;case hi:return 268435456;default:return 32}default:return 32}}var Xm=!1,bs=null,As=null,Rs=null,pu=new Map,yu=new Map,Is=[],m1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w0(i,r){switch(i){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":pu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(r.pointerId)}}function _u(i,r,a,l,h,d){return i===null||i.nativeEvent!==d?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=xi(r),r!==null&&E0(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function g1(i,r,a,l,h){switch(r){case"focusin":return bs=_u(bs,i,r,a,l,h),!0;case"dragenter":return As=_u(As,i,r,a,l,h),!0;case"mouseover":return Rs=_u(Rs,i,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return pu.set(d,_u(pu.get(d)||null,i,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,yu.set(d,_u(yu.get(d)||null,i,r,a,l,h)),!0}return!1}function b0(i){var r=hr(i.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){i.blockedOn=r,J(i.priority,function(){if(a.tag===13){var l=Hn();l=Ni(l);var h=fo(a,l);h!==null&&Yn(h,a,l),Gm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ih(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=Km(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);gr=l,a.target.dispatchEvent(l),gr=null}else return r=xi(a),r!==null&&E0(r),i.blockedOn=a,!1;r.shift()}return!0}function A0(i,r,a){Ih(i)&&a.delete(r)}function p1(){Xm=!1,bs!==null&&Ih(bs)&&(bs=null),As!==null&&Ih(As)&&(As=null),Rs!==null&&Ih(Rs)&&(Rs=null),pu.forEach(A0),yu.forEach(A0)}function Dh(i,r){i.blockedOn===r&&(i.blockedOn=null,Xm||(Xm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,p1)))}var Ch=null;function R0(i){Ch!==i&&(Ch=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ch===i&&(Ch=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],h=i[r+2];if(typeof l!="function"){if(Wm(l||a)===null)continue;break}var d=xi(a);d!==null&&(i.splice(r,3),r-=3,Wd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function vu(i){function r(A){return Dh(A,i)}bs!==null&&Dh(bs,i),As!==null&&Dh(As,i),Rs!==null&&Dh(Rs,i),pu.forEach(r),yu.forEach(r);for(var a=0;a<Is.length;a++){var l=Is[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Is.length&&(a=Is[0],a.blockedOn===null);)b0(a),a.blockedOn===null&&Is.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Ce]||null;if(typeof d=="function")v||R0(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ce]||null)T=v.formAction;else if(Wm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),R0(a)}}}function $m(i){this._internalRoot=i}Oh.prototype.render=$m.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Hn();v0(a,l,i,r,null,null)},Oh.prototype.unmount=$m.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;v0(i.current,2,null,i,null,null),hh(),r[Be]=null}};function Oh(i){this._internalRoot=i}Oh.prototype.unstable_scheduleHydration=function(i){if(i){var r=gi();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Is.length&&r!==0&&r<Is[a].priority;a++);Is.splice(a,0,i),a===0&&b0(i)}};var I0=e.version;if(I0!=="19.1.0")throw Error(s(527,I0,"19.1.0"));se.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var y1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{vt=Nh.inject(y1),Qe=Nh}catch{}}return Eu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",h=Y_,d=q_,v=F_,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=y0(i,1,!1,null,null,a,l,h,d,v,T,null),i[Be]=r.current,xm(i),new $m(r)},Eu.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,h="",d=Y_,v=q_,T=F_,A=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),r=y0(i,1,!0,r,a??null,l,h,d,v,T,A,L),r.context=_0(null),a=r.current,l=Hn(),l=Ni(l),h=cs(l),h.callback=null,hs(a,h,l),a=l,r.current.lanes=a,mi(r,a),Qi(r),i[Be]=r.current,xm(i),new Oh(r)},Eu.version="19.1.0",Eu}var U0;function C1(){if(U0)return eg.exports;U0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),eg.exports=D1(),eg.exports}var O1=C1();const N1=IE(O1);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var DE;function le(){return DE.apply(null,arguments)}function M1(n){DE=n}function Ri(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function Pa(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function et(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function np(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var e;for(e in n)if(et(n,e))return!1;return!0}function Nn(n){return n===void 0}function qr(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function Ju(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function CE(n,e){var t=[],s,o=n.length;for(s=0;s<o;++s)t.push(e(n[s],s));return t}function xs(n,e){for(var t in e)et(e,t)&&(n[t]=e[t]);return et(e,"toString")&&(n.toString=e.toString),et(e,"valueOf")&&(n.valueOf=e.valueOf),n}function nr(n,e,t,s){return ZE(n,e,t,s,!0).utc()}function x1(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ke(n){return n._pf==null&&(n._pf=x1()),n._pf}var Tg;Array.prototype.some?Tg=Array.prototype.some:Tg=function(n){var e=Object(this),t=e.length>>>0,s;for(s=0;s<t;s++)if(s in e&&n.call(this,e[s],s,e))return!0;return!1};function ip(n){var e=null,t=!1,s=n._d&&!isNaN(n._d.getTime());if(s&&(e=ke(n),t=Tg.call(e.parsedDateParts,function(o){return o!=null}),s=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t),n._strict&&(s=s&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=s;else return s;return n._isValid}function Rf(n){var e=nr(NaN);return n!=null?xs(ke(e),n):ke(e).userInvalidated=!0,e}var L0=le.momentProperties=[],rg=!1;function rp(n,e){var t,s,o,u=L0.length;if(Nn(e._isAMomentObject)||(n._isAMomentObject=e._isAMomentObject),Nn(e._i)||(n._i=e._i),Nn(e._f)||(n._f=e._f),Nn(e._l)||(n._l=e._l),Nn(e._strict)||(n._strict=e._strict),Nn(e._tzm)||(n._tzm=e._tzm),Nn(e._isUTC)||(n._isUTC=e._isUTC),Nn(e._offset)||(n._offset=e._offset),Nn(e._pf)||(n._pf=ke(e)),Nn(e._locale)||(n._locale=e._locale),u>0)for(t=0;t<u;t++)s=L0[t],o=e[s],Nn(o)||(n[s]=o);return n}function ec(n){rp(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),rg===!1&&(rg=!0,le.updateOffset(this),rg=!1)}function Ii(n){return n instanceof ec||n!=null&&n._isAMomentObject!=null}function OE(n){le.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+n)}function oi(n,e){var t=!0;return xs(function(){if(le.deprecationHandler!=null&&le.deprecationHandler(null,n),t){var s=[],o,u,f,m=arguments.length;for(u=0;u<m;u++){if(o="",typeof arguments[u]=="object"){o+=`
[`+u+"] ";for(f in arguments[0])et(arguments[0],f)&&(o+=f+": "+arguments[0][f]+", ");o=o.slice(0,-2)}else o=arguments[u];s.push(o)}OE(n+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var z0={};function NE(n,e){le.deprecationHandler!=null&&le.deprecationHandler(n,e),z0[n]||(OE(e),z0[n]=!0)}le.suppressDeprecationWarnings=!1;le.deprecationHandler=null;function ir(n){return typeof Function<"u"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function k1(n){var e,t;for(t in n)et(n,t)&&(e=n[t],ir(e)?this[t]=e:this["_"+t]=e);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Eg(n,e){var t=xs({},n),s;for(s in e)et(e,s)&&(Pa(n[s])&&Pa(e[s])?(t[s]={},xs(t[s],n[s]),xs(t[s],e[s])):e[s]!=null?t[s]=e[s]:delete t[s]);for(s in n)et(n,s)&&!et(e,s)&&Pa(n[s])&&(t[s]=xs({},t[s]));return t}function sp(n){n!=null&&this.set(n)}var Sg;Object.keys?Sg=Object.keys:Sg=function(n){var e,t=[];for(e in n)et(n,e)&&t.push(e);return t};var V1={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function P1(n,e,t){var s=this._calendar[n]||this._calendar.sameElse;return ir(s)?s.call(e,t):s}function Ji(n,e,t){var s=""+Math.abs(n),o=e-s.length,u=n>=0;return(u?t?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+s}var ap=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Mh=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,sg={},Go={};function _e(n,e,t,s){var o=s;typeof s=="string"&&(o=function(){return this[s]()}),n&&(Go[n]=o),e&&(Go[e[0]]=function(){return Ji(o.apply(this,arguments),e[1],e[2])}),t&&(Go[t]=function(){return this.localeData().ordinal(o.apply(this,arguments),n)})}function U1(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function L1(n){var e=n.match(ap),t,s;for(t=0,s=e.length;t<s;t++)Go[e[t]]?e[t]=Go[e[t]]:e[t]=U1(e[t]);return function(o){var u="",f;for(f=0;f<s;f++)u+=ir(e[f])?e[f].call(o,n):e[f];return u}}function jh(n,e){return n.isValid()?(e=ME(e,n.localeData()),sg[e]=sg[e]||L1(e),sg[e](n)):n.localeData().invalidDate()}function ME(n,e){var t=5;function s(o){return e.longDateFormat(o)||o}for(Mh.lastIndex=0;t>=0&&Mh.test(n);)n=n.replace(Mh,s),Mh.lastIndex=0,t-=1;return n}var z1={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function j1(n){var e=this._longDateFormat[n],t=this._longDateFormat[n.toUpperCase()];return e||!t?e:(this._longDateFormat[n]=t.match(ap).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[n])}var B1="Invalid date";function H1(){return this._invalidDate}var Y1="%d",q1=/\d{1,2}/;function F1(n){return this._ordinal.replace("%d",n)}var G1={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q1(n,e,t,s){var o=this._relativeTime[t];return ir(o)?o(n,e,t,s):o.replace(/%d/i,n)}function K1(n,e){var t=this._relativeTime[n>0?"future":"past"];return ir(t)?t(e):t.replace(/%s/i,e)}var j0={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function li(n){return typeof n=="string"?j0[n]||j0[n.toLowerCase()]:void 0}function op(n){var e={},t,s;for(s in n)et(n,s)&&(t=li(s),t&&(e[t]=n[s]));return e}var W1={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function X1(n){var e=[],t;for(t in n)et(n,t)&&e.push({unit:t,priority:W1[t]});return e.sort(function(s,o){return s.priority-o.priority}),e}var xE=/\d/,qn=/\d\d/,kE=/\d{3}/,lp=/\d{4}/,If=/[+-]?\d{6}/,_t=/\d\d?/,VE=/\d\d\d\d?/,PE=/\d\d\d\d\d\d?/,Df=/\d{1,3}/,up=/\d{1,4}/,Cf=/[+-]?\d{1,6}/,ll=/\d+/,Of=/[+-]?\d+/,$1=/Z|[+-]\d\d:?\d\d/gi,Nf=/Z|[+-]\d\d(?::?\d\d)?/gi,Z1=/[+-]?\d+(\.\d{1,3})?/,tc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ul=/^[1-9]\d?/,cp=/^([1-9]\d|\d)/,ef;ef={};function ce(n,e,t){ef[n]=ir(e)?e:function(s,o){return s&&t?t:e}}function J1(n,e){return et(ef,n)?ef[n](e._strict,e._locale):new RegExp(eR(n))}function eR(n){return Br(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,s,o,u){return t||s||o||u}))}function Br(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ri(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function Ge(n){var e=+n,t=0;return e!==0&&isFinite(e)&&(t=ri(e)),t}var wg={};function ft(n,e){var t,s=e,o;for(typeof n=="string"&&(n=[n]),qr(e)&&(s=function(u,f){f[e]=Ge(u)}),o=n.length,t=0;t<o;t++)wg[n[t]]=s}function nc(n,e){ft(n,function(t,s,o,u){o._w=o._w||{},e(t,o._w,o,u)})}function tR(n,e,t){e!=null&&et(wg,n)&&wg[n](e,t._a,t,n)}function Mf(n){return n%4===0&&n%100!==0||n%400===0}var vn=0,Ur=1,Wi=2,Gt=3,Ei=4,Lr=5,xa=6,nR=7,iR=8;_e("Y",0,0,function(){var n=this.year();return n<=9999?Ji(n,4):"+"+n});_e(0,["YY",2],0,function(){return this.year()%100});_e(0,["YYYY",4],0,"year");_e(0,["YYYYY",5],0,"year");_e(0,["YYYYYY",6,!0],0,"year");ce("Y",Of);ce("YY",_t,qn);ce("YYYY",up,lp);ce("YYYYY",Cf,If);ce("YYYYYY",Cf,If);ft(["YYYYY","YYYYYY"],vn);ft("YYYY",function(n,e){e[vn]=n.length===2?le.parseTwoDigitYear(n):Ge(n)});ft("YY",function(n,e){e[vn]=le.parseTwoDigitYear(n)});ft("Y",function(n,e){e[vn]=parseInt(n,10)});function Nu(n){return Mf(n)?366:365}le.parseTwoDigitYear=function(n){return Ge(n)+(Ge(n)>68?1900:2e3)};var UE=cl("FullYear",!0);function rR(){return Mf(this.year())}function cl(n,e){return function(t){return t!=null?(LE(this,n,t),le.updateOffset(this,e),this):zu(this,n)}}function zu(n,e){if(!n.isValid())return NaN;var t=n._d,s=n._isUTC;switch(e){case"Milliseconds":return s?t.getUTCMilliseconds():t.getMilliseconds();case"Seconds":return s?t.getUTCSeconds():t.getSeconds();case"Minutes":return s?t.getUTCMinutes():t.getMinutes();case"Hours":return s?t.getUTCHours():t.getHours();case"Date":return s?t.getUTCDate():t.getDate();case"Day":return s?t.getUTCDay():t.getDay();case"Month":return s?t.getUTCMonth():t.getMonth();case"FullYear":return s?t.getUTCFullYear():t.getFullYear();default:return NaN}}function LE(n,e,t){var s,o,u,f,m;if(!(!n.isValid()||isNaN(t))){switch(s=n._d,o=n._isUTC,e){case"Milliseconds":return void(o?s.setUTCMilliseconds(t):s.setMilliseconds(t));case"Seconds":return void(o?s.setUTCSeconds(t):s.setSeconds(t));case"Minutes":return void(o?s.setUTCMinutes(t):s.setMinutes(t));case"Hours":return void(o?s.setUTCHours(t):s.setHours(t));case"Date":return void(o?s.setUTCDate(t):s.setDate(t));case"FullYear":break;default:return}u=t,f=n.month(),m=n.date(),m=m===29&&f===1&&!Mf(u)?28:m,o?s.setUTCFullYear(u,f,m):s.setFullYear(u,f,m)}}function sR(n){return n=li(n),ir(this[n])?this[n]():this}function aR(n,e){if(typeof n=="object"){n=op(n);var t=X1(n),s,o=t.length;for(s=0;s<o;s++)this[t[s].unit](n[t[s].unit])}else if(n=li(n),ir(this[n]))return this[n](e);return this}function oR(n,e){return(n%e+e)%e}var xt;Array.prototype.indexOf?xt=Array.prototype.indexOf:xt=function(n){var e;for(e=0;e<this.length;++e)if(this[e]===n)return e;return-1};function hp(n,e){if(isNaN(n)||isNaN(e))return NaN;var t=oR(e,12);return n+=(e-t)/12,t===1?Mf(n)?29:28:31-t%7%2}_e("M",["MM",2],"Mo",function(){return this.month()+1});_e("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});_e("MMMM",0,0,function(n){return this.localeData().months(this,n)});ce("M",_t,ul);ce("MM",_t,qn);ce("MMM",function(n,e){return e.monthsShortRegex(n)});ce("MMMM",function(n,e){return e.monthsRegex(n)});ft(["M","MM"],function(n,e){e[Ur]=Ge(n)-1});ft(["MMM","MMMM"],function(n,e,t,s){var o=t._locale.monthsParse(n,s,t._strict);o!=null?e[Ur]=o:ke(t).invalidMonth=n});var lR="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),zE="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),jE=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,uR=tc,cR=tc;function hR(n,e){return n?Ri(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||jE).test(e)?"format":"standalone"][n.month()]:Ri(this._months)?this._months:this._months.standalone}function fR(n,e){return n?Ri(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[jE.test(e)?"format":"standalone"][n.month()]:Ri(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dR(n,e,t){var s,o,u,f=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)u=nr([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(u,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(u,"").toLocaleLowerCase();return t?e==="MMM"?(o=xt.call(this._shortMonthsParse,f),o!==-1?o:null):(o=xt.call(this._longMonthsParse,f),o!==-1?o:null):e==="MMM"?(o=xt.call(this._shortMonthsParse,f),o!==-1?o:(o=xt.call(this._longMonthsParse,f),o!==-1?o:null)):(o=xt.call(this._longMonthsParse,f),o!==-1?o:(o=xt.call(this._shortMonthsParse,f),o!==-1?o:null))}function mR(n,e,t){var s,o,u;if(this._monthsParseExact)return dR.call(this,n,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(o=nr([2e3,s]),t&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!t&&!this._monthsParse[s]&&(u="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[s]=new RegExp(u.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[s].test(n))return s;if(t&&e==="MMM"&&this._shortMonthsParse[s].test(n))return s;if(!t&&this._monthsParse[s].test(n))return s}}function BE(n,e){if(!n.isValid())return n;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ge(e);else if(e=n.localeData().monthsParse(e),!qr(e))return n}var t=e,s=n.date();return s=s<29?s:Math.min(s,hp(n.year(),t)),n._isUTC?n._d.setUTCMonth(t,s):n._d.setMonth(t,s),n}function HE(n){return n!=null?(BE(this,n),le.updateOffset(this,!0),this):zu(this,"Month")}function gR(){return hp(this.year(),this.month())}function pR(n){return this._monthsParseExact?(et(this,"_monthsRegex")||YE.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(et(this,"_monthsShortRegex")||(this._monthsShortRegex=uR),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function yR(n){return this._monthsParseExact?(et(this,"_monthsRegex")||YE.call(this),n?this._monthsStrictRegex:this._monthsRegex):(et(this,"_monthsRegex")||(this._monthsRegex=cR),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function YE(){function n(p,y){return y.length-p.length}var e=[],t=[],s=[],o,u,f,m;for(o=0;o<12;o++)u=nr([2e3,o]),f=Br(this.monthsShort(u,"")),m=Br(this.months(u,"")),e.push(f),t.push(m),s.push(m),s.push(f);e.sort(n),t.sort(n),s.sort(n),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function _R(n,e,t,s,o,u,f){var m;return n<100&&n>=0?(m=new Date(n+400,e,t,s,o,u,f),isFinite(m.getFullYear())&&m.setFullYear(n)):m=new Date(n,e,t,s,o,u,f),m}function ju(n){var e,t;return n<100&&n>=0?(t=Array.prototype.slice.call(arguments),t[0]=n+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(n)):e=new Date(Date.UTC.apply(null,arguments)),e}function tf(n,e,t){var s=7+e-t,o=(7+ju(n,0,s).getUTCDay()-e)%7;return-o+s-1}function qE(n,e,t,s,o){var u=(7+t-s)%7,f=tf(n,s,o),m=1+7*(e-1)+u+f,p,y;return m<=0?(p=n-1,y=Nu(p)+m):m>Nu(n)?(p=n+1,y=m-Nu(n)):(p=n,y=m),{year:p,dayOfYear:y}}function Bu(n,e,t){var s=tf(n.year(),e,t),o=Math.floor((n.dayOfYear()-s-1)/7)+1,u,f;return o<1?(f=n.year()-1,u=o+Hr(f,e,t)):o>Hr(n.year(),e,t)?(u=o-Hr(n.year(),e,t),f=n.year()+1):(f=n.year(),u=o),{week:u,year:f}}function Hr(n,e,t){var s=tf(n,e,t),o=tf(n+1,e,t);return(Nu(n)-s+o)/7}_e("w",["ww",2],"wo","week");_e("W",["WW",2],"Wo","isoWeek");ce("w",_t,ul);ce("ww",_t,qn);ce("W",_t,ul);ce("WW",_t,qn);nc(["w","ww","W","WW"],function(n,e,t,s){e[s.substr(0,1)]=Ge(n)});function vR(n){return Bu(n,this._week.dow,this._week.doy).week}var TR={dow:0,doy:6};function ER(){return this._week.dow}function SR(){return this._week.doy}function wR(n){var e=this.localeData().week(this);return n==null?e:this.add((n-e)*7,"d")}function bR(n){var e=Bu(this,1,4).week;return n==null?e:this.add((n-e)*7,"d")}_e("d",0,"do","day");_e("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});_e("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});_e("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});_e("e",0,0,"weekday");_e("E",0,0,"isoWeekday");ce("d",_t);ce("e",_t);ce("E",_t);ce("dd",function(n,e){return e.weekdaysMinRegex(n)});ce("ddd",function(n,e){return e.weekdaysShortRegex(n)});ce("dddd",function(n,e){return e.weekdaysRegex(n)});nc(["dd","ddd","dddd"],function(n,e,t,s){var o=t._locale.weekdaysParse(n,s,t._strict);o!=null?e.d=o:ke(t).invalidWeekday=n});nc(["d","e","E"],function(n,e,t,s){e[s]=Ge(n)});function AR(n,e){return typeof n!="string"?n:isNaN(n)?(n=e.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function RR(n,e){return typeof n=="string"?e.weekdaysParse(n)%7||7:isNaN(n)?null:n}function fp(n,e){return n.slice(e,7).concat(n.slice(0,e))}var IR="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),FE="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),DR="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),CR=tc,OR=tc,NR=tc;function MR(n,e){var t=Ri(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return n===!0?fp(t,this._week.dow):n?t[n.day()]:t}function xR(n){return n===!0?fp(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function kR(n){return n===!0?fp(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function VR(n,e,t){var s,o,u,f=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)u=nr([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(u,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(u,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(u,"").toLocaleLowerCase();return t?e==="dddd"?(o=xt.call(this._weekdaysParse,f),o!==-1?o:null):e==="ddd"?(o=xt.call(this._shortWeekdaysParse,f),o!==-1?o:null):(o=xt.call(this._minWeekdaysParse,f),o!==-1?o:null):e==="dddd"?(o=xt.call(this._weekdaysParse,f),o!==-1||(o=xt.call(this._shortWeekdaysParse,f),o!==-1)?o:(o=xt.call(this._minWeekdaysParse,f),o!==-1?o:null)):e==="ddd"?(o=xt.call(this._shortWeekdaysParse,f),o!==-1||(o=xt.call(this._weekdaysParse,f),o!==-1)?o:(o=xt.call(this._minWeekdaysParse,f),o!==-1?o:null)):(o=xt.call(this._minWeekdaysParse,f),o!==-1||(o=xt.call(this._weekdaysParse,f),o!==-1)?o:(o=xt.call(this._shortWeekdaysParse,f),o!==-1?o:null))}function PR(n,e,t){var s,o,u;if(this._weekdaysParseExact)return VR.call(this,n,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(o=nr([2e3,1]).day(s),t&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(u="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[s]=new RegExp(u.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[s].test(n))return s;if(t&&e==="ddd"&&this._shortWeekdaysParse[s].test(n))return s;if(t&&e==="dd"&&this._minWeekdaysParse[s].test(n))return s;if(!t&&this._weekdaysParse[s].test(n))return s}}function UR(n){if(!this.isValid())return n!=null?this:NaN;var e=zu(this,"Day");return n!=null?(n=AR(n,this.localeData()),this.add(n-e,"d")):e}function LR(n){if(!this.isValid())return n!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return n==null?e:this.add(n-e,"d")}function zR(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var e=RR(n,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function jR(n){return this._weekdaysParseExact?(et(this,"_weekdaysRegex")||dp.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(et(this,"_weekdaysRegex")||(this._weekdaysRegex=CR),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function BR(n){return this._weekdaysParseExact?(et(this,"_weekdaysRegex")||dp.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(et(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=OR),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function HR(n){return this._weekdaysParseExact?(et(this,"_weekdaysRegex")||dp.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(et(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=NR),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function dp(){function n(E,w){return w.length-E.length}var e=[],t=[],s=[],o=[],u,f,m,p,y;for(u=0;u<7;u++)f=nr([2e3,1]).day(u),m=Br(this.weekdaysMin(f,"")),p=Br(this.weekdaysShort(f,"")),y=Br(this.weekdays(f,"")),e.push(m),t.push(p),s.push(y),o.push(m),o.push(p),o.push(y);e.sort(n),t.sort(n),s.sort(n),o.sort(n),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function mp(){return this.hours()%12||12}function YR(){return this.hours()||24}_e("H",["HH",2],0,"hour");_e("h",["hh",2],0,mp);_e("k",["kk",2],0,YR);_e("hmm",0,0,function(){return""+mp.apply(this)+Ji(this.minutes(),2)});_e("hmmss",0,0,function(){return""+mp.apply(this)+Ji(this.minutes(),2)+Ji(this.seconds(),2)});_e("Hmm",0,0,function(){return""+this.hours()+Ji(this.minutes(),2)});_e("Hmmss",0,0,function(){return""+this.hours()+Ji(this.minutes(),2)+Ji(this.seconds(),2)});function GE(n,e){_e(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}GE("a",!0);GE("A",!1);function QE(n,e){return e._meridiemParse}ce("a",QE);ce("A",QE);ce("H",_t,cp);ce("h",_t,ul);ce("k",_t,ul);ce("HH",_t,qn);ce("hh",_t,qn);ce("kk",_t,qn);ce("hmm",VE);ce("hmmss",PE);ce("Hmm",VE);ce("Hmmss",PE);ft(["H","HH"],Gt);ft(["k","kk"],function(n,e,t){var s=Ge(n);e[Gt]=s===24?0:s});ft(["a","A"],function(n,e,t){t._isPm=t._locale.isPM(n),t._meridiem=n});ft(["h","hh"],function(n,e,t){e[Gt]=Ge(n),ke(t).bigHour=!0});ft("hmm",function(n,e,t){var s=n.length-2;e[Gt]=Ge(n.substr(0,s)),e[Ei]=Ge(n.substr(s)),ke(t).bigHour=!0});ft("hmmss",function(n,e,t){var s=n.length-4,o=n.length-2;e[Gt]=Ge(n.substr(0,s)),e[Ei]=Ge(n.substr(s,2)),e[Lr]=Ge(n.substr(o)),ke(t).bigHour=!0});ft("Hmm",function(n,e,t){var s=n.length-2;e[Gt]=Ge(n.substr(0,s)),e[Ei]=Ge(n.substr(s))});ft("Hmmss",function(n,e,t){var s=n.length-4,o=n.length-2;e[Gt]=Ge(n.substr(0,s)),e[Ei]=Ge(n.substr(s,2)),e[Lr]=Ge(n.substr(o))});function qR(n){return(n+"").toLowerCase().charAt(0)==="p"}var FR=/[ap]\.?m?\.?/i,GR=cl("Hours",!0);function QR(n,e,t){return n>11?t?"pm":"PM":t?"am":"AM"}var KE={calendar:V1,longDateFormat:z1,invalidDate:B1,ordinal:Y1,dayOfMonthOrdinalParse:q1,relativeTime:G1,months:lR,monthsShort:zE,week:TR,weekdays:IR,weekdaysMin:DR,weekdaysShort:FE,meridiemParse:FR},Et={},Su={},Hu;function KR(n,e){var t,s=Math.min(n.length,e.length);for(t=0;t<s;t+=1)if(n[t]!==e[t])return t;return s}function B0(n){return n&&n.toLowerCase().replace("_","-")}function WR(n){for(var e=0,t,s,o,u;e<n.length;){for(u=B0(n[e]).split("-"),t=u.length,s=B0(n[e+1]),s=s?s.split("-"):null;t>0;){if(o=xf(u.slice(0,t).join("-")),o)return o;if(s&&s.length>=t&&KR(u,s)>=t-1)break;t--}e++}return Hu}function XR(n){return!!(n&&n.match("^[^/\\\\]*$"))}function xf(n){var e=null,t;if(Et[n]===void 0&&typeof Jh<"u"&&Jh&&Jh.exports&&XR(n))try{e=Hu._abbr,t=require,t("./locale/"+n),Ps(e)}catch{Et[n]=null}return Et[n]}function Ps(n,e){var t;return n&&(Nn(e)?t=Wr(n):t=gp(n,e),t?Hu=t:typeof console<"u"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),Hu._abbr}function gp(n,e){if(e!==null){var t,s=KE;if(e.abbr=n,Et[n]!=null)NE("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=Et[n]._config;else if(e.parentLocale!=null)if(Et[e.parentLocale]!=null)s=Et[e.parentLocale]._config;else if(t=xf(e.parentLocale),t!=null)s=t._config;else return Su[e.parentLocale]||(Su[e.parentLocale]=[]),Su[e.parentLocale].push({name:n,config:e}),null;return Et[n]=new sp(Eg(s,e)),Su[n]&&Su[n].forEach(function(o){gp(o.name,o.config)}),Ps(n),Et[n]}else return delete Et[n],null}function $R(n,e){if(e!=null){var t,s,o=KE;Et[n]!=null&&Et[n].parentLocale!=null?Et[n].set(Eg(Et[n]._config,e)):(s=xf(n),s!=null&&(o=s._config),e=Eg(o,e),s==null&&(e.abbr=n),t=new sp(e),t.parentLocale=Et[n],Et[n]=t),Ps(n)}else Et[n]!=null&&(Et[n].parentLocale!=null?(Et[n]=Et[n].parentLocale,n===Ps()&&Ps(n)):Et[n]!=null&&delete Et[n]);return Et[n]}function Wr(n){var e;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return Hu;if(!Ri(n)){if(e=xf(n),e)return e;n=[n]}return WR(n)}function ZR(){return Sg(Et)}function pp(n){var e,t=n._a;return t&&ke(n).overflow===-2&&(e=t[Ur]<0||t[Ur]>11?Ur:t[Wi]<1||t[Wi]>hp(t[vn],t[Ur])?Wi:t[Gt]<0||t[Gt]>24||t[Gt]===24&&(t[Ei]!==0||t[Lr]!==0||t[xa]!==0)?Gt:t[Ei]<0||t[Ei]>59?Ei:t[Lr]<0||t[Lr]>59?Lr:t[xa]<0||t[xa]>999?xa:-1,ke(n)._overflowDayOfYear&&(e<vn||e>Wi)&&(e=Wi),ke(n)._overflowWeeks&&e===-1&&(e=nR),ke(n)._overflowWeekday&&e===-1&&(e=iR),ke(n).overflow=e),n}var JR=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,eI=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tI=/Z|[+-]\d\d(?::?\d\d)?/,xh=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ag=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],nI=/^\/?Date\((-?\d+)/i,iI=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,rI={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function WE(n){var e,t,s=n._i,o=JR.exec(s)||eI.exec(s),u,f,m,p,y=xh.length,E=ag.length;if(o){for(ke(n).iso=!0,e=0,t=y;e<t;e++)if(xh[e][1].exec(o[1])){f=xh[e][0],u=xh[e][2]!==!1;break}if(f==null){n._isValid=!1;return}if(o[3]){for(e=0,t=E;e<t;e++)if(ag[e][1].exec(o[3])){m=(o[2]||" ")+ag[e][0];break}if(m==null){n._isValid=!1;return}}if(!u&&m!=null){n._isValid=!1;return}if(o[4])if(tI.exec(o[4]))p="Z";else{n._isValid=!1;return}n._f=f+(m||"")+(p||""),_p(n)}else n._isValid=!1}function sI(n,e,t,s,o,u){var f=[aI(n),zE.indexOf(e),parseInt(t,10),parseInt(s,10),parseInt(o,10)];return u&&f.push(parseInt(u,10)),f}function aI(n){var e=parseInt(n,10);return e<=49?2e3+e:e<=999?1900+e:e}function oI(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function lI(n,e,t){if(n){var s=FE.indexOf(n),o=new Date(e[0],e[1],e[2]).getDay();if(s!==o)return ke(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function uI(n,e,t){if(n)return rI[n];if(e)return 0;var s=parseInt(t,10),o=s%100,u=(s-o)/100;return u*60+o}function XE(n){var e=iI.exec(oI(n._i)),t;if(e){if(t=sI(e[4],e[3],e[2],e[5],e[6],e[7]),!lI(e[1],t,n))return;n._a=t,n._tzm=uI(e[8],e[9],e[10]),n._d=ju.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),ke(n).rfc2822=!0}else n._isValid=!1}function cI(n){var e=nI.exec(n._i);if(e!==null){n._d=new Date(+e[1]);return}if(WE(n),n._isValid===!1)delete n._isValid;else return;if(XE(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:le.createFromInputFallback(n)}le.createFromInputFallback=oi("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function zo(n,e,t){return n??e??t}function hI(n){var e=new Date(le.now());return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function yp(n){var e,t,s=[],o,u,f;if(!n._d){for(o=hI(n),n._w&&n._a[Wi]==null&&n._a[Ur]==null&&fI(n),n._dayOfYear!=null&&(f=zo(n._a[vn],o[vn]),(n._dayOfYear>Nu(f)||n._dayOfYear===0)&&(ke(n)._overflowDayOfYear=!0),t=ju(f,0,n._dayOfYear),n._a[Ur]=t.getUTCMonth(),n._a[Wi]=t.getUTCDate()),e=0;e<3&&n._a[e]==null;++e)n._a[e]=s[e]=o[e];for(;e<7;e++)n._a[e]=s[e]=n._a[e]==null?e===2?1:0:n._a[e];n._a[Gt]===24&&n._a[Ei]===0&&n._a[Lr]===0&&n._a[xa]===0&&(n._nextDay=!0,n._a[Gt]=0),n._d=(n._useUTC?ju:_R).apply(null,s),u=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[Gt]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==u&&(ke(n).weekdayMismatch=!0)}}function fI(n){var e,t,s,o,u,f,m,p,y;e=n._w,e.GG!=null||e.W!=null||e.E!=null?(u=1,f=4,t=zo(e.GG,n._a[vn],Bu(yt(),1,4).year),s=zo(e.W,1),o=zo(e.E,1),(o<1||o>7)&&(p=!0)):(u=n._locale._week.dow,f=n._locale._week.doy,y=Bu(yt(),u,f),t=zo(e.gg,n._a[vn],y.year),s=zo(e.w,y.week),e.d!=null?(o=e.d,(o<0||o>6)&&(p=!0)):e.e!=null?(o=e.e+u,(e.e<0||e.e>6)&&(p=!0)):o=u),s<1||s>Hr(t,u,f)?ke(n)._overflowWeeks=!0:p!=null?ke(n)._overflowWeekday=!0:(m=qE(t,s,o,u,f),n._a[vn]=m.year,n._dayOfYear=m.dayOfYear)}le.ISO_8601=function(){};le.RFC_2822=function(){};function _p(n){if(n._f===le.ISO_8601){WE(n);return}if(n._f===le.RFC_2822){XE(n);return}n._a=[],ke(n).empty=!0;var e=""+n._i,t,s,o,u,f,m=e.length,p=0,y,E;for(o=ME(n._f,n._locale).match(ap)||[],E=o.length,t=0;t<E;t++)u=o[t],s=(e.match(J1(u,n))||[])[0],s&&(f=e.substr(0,e.indexOf(s)),f.length>0&&ke(n).unusedInput.push(f),e=e.slice(e.indexOf(s)+s.length),p+=s.length),Go[u]?(s?ke(n).empty=!1:ke(n).unusedTokens.push(u),tR(u,s,n)):n._strict&&!s&&ke(n).unusedTokens.push(u);ke(n).charsLeftOver=m-p,e.length>0&&ke(n).unusedInput.push(e),n._a[Gt]<=12&&ke(n).bigHour===!0&&n._a[Gt]>0&&(ke(n).bigHour=void 0),ke(n).parsedDateParts=n._a.slice(0),ke(n).meridiem=n._meridiem,n._a[Gt]=dI(n._locale,n._a[Gt],n._meridiem),y=ke(n).era,y!==null&&(n._a[vn]=n._locale.erasConvertYear(y,n._a[vn])),yp(n),pp(n)}function dI(n,e,t){var s;return t==null?e:n.meridiemHour!=null?n.meridiemHour(e,t):(n.isPM!=null&&(s=n.isPM(t),s&&e<12&&(e+=12),!s&&e===12&&(e=0)),e)}function mI(n){var e,t,s,o,u,f,m=!1,p=n._f.length;if(p===0){ke(n).invalidFormat=!0,n._d=new Date(NaN);return}for(o=0;o<p;o++)u=0,f=!1,e=rp({},n),n._useUTC!=null&&(e._useUTC=n._useUTC),e._f=n._f[o],_p(e),ip(e)&&(f=!0),u+=ke(e).charsLeftOver,u+=ke(e).unusedTokens.length*10,ke(e).score=u,m?u<s&&(s=u,t=e):(s==null||u<s||f)&&(s=u,t=e,f&&(m=!0));xs(n,t||e)}function gI(n){if(!n._d){var e=op(n._i),t=e.day===void 0?e.date:e.day;n._a=CE([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(s){return s&&parseInt(s,10)}),yp(n)}}function pI(n){var e=new ec(pp($E(n)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function $E(n){var e=n._i,t=n._f;return n._locale=n._locale||Wr(n._l),e===null||t===void 0&&e===""?Rf({nullInput:!0}):(typeof e=="string"&&(n._i=e=n._locale.preparse(e)),Ii(e)?new ec(pp(e)):(Ju(e)?n._d=e:Ri(t)?mI(n):t?_p(n):yI(n),ip(n)||(n._d=null),n))}function yI(n){var e=n._i;Nn(e)?n._d=new Date(le.now()):Ju(e)?n._d=new Date(e.valueOf()):typeof e=="string"?cI(n):Ri(e)?(n._a=CE(e.slice(0),function(t){return parseInt(t,10)}),yp(n)):Pa(e)?gI(n):qr(e)?n._d=new Date(e):le.createFromInputFallback(n)}function ZE(n,e,t,s,o){var u={};return(e===!0||e===!1)&&(s=e,e=void 0),(t===!0||t===!1)&&(s=t,t=void 0),(Pa(n)&&np(n)||Ri(n)&&n.length===0)&&(n=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=t,u._i=n,u._f=e,u._strict=s,pI(u)}function yt(n,e,t,s){return ZE(n,e,t,s,!1)}var _I=oi("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=yt.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:Rf()}),vI=oi("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=yt.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:Rf()});function JE(n,e){var t,s;if(e.length===1&&Ri(e[0])&&(e=e[0]),!e.length)return yt();for(t=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][n](t))&&(t=e[s]);return t}function TI(){var n=[].slice.call(arguments,0);return JE("isBefore",n)}function EI(){var n=[].slice.call(arguments,0);return JE("isAfter",n)}var SI=function(){return Date.now?Date.now():+new Date},wu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function wI(n){var e,t=!1,s,o=wu.length;for(e in n)if(et(n,e)&&!(xt.call(wu,e)!==-1&&(n[e]==null||!isNaN(n[e]))))return!1;for(s=0;s<o;++s)if(n[wu[s]]){if(t)return!1;parseFloat(n[wu[s]])!==Ge(n[wu[s]])&&(t=!0)}return!0}function bI(){return this._isValid}function AI(){return Ci(NaN)}function kf(n){var e=op(n),t=e.year||0,s=e.quarter||0,o=e.month||0,u=e.week||e.isoWeek||0,f=e.day||0,m=e.hour||0,p=e.minute||0,y=e.second||0,E=e.millisecond||0;this._isValid=wI(e),this._milliseconds=+E+y*1e3+p*6e4+m*1e3*60*60,this._days=+f+u*7,this._months=+o+s*3+t*12,this._data={},this._locale=Wr(),this._bubble()}function Bh(n){return n instanceof kf}function bg(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function RI(n,e,t){var s=Math.min(n.length,e.length),o=Math.abs(n.length-e.length),u=0,f;for(f=0;f<s;f++)Ge(n[f])!==Ge(e[f])&&u++;return u+o}function eS(n,e){_e(n,0,0,function(){var t=this.utcOffset(),s="+";return t<0&&(t=-t,s="-"),s+Ji(~~(t/60),2)+e+Ji(~~t%60,2)})}eS("Z",":");eS("ZZ","");ce("Z",Nf);ce("ZZ",Nf);ft(["Z","ZZ"],function(n,e,t){t._useUTC=!0,t._tzm=vp(Nf,n)});var II=/([\+\-]|\d\d)/gi;function vp(n,e){var t=(e||"").match(n),s,o,u;return t===null?null:(s=t[t.length-1]||[],o=(s+"").match(II)||["-",0,0],u=+(o[1]*60)+Ge(o[2]),u===0?0:o[0]==="+"?u:-u)}function Tp(n,e){var t,s;return e._isUTC?(t=e.clone(),s=(Ii(n)||Ju(n)?n.valueOf():yt(n).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+s),le.updateOffset(t,!1),t):yt(n).local()}function Ag(n){return-Math.round(n._d.getTimezoneOffset())}le.updateOffset=function(){};function DI(n,e,t){var s=this._offset||0,o;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=vp(Nf,n),n===null)return this}else Math.abs(n)<16&&!t&&(n=n*60);return!this._isUTC&&e&&(o=Ag(this)),this._offset=n,this._isUTC=!0,o!=null&&this.add(o,"m"),s!==n&&(!e||this._changeInProgress?iS(this,Ci(n-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,le.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:Ag(this)}function CI(n,e){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,e),this):-this.utcOffset()}function OI(n){return this.utcOffset(0,n)}function NI(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(Ag(this),"m")),this}function MI(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=vp($1,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function xI(n){return this.isValid()?(n=n?yt(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function kI(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function VI(){if(!Nn(this._isDSTShifted))return this._isDSTShifted;var n={},e;return rp(n,this),n=$E(n),n._a?(e=n._isUTC?nr(n._a):yt(n._a),this._isDSTShifted=this.isValid()&&RI(n._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function PI(){return this.isValid()?!this._isUTC:!1}function UI(){return this.isValid()?this._isUTC:!1}function tS(){return this.isValid()?this._isUTC&&this._offset===0:!1}var LI=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,zI=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ci(n,e){var t=n,s=null,o,u,f;return Bh(n)?t={ms:n._milliseconds,d:n._days,M:n._months}:qr(n)||!isNaN(+n)?(t={},e?t[e]=+n:t.milliseconds=+n):(s=LI.exec(n))?(o=s[1]==="-"?-1:1,t={y:0,d:Ge(s[Wi])*o,h:Ge(s[Gt])*o,m:Ge(s[Ei])*o,s:Ge(s[Lr])*o,ms:Ge(bg(s[xa]*1e3))*o}):(s=zI.exec(n))?(o=s[1]==="-"?-1:1,t={y:Na(s[2],o),M:Na(s[3],o),w:Na(s[4],o),d:Na(s[5],o),h:Na(s[6],o),m:Na(s[7],o),s:Na(s[8],o)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(f=jI(yt(t.from),yt(t.to)),t={},t.ms=f.milliseconds,t.M=f.months),u=new kf(t),Bh(n)&&et(n,"_locale")&&(u._locale=n._locale),Bh(n)&&et(n,"_isValid")&&(u._isValid=n._isValid),u}Ci.fn=kf.prototype;Ci.invalid=AI;function Na(n,e){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function H0(n,e){var t={};return t.months=e.month()-n.month()+(e.year()-n.year())*12,n.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+n.clone().add(t.months,"M"),t}function jI(n,e){var t;return n.isValid()&&e.isValid()?(e=Tp(e,n),n.isBefore(e)?t=H0(n,e):(t=H0(e,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function nS(n,e){return function(t,s){var o,u;return s!==null&&!isNaN(+s)&&(NE(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),u=t,t=s,s=u),o=Ci(t,s),iS(this,o,n),this}}function iS(n,e,t,s){var o=e._milliseconds,u=bg(e._days),f=bg(e._months);n.isValid()&&(s=s??!0,f&&BE(n,zu(n,"Month")+f*t),u&&LE(n,"Date",zu(n,"Date")+u*t),o&&n._d.setTime(n._d.valueOf()+o*t),s&&le.updateOffset(n,u||f))}var BI=nS(1,"add"),HI=nS(-1,"subtract");function rS(n){return typeof n=="string"||n instanceof String}function YI(n){return Ii(n)||Ju(n)||rS(n)||qr(n)||FI(n)||qI(n)||n===null||n===void 0}function qI(n){var e=Pa(n)&&!np(n),t=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,u,f=s.length;for(o=0;o<f;o+=1)u=s[o],t=t||et(n,u);return e&&t}function FI(n){var e=Ri(n),t=!1;return e&&(t=n.filter(function(s){return!qr(s)&&rS(n)}).length===0),e&&t}function GI(n){var e=Pa(n)&&!np(n),t=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,u;for(o=0;o<s.length;o+=1)u=s[o],t=t||et(n,u);return e&&t}function QI(n,e){var t=n.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function KI(n,e){arguments.length===1&&(arguments[0]?YI(arguments[0])?(n=arguments[0],e=void 0):GI(arguments[0])&&(e=arguments[0],n=void 0):(n=void 0,e=void 0));var t=n||yt(),s=Tp(t,this).startOf("day"),o=le.calendarFormat(this,s)||"sameElse",u=e&&(ir(e[o])?e[o].call(this,t):e[o]);return this.format(u||this.localeData().calendar(o,this,yt(t)))}function WI(){return new ec(this)}function XI(n,e){var t=Ii(n)?n:yt(n);return this.isValid()&&t.isValid()?(e=li(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function $I(n,e){var t=Ii(n)?n:yt(n);return this.isValid()&&t.isValid()?(e=li(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function ZI(n,e,t,s){var o=Ii(n)?n:yt(n),u=Ii(e)?e:yt(e);return this.isValid()&&o.isValid()&&u.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(o,t):!this.isBefore(o,t))&&(s[1]===")"?this.isBefore(u,t):!this.isAfter(u,t))):!1}function JI(n,e){var t=Ii(n)?n:yt(n),s;return this.isValid()&&t.isValid()?(e=li(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(s=t.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf())):!1}function eD(n,e){return this.isSame(n,e)||this.isAfter(n,e)}function tD(n,e){return this.isSame(n,e)||this.isBefore(n,e)}function nD(n,e,t){var s,o,u;if(!this.isValid())return NaN;if(s=Tp(n,this),!s.isValid())return NaN;switch(o=(s.utcOffset()-this.utcOffset())*6e4,e=li(e),e){case"year":u=Hh(this,s)/12;break;case"month":u=Hh(this,s);break;case"quarter":u=Hh(this,s)/3;break;case"second":u=(this-s)/1e3;break;case"minute":u=(this-s)/6e4;break;case"hour":u=(this-s)/36e5;break;case"day":u=(this-s-o)/864e5;break;case"week":u=(this-s-o)/6048e5;break;default:u=this-s}return t?u:ri(u)}function Hh(n,e){if(n.date()<e.date())return-Hh(e,n);var t=(e.year()-n.year())*12+(e.month()-n.month()),s=n.clone().add(t,"months"),o,u;return e-s<0?(o=n.clone().add(t-1,"months"),u=(e-s)/(s-o)):(o=n.clone().add(t+1,"months"),u=(e-s)/(o-s)),-(t+u)||0}le.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";le.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function iD(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rD(n){if(!this.isValid())return null;var e=n!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?jh(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ir(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",jh(t,"Z")):jh(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function sD(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",e="",t,s,o,u;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+n+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",u=e+'[")]',this.format(t+s+o+u)}function aD(n){n||(n=this.isUtc()?le.defaultFormatUtc:le.defaultFormat);var e=jh(this,n);return this.localeData().postformat(e)}function oD(n,e){return this.isValid()&&(Ii(n)&&n.isValid()||yt(n).isValid())?Ci({to:this,from:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function lD(n){return this.from(yt(),n)}function uD(n,e){return this.isValid()&&(Ii(n)&&n.isValid()||yt(n).isValid())?Ci({from:this,to:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function cD(n){return this.to(yt(),n)}function sS(n){var e;return n===void 0?this._locale._abbr:(e=Wr(n),e!=null&&(this._locale=e),this)}var aS=oi("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function oS(){return this._locale}var nf=1e3,Qo=60*nf,rf=60*Qo,lS=(365*400+97)*24*rf;function Ko(n,e){return(n%e+e)%e}function uS(n,e,t){return n<100&&n>=0?new Date(n+400,e,t)-lS:new Date(n,e,t).valueOf()}function cS(n,e,t){return n<100&&n>=0?Date.UTC(n+400,e,t)-lS:Date.UTC(n,e,t)}function hD(n){var e,t;if(n=li(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?cS:uS,n){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ko(e+(this._isUTC?0:this.utcOffset()*Qo),rf);break;case"minute":e=this._d.valueOf(),e-=Ko(e,Qo);break;case"second":e=this._d.valueOf(),e-=Ko(e,nf);break}return this._d.setTime(e),le.updateOffset(this,!0),this}function fD(n){var e,t;if(n=li(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?cS:uS,n){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=rf-Ko(e+(this._isUTC?0:this.utcOffset()*Qo),rf)-1;break;case"minute":e=this._d.valueOf(),e+=Qo-Ko(e,Qo)-1;break;case"second":e=this._d.valueOf(),e+=nf-Ko(e,nf)-1;break}return this._d.setTime(e),le.updateOffset(this,!0),this}function dD(){return this._d.valueOf()-(this._offset||0)*6e4}function mD(){return Math.floor(this.valueOf()/1e3)}function gD(){return new Date(this.valueOf())}function pD(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function yD(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function _D(){return this.isValid()?this.toISOString():null}function vD(){return ip(this)}function TD(){return xs({},ke(this))}function ED(){return ke(this).overflow}function SD(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}_e("N",0,0,"eraAbbr");_e("NN",0,0,"eraAbbr");_e("NNN",0,0,"eraAbbr");_e("NNNN",0,0,"eraName");_e("NNNNN",0,0,"eraNarrow");_e("y",["y",1],"yo","eraYear");_e("y",["yy",2],0,"eraYear");_e("y",["yyy",3],0,"eraYear");_e("y",["yyyy",4],0,"eraYear");ce("N",Ep);ce("NN",Ep);ce("NNN",Ep);ce("NNNN",xD);ce("NNNNN",kD);ft(["N","NN","NNN","NNNN","NNNNN"],function(n,e,t,s){var o=t._locale.erasParse(n,s,t._strict);o?ke(t).era=o:ke(t).invalidEra=n});ce("y",ll);ce("yy",ll);ce("yyy",ll);ce("yyyy",ll);ce("yo",VD);ft(["y","yy","yyy","yyyy"],vn);ft(["yo"],function(n,e,t,s){var o;t._locale._eraYearOrdinalRegex&&(o=n.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[vn]=t._locale.eraYearOrdinalParse(n,o):e[vn]=parseInt(n,10)});function wD(n,e){var t,s,o,u=this._eras||Wr("en")._eras;for(t=0,s=u.length;t<s;++t){switch(typeof u[t].since){case"string":o=le(u[t].since).startOf("day"),u[t].since=o.valueOf();break}switch(typeof u[t].until){case"undefined":u[t].until=1/0;break;case"string":o=le(u[t].until).startOf("day").valueOf(),u[t].until=o.valueOf();break}}return u}function bD(n,e,t){var s,o,u=this.eras(),f,m,p;for(n=n.toUpperCase(),s=0,o=u.length;s<o;++s)if(f=u[s].name.toUpperCase(),m=u[s].abbr.toUpperCase(),p=u[s].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(m===n)return u[s];break;case"NNNN":if(f===n)return u[s];break;case"NNNNN":if(p===n)return u[s];break}else if([f,m,p].indexOf(n)>=0)return u[s]}function AD(n,e){var t=n.since<=n.until?1:-1;return e===void 0?le(n.since).year():le(n.since).year()+(e-n.offset)*t}function RD(){var n,e,t,s=this.localeData().eras();for(n=0,e=s.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),s[n].since<=t&&t<=s[n].until||s[n].until<=t&&t<=s[n].since)return s[n].name;return""}function ID(){var n,e,t,s=this.localeData().eras();for(n=0,e=s.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),s[n].since<=t&&t<=s[n].until||s[n].until<=t&&t<=s[n].since)return s[n].narrow;return""}function DD(){var n,e,t,s=this.localeData().eras();for(n=0,e=s.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),s[n].since<=t&&t<=s[n].until||s[n].until<=t&&t<=s[n].since)return s[n].abbr;return""}function CD(){var n,e,t,s,o=this.localeData().eras();for(n=0,e=o.length;n<e;++n)if(t=o[n].since<=o[n].until?1:-1,s=this.clone().startOf("day").valueOf(),o[n].since<=s&&s<=o[n].until||o[n].until<=s&&s<=o[n].since)return(this.year()-le(o[n].since).year())*t+o[n].offset;return this.year()}function OD(n){return et(this,"_erasNameRegex")||Sp.call(this),n?this._erasNameRegex:this._erasRegex}function ND(n){return et(this,"_erasAbbrRegex")||Sp.call(this),n?this._erasAbbrRegex:this._erasRegex}function MD(n){return et(this,"_erasNarrowRegex")||Sp.call(this),n?this._erasNarrowRegex:this._erasRegex}function Ep(n,e){return e.erasAbbrRegex(n)}function xD(n,e){return e.erasNameRegex(n)}function kD(n,e){return e.erasNarrowRegex(n)}function VD(n,e){return e._eraYearOrdinalRegex||ll}function Sp(){var n=[],e=[],t=[],s=[],o,u,f,m,p,y=this.eras();for(o=0,u=y.length;o<u;++o)f=Br(y[o].name),m=Br(y[o].abbr),p=Br(y[o].narrow),e.push(f),n.push(m),t.push(p),s.push(f),s.push(m),s.push(p);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}_e(0,["gg",2],0,function(){return this.weekYear()%100});_e(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Vf(n,e){_e(0,[n,n.length],0,e)}Vf("gggg","weekYear");Vf("ggggg","weekYear");Vf("GGGG","isoWeekYear");Vf("GGGGG","isoWeekYear");ce("G",Of);ce("g",Of);ce("GG",_t,qn);ce("gg",_t,qn);ce("GGGG",up,lp);ce("gggg",up,lp);ce("GGGGG",Cf,If);ce("ggggg",Cf,If);nc(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,s){e[s.substr(0,2)]=Ge(n)});nc(["gg","GG"],function(n,e,t,s){e[s]=le.parseTwoDigitYear(n)});function PD(n){return hS.call(this,n,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function UD(n){return hS.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function LD(){return Hr(this.year(),1,4)}function zD(){return Hr(this.isoWeekYear(),1,4)}function jD(){var n=this.localeData()._week;return Hr(this.year(),n.dow,n.doy)}function BD(){var n=this.localeData()._week;return Hr(this.weekYear(),n.dow,n.doy)}function hS(n,e,t,s,o){var u;return n==null?Bu(this,s,o).year:(u=Hr(n,s,o),e>u&&(e=u),HD.call(this,n,e,t,s,o))}function HD(n,e,t,s,o){var u=qE(n,e,t,s,o),f=ju(u.year,0,u.dayOfYear);return this.year(f.getUTCFullYear()),this.month(f.getUTCMonth()),this.date(f.getUTCDate()),this}_e("Q",0,"Qo","quarter");ce("Q",xE);ft("Q",function(n,e){e[Ur]=(Ge(n)-1)*3});function YD(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}_e("D",["DD",2],"Do","date");ce("D",_t,ul);ce("DD",_t,qn);ce("Do",function(n,e){return n?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});ft(["D","DD"],Wi);ft("Do",function(n,e){e[Wi]=Ge(n.match(_t)[0])});var fS=cl("Date",!0);_e("DDD",["DDDD",3],"DDDo","dayOfYear");ce("DDD",Df);ce("DDDD",kE);ft(["DDD","DDDD"],function(n,e,t){t._dayOfYear=Ge(n)});function qD(n){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?e:this.add(n-e,"d")}_e("m",["mm",2],0,"minute");ce("m",_t,cp);ce("mm",_t,qn);ft(["m","mm"],Ei);var FD=cl("Minutes",!1);_e("s",["ss",2],0,"second");ce("s",_t,cp);ce("ss",_t,qn);ft(["s","ss"],Lr);var GD=cl("Seconds",!1);_e("S",0,0,function(){return~~(this.millisecond()/100)});_e(0,["SS",2],0,function(){return~~(this.millisecond()/10)});_e(0,["SSS",3],0,"millisecond");_e(0,["SSSS",4],0,function(){return this.millisecond()*10});_e(0,["SSSSS",5],0,function(){return this.millisecond()*100});_e(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});_e(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});_e(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});_e(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ce("S",Df,xE);ce("SS",Df,qn);ce("SSS",Df,kE);var ks,dS;for(ks="SSSS";ks.length<=9;ks+="S")ce(ks,ll);function QD(n,e){e[xa]=Ge(("0."+n)*1e3)}for(ks="S";ks.length<=9;ks+="S")ft(ks,QD);dS=cl("Milliseconds",!1);_e("z",0,0,"zoneAbbr");_e("zz",0,0,"zoneName");function KD(){return this._isUTC?"UTC":""}function WD(){return this._isUTC?"Coordinated Universal Time":""}var ee=ec.prototype;ee.add=BI;ee.calendar=KI;ee.clone=WI;ee.diff=nD;ee.endOf=fD;ee.format=aD;ee.from=oD;ee.fromNow=lD;ee.to=uD;ee.toNow=cD;ee.get=sR;ee.invalidAt=ED;ee.isAfter=XI;ee.isBefore=$I;ee.isBetween=ZI;ee.isSame=JI;ee.isSameOrAfter=eD;ee.isSameOrBefore=tD;ee.isValid=vD;ee.lang=aS;ee.locale=sS;ee.localeData=oS;ee.max=vI;ee.min=_I;ee.parsingFlags=TD;ee.set=aR;ee.startOf=hD;ee.subtract=HI;ee.toArray=pD;ee.toObject=yD;ee.toDate=gD;ee.toISOString=rD;ee.inspect=sD;typeof Symbol<"u"&&Symbol.for!=null&&(ee[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ee.toJSON=_D;ee.toString=iD;ee.unix=mD;ee.valueOf=dD;ee.creationData=SD;ee.eraName=RD;ee.eraNarrow=ID;ee.eraAbbr=DD;ee.eraYear=CD;ee.year=UE;ee.isLeapYear=rR;ee.weekYear=PD;ee.isoWeekYear=UD;ee.quarter=ee.quarters=YD;ee.month=HE;ee.daysInMonth=gR;ee.week=ee.weeks=wR;ee.isoWeek=ee.isoWeeks=bR;ee.weeksInYear=jD;ee.weeksInWeekYear=BD;ee.isoWeeksInYear=LD;ee.isoWeeksInISOWeekYear=zD;ee.date=fS;ee.day=ee.days=UR;ee.weekday=LR;ee.isoWeekday=zR;ee.dayOfYear=qD;ee.hour=ee.hours=GR;ee.minute=ee.minutes=FD;ee.second=ee.seconds=GD;ee.millisecond=ee.milliseconds=dS;ee.utcOffset=DI;ee.utc=OI;ee.local=NI;ee.parseZone=MI;ee.hasAlignedHourOffset=xI;ee.isDST=kI;ee.isLocal=PI;ee.isUtcOffset=UI;ee.isUtc=tS;ee.isUTC=tS;ee.zoneAbbr=KD;ee.zoneName=WD;ee.dates=oi("dates accessor is deprecated. Use date instead.",fS);ee.months=oi("months accessor is deprecated. Use month instead",HE);ee.years=oi("years accessor is deprecated. Use year instead",UE);ee.zone=oi("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",CI);ee.isDSTShifted=oi("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",VI);function XD(n){return yt(n*1e3)}function $D(){return yt.apply(null,arguments).parseZone()}function mS(n){return n}var tt=sp.prototype;tt.calendar=P1;tt.longDateFormat=j1;tt.invalidDate=H1;tt.ordinal=F1;tt.preparse=mS;tt.postformat=mS;tt.relativeTime=Q1;tt.pastFuture=K1;tt.set=k1;tt.eras=wD;tt.erasParse=bD;tt.erasConvertYear=AD;tt.erasAbbrRegex=ND;tt.erasNameRegex=OD;tt.erasNarrowRegex=MD;tt.months=hR;tt.monthsShort=fR;tt.monthsParse=mR;tt.monthsRegex=yR;tt.monthsShortRegex=pR;tt.week=vR;tt.firstDayOfYear=SR;tt.firstDayOfWeek=ER;tt.weekdays=MR;tt.weekdaysMin=kR;tt.weekdaysShort=xR;tt.weekdaysParse=PR;tt.weekdaysRegex=jR;tt.weekdaysShortRegex=BR;tt.weekdaysMinRegex=HR;tt.isPM=qR;tt.meridiem=QR;function sf(n,e,t,s){var o=Wr(),u=nr().set(s,e);return o[t](u,n)}function gS(n,e,t){if(qr(n)&&(e=n,n=void 0),n=n||"",e!=null)return sf(n,e,t,"month");var s,o=[];for(s=0;s<12;s++)o[s]=sf(n,s,t,"month");return o}function wp(n,e,t,s){typeof n=="boolean"?(qr(e)&&(t=e,e=void 0),e=e||""):(e=n,t=e,n=!1,qr(e)&&(t=e,e=void 0),e=e||"");var o=Wr(),u=n?o._week.dow:0,f,m=[];if(t!=null)return sf(e,(t+u)%7,s,"day");for(f=0;f<7;f++)m[f]=sf(e,(f+u)%7,s,"day");return m}function ZD(n,e){return gS(n,e,"months")}function JD(n,e){return gS(n,e,"monthsShort")}function eC(n,e,t){return wp(n,e,t,"weekdays")}function tC(n,e,t){return wp(n,e,t,"weekdaysShort")}function nC(n,e,t){return wp(n,e,t,"weekdaysMin")}Ps("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var e=n%10,t=Ge(n%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return n+t}});le.lang=oi("moment.lang is deprecated. Use moment.locale instead.",Ps);le.langData=oi("moment.langData is deprecated. Use moment.localeData instead.",Wr);var kr=Math.abs;function iC(){var n=this._data;return this._milliseconds=kr(this._milliseconds),this._days=kr(this._days),this._months=kr(this._months),n.milliseconds=kr(n.milliseconds),n.seconds=kr(n.seconds),n.minutes=kr(n.minutes),n.hours=kr(n.hours),n.months=kr(n.months),n.years=kr(n.years),this}function pS(n,e,t,s){var o=Ci(e,t);return n._milliseconds+=s*o._milliseconds,n._days+=s*o._days,n._months+=s*o._months,n._bubble()}function rC(n,e){return pS(this,n,e,1)}function sC(n,e){return pS(this,n,e,-1)}function Y0(n){return n<0?Math.floor(n):Math.ceil(n)}function aC(){var n=this._milliseconds,e=this._days,t=this._months,s=this._data,o,u,f,m,p;return n>=0&&e>=0&&t>=0||n<=0&&e<=0&&t<=0||(n+=Y0(Rg(t)+e)*864e5,e=0,t=0),s.milliseconds=n%1e3,o=ri(n/1e3),s.seconds=o%60,u=ri(o/60),s.minutes=u%60,f=ri(u/60),s.hours=f%24,e+=ri(f/24),p=ri(yS(e)),t+=p,e-=Y0(Rg(p)),m=ri(t/12),t%=12,s.days=e,s.months=t,s.years=m,this}function yS(n){return n*4800/146097}function Rg(n){return n*146097/4800}function oC(n){if(!this.isValid())return NaN;var e,t,s=this._milliseconds;if(n=li(n),n==="month"||n==="quarter"||n==="year")switch(e=this._days+s/864e5,t=this._months+yS(e),n){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(Rg(this._months)),n){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return e*24+s/36e5;case"minute":return e*1440+s/6e4;case"second":return e*86400+s/1e3;case"millisecond":return Math.floor(e*864e5)+s;default:throw new Error("Unknown unit "+n)}}function Xr(n){return function(){return this.as(n)}}var _S=Xr("ms"),lC=Xr("s"),uC=Xr("m"),cC=Xr("h"),hC=Xr("d"),fC=Xr("w"),dC=Xr("M"),mC=Xr("Q"),gC=Xr("y"),pC=_S;function yC(){return Ci(this)}function _C(n){return n=li(n),this.isValid()?this[n+"s"]():NaN}function Ha(n){return function(){return this.isValid()?this._data[n]:NaN}}var vC=Ha("milliseconds"),TC=Ha("seconds"),EC=Ha("minutes"),SC=Ha("hours"),wC=Ha("days"),bC=Ha("months"),AC=Ha("years");function RC(){return ri(this.days()/7)}var Vr=Math.round,Fo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function IC(n,e,t,s,o){return o.relativeTime(e||1,!!t,n,s)}function DC(n,e,t,s){var o=Ci(n).abs(),u=Vr(o.as("s")),f=Vr(o.as("m")),m=Vr(o.as("h")),p=Vr(o.as("d")),y=Vr(o.as("M")),E=Vr(o.as("w")),w=Vr(o.as("y")),D=u<=t.ss&&["s",u]||u<t.s&&["ss",u]||f<=1&&["m"]||f<t.m&&["mm",f]||m<=1&&["h"]||m<t.h&&["hh",m]||p<=1&&["d"]||p<t.d&&["dd",p];return t.w!=null&&(D=D||E<=1&&["w"]||E<t.w&&["ww",E]),D=D||y<=1&&["M"]||y<t.M&&["MM",y]||w<=1&&["y"]||["yy",w],D[2]=e,D[3]=+n>0,D[4]=s,IC.apply(null,D)}function CC(n){return n===void 0?Vr:typeof n=="function"?(Vr=n,!0):!1}function OC(n,e){return Fo[n]===void 0?!1:e===void 0?Fo[n]:(Fo[n]=e,n==="s"&&(Fo.ss=e-1),!0)}function NC(n,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,s=Fo,o,u;return typeof n=="object"&&(e=n,n=!1),typeof n=="boolean"&&(t=n),typeof e=="object"&&(s=Object.assign({},Fo,e),e.s!=null&&e.ss==null&&(s.ss=e.s-1)),o=this.localeData(),u=DC(this,!t,s,o),t&&(u=o.pastFuture(+this,u)),o.postformat(u)}var og=Math.abs;function Lo(n){return(n>0)-(n<0)||+n}function Pf(){if(!this.isValid())return this.localeData().invalidDate();var n=og(this._milliseconds)/1e3,e=og(this._days),t=og(this._months),s,o,u,f,m=this.asSeconds(),p,y,E,w;return m?(s=ri(n/60),o=ri(s/60),n%=60,s%=60,u=ri(t/12),t%=12,f=n?n.toFixed(3).replace(/\.?0+$/,""):"",p=m<0?"-":"",y=Lo(this._months)!==Lo(m)?"-":"",E=Lo(this._days)!==Lo(m)?"-":"",w=Lo(this._milliseconds)!==Lo(m)?"-":"",p+"P"+(u?y+u+"Y":"")+(t?y+t+"M":"")+(e?E+e+"D":"")+(o||s||n?"T":"")+(o?w+o+"H":"")+(s?w+s+"M":"")+(n?w+f+"S":"")):"P0D"}var Ze=kf.prototype;Ze.isValid=bI;Ze.abs=iC;Ze.add=rC;Ze.subtract=sC;Ze.as=oC;Ze.asMilliseconds=_S;Ze.asSeconds=lC;Ze.asMinutes=uC;Ze.asHours=cC;Ze.asDays=hC;Ze.asWeeks=fC;Ze.asMonths=dC;Ze.asQuarters=mC;Ze.asYears=gC;Ze.valueOf=pC;Ze._bubble=aC;Ze.clone=yC;Ze.get=_C;Ze.milliseconds=vC;Ze.seconds=TC;Ze.minutes=EC;Ze.hours=SC;Ze.days=wC;Ze.weeks=RC;Ze.months=bC;Ze.years=AC;Ze.humanize=NC;Ze.toISOString=Pf;Ze.toString=Pf;Ze.toJSON=Pf;Ze.locale=sS;Ze.localeData=oS;Ze.toIsoString=oi("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Pf);Ze.lang=aS;_e("X",0,0,"unix");_e("x",0,0,"valueOf");ce("x",Of);ce("X",Z1);ft("X",function(n,e,t){t._d=new Date(parseFloat(n)*1e3)});ft("x",function(n,e,t){t._d=new Date(Ge(n))});//! moment.js
le.version="2.30.1";M1(yt);le.fn=ee;le.min=TI;le.max=EI;le.now=SI;le.utc=nr;le.unix=XD;le.months=ZD;le.isDate=Ju;le.locale=Ps;le.invalid=Rf;le.duration=Ci;le.isMoment=Ii;le.weekdays=eC;le.parseZone=$D;le.localeData=Wr;le.isDuration=Bh;le.monthsShort=JD;le.weekdaysMin=nC;le.defineLocale=gp;le.updateLocale=$R;le.locales=ZR;le.weekdaysShort=tC;le.normalizeUnits=li;le.relativeTimeRounding=CC;le.relativeTimeThreshold=OC;le.calendarFormat=QI;le.prototype=ee;le.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const MC=()=>{};var q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},xC=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[t++],f=n[t++],m=n[t++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=n[t++],f=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},TS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const u=n[o],f=o+1<n.length,m=f?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let D=(m&15)<<2|y>>6,q=y&63;p||(q=64,f||(D=64)),s.push(t[E],t[w],t[D],t[q])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):xC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const u=t[n.charAt(o++)],m=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,u==null||m==null||y==null||w==null)throw new kC;const D=u<<2|m>>4;if(s.push(D),y!==64){const q=m<<4&240|y>>2;if(s.push(q),w!==64){const $=y<<6&192|w;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VC=function(n){const e=vS(n);return TS.encodeByteArray(e,!0)},af=function(n){return VC(n).replace(/\./g,"")},ES=function(n){try{return TS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=()=>PC().__FIREBASE_DEFAULTS__,LC=()=>{if(typeof process>"u"||typeof q0>"u")return;const n=q0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ES(n[1]);return e&&JSON.parse(e)},Uf=()=>{try{return MC()||UC()||LC()||zC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},SS=n=>{var e,t;return(t=(e=Uf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jC=n=>{const e=SS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},wS=()=>{var n;return(n=Uf())===null||n===void 0?void 0:n.config},bS=n=>{var e;return(e=Uf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(n){return n.endsWith(".cloudworkstations.dev")}async function AS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[af(JSON.stringify(t)),af(JSON.stringify(f)),""].join(".")}const Mu={};function YC(){const n={prod:[],emulator:[]};for(const e of Object.keys(Mu))Mu[e]?n.emulator.push(e):n.prod.push(e);return n}function qC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let F0=!1;function RS(n,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||Mu[n]===e||Mu[n]||F0)return;Mu[n]=e;function t(D){return`__firebase__banner__${D}`}const s="__firebase__banner",u=YC().prod.length>0;function f(){const D=document.getElementById(s);D&&D.remove()}function m(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function p(D,q){D.setAttribute("width","24"),D.setAttribute("id",q),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{F0=!0,f()},D}function E(D,q){D.setAttribute("id",q),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function w(){const D=qC(s),q=t("text"),$=document.getElementById(q)||document.createElement("span"),ae=t("learnmore"),Z=document.getElementById(ae)||document.createElement("a"),we=t("preprendIcon"),de=document.getElementById(we)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ge=D.element;m(ge),E(Z,ae);const ze=y();p(de,we),ge.append(de,$,Z,ze),document.body.appendChild(ge)}u?($.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function GC(){var n;const e=(n=Uf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XC(){const n=Tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $C(){return!GC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZC(){try{return typeof indexedDB=="object"}catch{return!1}}function JC(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="FirebaseError";class $r extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=e2,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?t2(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new $r(o,m,s)}}function t2(n,e){return n.replace(n2,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const n2=/\{\$([^}]+)}/g;function i2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ua(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=n[o],f=e[o];if(G0(u)&&G0(f)){if(!Ua(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function G0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Au(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ru(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function r2(n,e){const t=new s2(n,e);return t.subscribe.bind(t)}class s2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");a2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=lg),o.error===void 0&&(o.error=lg),o.complete===void 0&&(o.complete=lg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function lg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n){return n&&n._delegate?n._delegate:n}class La{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new BC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u2(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:l2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l2(n){return n===Ma?void 0:n}function u2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const h2={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},f2=qe.INFO,d2={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},m2=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=d2[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bp{constructor(e){this.name=e,this._logLevel=f2,this._logHandler=m2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const g2=(n,e)=>e.some(t=>n instanceof t);let Q0,K0;function p2(){return Q0||(Q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y2(){return K0||(K0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IS=new WeakMap,Ig=new WeakMap,DS=new WeakMap,ug=new WeakMap,Ap=new WeakMap;function _2(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{t(Us(n.result)),o()},f=()=>{s(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&IS.set(t,n)}).catch(()=>{}),Ap.set(e,n),e}function v2(n){if(Ig.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});Ig.set(n,e)}let Dg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ig.get(n);if(e==="objectStoreNames")return n.objectStoreNames||DS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Us(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function T2(n){Dg=n(Dg)}function E2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(cg(this),e,...t);return DS.set(s,e.sort?e.sort():[e]),Us(s)}:y2().includes(n)?function(...e){return n.apply(cg(this),e),Us(IS.get(this))}:function(...e){return Us(n.apply(cg(this),e))}}function S2(n){return typeof n=="function"?E2(n):(n instanceof IDBTransaction&&v2(n),g2(n,p2())?new Proxy(n,Dg):n)}function Us(n){if(n instanceof IDBRequest)return _2(n);if(ug.has(n))return ug.get(n);const e=S2(n);return e!==n&&(ug.set(n,e),Ap.set(e,n)),e}const cg=n=>Ap.get(n);function w2(n,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(n,e),m=Us(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Us(f.result),p.oldVersion,p.newVersion,Us(f.transaction),p)}),t&&f.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const b2=["get","getKey","getAll","getAllKeys","count"],A2=["put","add","delete","clear"],hg=new Map;function W0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hg.get(e))return hg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=A2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||b2.includes(t)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&p.done]))[0]};return hg.set(e,u),u}T2(n=>({...n,get:(e,t,s)=>W0(e,t)||n.get(e,t,s),has:(e,t)=>!!W0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(I2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function I2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cg="@firebase/app",X0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new bp("@firebase/app"),D2="@firebase/app-compat",C2="@firebase/analytics-compat",O2="@firebase/analytics",N2="@firebase/app-check-compat",M2="@firebase/app-check",x2="@firebase/auth",k2="@firebase/auth-compat",V2="@firebase/database",P2="@firebase/data-connect",U2="@firebase/database-compat",L2="@firebase/functions",z2="@firebase/functions-compat",j2="@firebase/installations",B2="@firebase/installations-compat",H2="@firebase/messaging",Y2="@firebase/messaging-compat",q2="@firebase/performance",F2="@firebase/performance-compat",G2="@firebase/remote-config",Q2="@firebase/remote-config-compat",K2="@firebase/storage",W2="@firebase/storage-compat",X2="@firebase/firestore",$2="@firebase/ai",Z2="@firebase/firestore-compat",J2="firebase",eO="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="[DEFAULT]",tO={[Cg]:"fire-core",[D2]:"fire-core-compat",[O2]:"fire-analytics",[C2]:"fire-analytics-compat",[M2]:"fire-app-check",[N2]:"fire-app-check-compat",[x2]:"fire-auth",[k2]:"fire-auth-compat",[V2]:"fire-rtdb",[P2]:"fire-data-connect",[U2]:"fire-rtdb-compat",[L2]:"fire-fn",[z2]:"fire-fn-compat",[j2]:"fire-iid",[B2]:"fire-iid-compat",[H2]:"fire-fcm",[Y2]:"fire-fcm-compat",[q2]:"fire-perf",[F2]:"fire-perf-compat",[G2]:"fire-rc",[Q2]:"fire-rc-compat",[K2]:"fire-gcs",[W2]:"fire-gcs-compat",[X2]:"fire-fst",[Z2]:"fire-fst-compat",[$2]:"fire-vertex","fire-js":"fire-js",[J2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new Map,nO=new Map,Ng=new Map;function $0(n,e){try{n.container.addComponent(e)}catch(t){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jo(n){const e=n.name;if(Ng.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;Ng.set(e,n);for(const t of of.values())$0(t,n);for(const t of nO.values())$0(t,n);return!0}function Rp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function An(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new ic("app","Firebase",iO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new La("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=eO;function CS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Og,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Ls.create("bad-app-name",{appName:String(o)});if(t||(t=wS()),!t)throw Ls.create("no-options");const u=of.get(o);if(u){if(Ua(t,u.options)&&Ua(s,u.config))return u;throw Ls.create("duplicate-app",{appName:o})}const f=new c2(o);for(const p of Ng.values())f.addComponent(p);const m=new rO(t,s,f);return of.set(o,m),m}function OS(n=Og){const e=of.get(n);if(!e&&n===Og&&wS())return CS();if(!e)throw Ls.create("no-app",{appName:n});return e}function zs(n,e,t){var s;let o=(s=tO[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(m.join(" "));return}Jo(new La(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="firebase-heartbeat-database",aO=1,Yu="firebase-heartbeat-store";let fg=null;function NS(){return fg||(fg=w2(sO,aO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ls.create("idb-open",{originalErrorMessage:n.message})})),fg}async function oO(n){try{const t=(await NS()).transaction(Yu),s=await t.objectStore(Yu).get(MS(n));return await t.done,s}catch(e){if(e instanceof $r)Fr.warn(e.message);else{const t=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(t.message)}}}async function Z0(n,e){try{const s=(await NS()).transaction(Yu,"readwrite");await s.objectStore(Yu).put(e,MS(n)),await s.done}catch(t){if(t instanceof $r)Fr.warn(t.message);else{const s=Ls.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fr.warn(s.message)}}}function MS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=1024,uO=30;class cO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fO(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=J0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>uO){const f=dO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J0(),{heartbeatsToSend:s,unsentEntries:o}=hO(this._heartbeatsCache.heartbeats),u=af(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Fr.warn(t),""}}}function J0(){return new Date().toISOString().substring(0,10)}function hO(n,e=lO){const t=[];let s=n.slice();for(const o of n){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),eT(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),eT(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class fO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZC()?JC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await oO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function eT(n){return af(JSON.stringify({version:2,heartbeats:n})).length}function dO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(n){Jo(new La("platform-logger",e=>new R2(e),"PRIVATE")),Jo(new La("heartbeat",e=>new cO(e),"PRIVATE")),zs(Cg,X0,n),zs(Cg,X0,"esm2017"),zs("fire-js","")}mO("");var gO="firebase",pO="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zs(gO,pO,"app");function Ip(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function xS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yO=xS,kS=new ic("auth","Firebase",xS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new bp("@firebase/auth");function _O(n,...e){lf.logLevel<=qe.WARN&&lf.warn(`Auth (${fl}): ${n}`,...e)}function Yh(n,...e){lf.logLevel<=qe.ERROR&&lf.error(`Auth (${fl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(n,...e){throw Cp(n,...e)}function bi(n,...e){return Cp(n,...e)}function Dp(n,e,t){const s=Object.assign(Object.assign({},yO()),{[e]:t});return new ic("auth","Firebase",s).create(e,{appName:n.name})}function Ai(n){return Dp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vO(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&ai(n,"argument-error"),Dp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cp(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return kS.create(n,...e)}function Re(n,e,...t){if(!n)throw Cp(e,...t)}function zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Yh(e),new Error(e)}function Gr(n,e){n||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function TO(){return tT()==="http:"||tT()==="https:"}function tT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TO()||KC()||"connection"in navigator)?navigator.onLine:!0}function SO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gr(t>e,"Short delay should be less than long delay!"),this.isMobile=FC()||WC()}get(){return EO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(n,e){Gr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AO=new sc(3e4,6e4);function Zr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Jr(n,e,t,s,o={}){return PS(n,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=rc(Object.assign({key:n.config.apiKey},f)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},u);return QC()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&hl(n.emulatorConfig.host)&&(y.credentials="include"),VS.fetch()(await US(n,n.config.apiHost,t,m),y)})}async function PS(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},wO),e);try{const o=new IO(n),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw kh(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(n,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw kh(n,"email-already-in-use",f);if(p==="USER_DISABLED")throw kh(n,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Dp(n,E,y);ai(n,E)}}catch(o){if(o instanceof $r)throw o;ai(n,"network-request-failed",{message:String(o)})}}async function dl(n,e,t,s,o={}){const u=await Jr(n,e,t,s,o);return"mfaPendingCredential"in u&&ai(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function US(n,e,t,s){const o=`${e}${t}?${s}`,u=n,f=u.config.emulator?Op(n.config,o):`${n.config.apiScheme}://${o}`;return bO.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function RO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(bi(this.auth,"network-request-failed")),AO.get())})}}function kh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=bi(n,e,s);return o.customData._tokenResponse=t,o}function nT(n){return n!==void 0&&n.enterprise!==void 0}class DO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return RO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CO(n,e){return Jr(n,"GET","/v2/recaptchaConfig",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(n,e){return Jr(n,"POST","/v1/accounts:delete",e)}async function uf(n,e){return Jr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NO(n,e=!1){const t=fn(n),s=await t.getIdToken(e),o=Np(s);Re(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:xu(dg(o.auth_time)),issuedAtTime:xu(dg(o.iat)),expirationTime:xu(dg(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function dg(n){return Number(n)*1e3}function Np(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ES(t);return o?JSON.parse(o):(Yh("Failed to decode base64 JWT payload"),null)}catch(o){return Yh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function iT(n){const e=Np(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof $r&&MO(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function MO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(n){var e;const t=n.auth,s=await n.getIdToken(),o=await el(n,uf(t,{idToken:s}));Re(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];n._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?LS(u.providerUserInfo):[],m=VO(n.providerData,f),p=n.isAnonymous,y=!(n.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new xg(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(n,w)}async function kO(n){const e=fn(n);await cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VO(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function LS(n){return n.map(e=>{var{providerId:t}=e,s=Ip(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(n,e){const t=await PS(n,{},async()=>{const s=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,f=await US(n,o,"/v1/token",`key=${u}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return n.emulatorConfig&&hl(n.emulatorConfig.host)&&(p.credentials="include"),VS.fetch()(f,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function UO(n,e){return Jr(n,"POST","/v2/accounts:revokeToken",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=iT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await PO(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new Wo;return s&&(Re(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Re(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Re(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Si{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Ip(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new xg(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await el(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return NO(this,e)}reload(){return kO(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await cf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await el(this,OO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,f,m,p,y,E;const w=(s=t.displayName)!==null&&s!==void 0?s:void 0,D=(o=t.email)!==null&&o!==void 0?o:void 0,q=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,$=(f=t.photoURL)!==null&&f!==void 0?f:void 0,ae=(m=t.tenantId)!==null&&m!==void 0?m:void 0,Z=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,we=(y=t.createdAt)!==null&&y!==void 0?y:void 0,de=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ge,emailVerified:ze,isAnonymous:be,providerData:Me,stsTokenManager:M}=t;Re(ge&&M,e,"internal-error");const b=Wo.fromJSON(this.name,M);Re(typeof ge=="string",e,"internal-error"),Cs(w,e.name),Cs(D,e.name),Re(typeof ze=="boolean",e,"internal-error"),Re(typeof be=="boolean",e,"internal-error"),Cs(q,e.name),Cs($,e.name),Cs(ae,e.name),Cs(Z,e.name),Cs(we,e.name),Cs(de,e.name);const R=new Si({uid:ge,auth:e,email:D,emailVerified:ze,displayName:w,isAnonymous:be,photoURL:$,phoneNumber:q,tenantId:ae,stsTokenManager:b,createdAt:we,lastLoginAt:de});return Me&&Array.isArray(Me)&&(R.providerData=Me.map(N=>Object.assign({},N))),Z&&(R._redirectEventId=Z),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new Wo;o.updateFromServerResponse(t);const u=new Si({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await cf(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Re(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?LS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Wo;m.updateFromIdToken(s);const p=new Si({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;function jr(n){Gr(n instanceof Function,"Expected a class definition");let e=rT.get(n);return e?(Gr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,rT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}zS.type="NONE";const sT=zS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n,e,t){return`firebase:${n}:${e}:${t}`}class Xo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=qh(this.userKey,o.apiKey,u),this.fullPersistenceKey=qh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await uf(this.auth,{idToken:e}).catch(()=>{});return t?Si._fromGetAccountInfoResponse(this.auth,t,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Xo(jr(sT),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||jr(sT);const f=qh(s,e.config.apiKey,e.name);let m=null;for(const y of t)try{const E=await y._get(f);if(E){let w;if(typeof E=="string"){const D=await uf(e,{idToken:E}).catch(()=>{});if(!D)break;w=await Si._fromGetAccountInfoResponse(e,D,E)}else w=Si._fromJSON(e,E);y!==u&&(m=w),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Xo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Xo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FS(e))return"Blackberry";if(GS(e))return"Webos";if(BS(e))return"Safari";if((e.includes("chrome/")||HS(e))&&!e.includes("edge/"))return"Chrome";if(qS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function jS(n=Tn()){return/firefox\//i.test(n)}function BS(n=Tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HS(n=Tn()){return/crios\//i.test(n)}function YS(n=Tn()){return/iemobile/i.test(n)}function qS(n=Tn()){return/android/i.test(n)}function FS(n=Tn()){return/blackberry/i.test(n)}function GS(n=Tn()){return/webos/i.test(n)}function Mp(n=Tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LO(n=Tn()){var e;return Mp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zO(){return XC()&&document.documentMode===10}function QS(n=Tn()){return Mp(n)||qS(n)||GS(n)||FS(n)||/windows phone/i.test(n)||YS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n,e=[]){let t;switch(n){case"Browser":t=aT(Tn());break;case"Worker":t=`${aT(Tn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(n,e={}){return Jr(n,"GET","/v2/passwordPolicy",Zr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=6;class YO{constructor(e){var t,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:HO,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oT(this),this.idTokenSubscription=new oT(this),this.beforeStateQueue=new jO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=jr(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await uf(this,{idToken:e}),s=await Si._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(An(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(Ai(this));const t=e?fn(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BO(this),t=new YO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await UO(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&jr(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[jr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(t);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&_O(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function rr(n){return fn(n)}class oT{constructor(e){this.auth=e,this.observer=null,this.addObserver=r2(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FO(n){Lf=n}function WS(n){return Lf.loadJS(n)}function GO(){return Lf.recaptchaEnterpriseScript}function QO(){return Lf.gapiScript}function KO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class WO{constructor(){this.enterprise=new XO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class XO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $O="recaptcha-enterprise",XS="NO_RECAPTCHA";class ZO{constructor(e){this.type=$O,this.auth=rr(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{CO(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new DO(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;nT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(XS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WO().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!t&&nT(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=GO();p.length!==0&&(p+=m),WS(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function lT(n,e,t,s=!1,o=!1){const u=new ZO(n);let f;if(o)f=XS;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function kg(n,e,t,s,o){var u;if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await lT(n,e,t,t==="getOobCode");return s(n,f)}else return s(n,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await lT(n,e,t,t==="getOobCode");return s(n,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(n,e){const t=Rp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Ua(u,e??{}))return o;ai(o,"already-initialized")}return t.initialize({options:e})}function eN(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(jr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function tN(n,e,t){const s=rr(n);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=$S(e),{host:f,port:m}=nN(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(Ua(y,s.config.emulator)&&Ua(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,hl(f)?(AS(`${u}//${f}${p}`),RS("Auth",!0)):iN()}function $S(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function nN(n){const e=$S(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:uT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:uT(f)}}}function uT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function iN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,t){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function rN(n,e){return Jr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(n,e){return dl(n,"POST","/v1/accounts:signInWithPassword",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(n,e){return dl(n,"POST","/v1/accounts:signInWithEmailLink",Zr(n,e))}async function oN(n,e){return dl(n,"POST","/v1/accounts:signInWithEmailLink",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends xp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new qu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new qu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,t,"signInWithPassword",sN);case"emailLink":return aN(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,s,"signUpPassword",rN);case"emailLink":return oN(e,{idToken:t,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n,e){return dl(n,"POST","/v1/accounts:signInWithIdp",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="http://localhost";class za extends xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Ip(t,["providerId","signInMethod"]);if(!s||!o)return null;const f=new za(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return $o(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,$o(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$o(e,t)}buildRequest(){const e={requestUri:lN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=rc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cN(n){const e=Au(Ru(n)).link,t=e?Au(Ru(e)).deep_link_id:null,s=Au(Ru(n)).deep_link_id;return(s?Au(Ru(s)).link:null)||s||t||e||n}class kp{constructor(e){var t,s,o,u,f,m;const p=Au(Ru(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=uN((o=p.mode)!==null&&o!==void 0?o:null);Re(y&&E&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=cN(e);try{return new kp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,t){return qu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=kp.parseLink(t);return Re(s,"argument-error"),qu._fromEmailAndCode(e,s.code,s.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Vp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends ac{constructor(){super("facebook.com")}static credential(e){return za._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return za._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Pr.credential(t,s)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends ac{constructor(){super("github.com")}static credential(e){return za._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends ac{constructor(){super("twitter.com")}static credential(e,t){return za._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ms.credential(t,s)}catch{return null}}}Ms.TWITTER_SIGN_IN_METHOD="twitter.com";Ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(n,e){return dl(n,"POST","/v1/accounts:signUp",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Si._fromIdTokenResponse(e,s,o),f=cT(s);return new er({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=cT(s);return new er({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function cT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(n){var e;if(An(n.app))return Promise.reject(Ai(n));const t=rr(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new er({user:t.currentUser,providerId:null,operationType:"signIn"});const s=await ZS(t,{returnSecureToken:!0}),o=await er._fromIdTokenResponse(t,"signIn",s,!0);return await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends $r{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new hf(e,t,s,o)}}function JS(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(n,u,e,s):u})}async function fN(n,e,t=!1){const s=await el(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return er._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(n,e,t=!1){const{auth:s}=n;if(An(s.app))return Promise.reject(Ai(s));const o="reauthenticate";try{const u=await el(n,JS(s,o,e,n),t);Re(u.idToken,s,"internal-error");const f=Np(u.idToken);Re(f,s,"internal-error");const{sub:m}=f;return Re(n.uid===m,s,"user-mismatch"),er._forOperation(n,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ai(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(n,e,t=!1){if(An(n.app))return Promise.reject(Ai(n));const s="signIn",o=await JS(n,s,e),u=await er._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(u.user),u}async function mN(n,e){return ew(rr(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(n,e){return dl(n,"POST","/v1/accounts:signInWithCustomToken",Zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(n,e){if(An(n.app))return Promise.reject(Ai(n));const t=rr(n),s=await gN(t,{token:e,returnSecureToken:!0}),o=await er._fromIdTokenResponse(t,"signIn",s);return await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(n){const e=rr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yN(n,e,t){if(An(n.app))return Promise.reject(Ai(n));const s=rr(n),f=await kg(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZS).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&tw(n),p}),m=await er._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function _N(n,e,t){return An(n.app)?Promise.reject(Ai(n)):mN(fn(n),ml.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&tw(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(n,e){return Jr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=fn(n),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=await el(s,vN(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function EN(n,e,t,s){return fn(n).onIdTokenChanged(e,t,s)}function SN(n,e,t){return fn(n).beforeAuthStateChanged(e,t)}function wN(n,e,t,s){return fn(n).onAuthStateChanged(e,t,s)}function bN(n){return fn(n).signOut()}const ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=1e3,RN=10;class iw extends nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);zO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RN):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},AN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iw.type="LOCAL";const IN=iw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rw.type="SESSION";const sw=rw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new zf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(t.origin,u)),p=await DN(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Pp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const D=w;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(D.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(){return window}function ON(n){Xi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function NN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function xN(){return aw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="firebaseLocalStorageDb",kN=1,df="firebaseLocalStorage",lw="fbase_key";class oc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jf(n,e){return n.transaction([df],e?"readwrite":"readonly").objectStore(df)}function VN(){const n=indexedDB.deleteDatabase(ow);return new oc(n).toPromise()}function Vg(){const n=indexedDB.open(ow,kN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(df,{keyPath:lw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(df)?e(s):(s.close(),await VN(),e(await Vg()))})})}async function hT(n,e,t){const s=jf(n,!0).put({[lw]:e,value:t});return new oc(s).toPromise()}async function PN(n,e){const t=jf(n,!1).get(e),s=await new oc(t).toPromise();return s===void 0?null:s.value}function fT(n,e){const t=jf(n,!0).delete(e);return new oc(t).toPromise()}const UN=800,LN=3;class uw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>LN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zf._getInstance(xN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await NN(),!this.activeServiceWorker)return;this.sender=new CN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vg();return await hT(e,ff,"1"),await fT(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>hT(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>PN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=jf(o,!1).getAll();return new oc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uw.type="LOCAL";const zN=uw;new sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n,e){return e?jr(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jN(n){return ew(n.auth,new Up(n),n.bypassAuthState)}function BN(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),dN(t,new Up(n),n.bypassAuthState)}async function HN(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),fN(t,new Up(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jN;case"linkViaPopup":case"linkViaRedirect":return HN;case"reauthViaPopup":case"reauthViaRedirect":return BN;default:ai(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new sc(2e3,1e4);async function qN(n,e,t){if(An(n.app))return Promise.reject(bi(n,"operation-not-supported-in-this-environment"));const s=rr(n);vO(n,e,Vp);const o=cw(s,t);return new ka(s,"signInViaPopup",e,o).executeNotNull()}class ka extends hw{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=Pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YN.get())};e()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="pendingRedirect",Fh=new Map;class GN extends hw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Fh.get(this.auth._key());if(!e){try{const s=await QN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Fh.set(this.auth._key(),e)}return this.bypassAuthState||Fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QN(n,e){const t=XN(e),s=WN(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function KN(n,e){Fh.set(n._key(),e)}function WN(n){return jr(n._redirectPersistence)}function XN(n){return qh(FN,n.config.apiKey,n.name)}async function $N(n,e,t=!1){if(An(n.app))return Promise.reject(Ai(n));const s=rr(n),o=cw(s,e),f=await new GN(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=10*60*1e3;class JN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!fw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(bi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZN&&this.cachedEventUids.clear(),this.cachedEventUids.has(dT(e))}saveEventToCache(e){this.cachedEventUids.add(dT(e)),this.lastProcessedEventTime=Date.now()}}function dT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(n,e={}){return Jr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iM=/^https?/;async function rM(n){if(n.config.emulator)return;const{authorizedDomains:e}=await tM(n);for(const t of e)try{if(sM(t))return}catch{}ai(n,"unauthorized-domain")}function sM(n){const e=Mg(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!iM.test(t))return!1;if(nM.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new sc(3e4,6e4);function mT(){const n=Xi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function oM(n){return new Promise((e,t)=>{var s,o,u;function f(){mT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mT(),t(bi(n,"network-request-failed"))},timeout:aM.get()})}if(!((o=(s=Xi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Xi().gapi)===null||u===void 0)&&u.load)f();else{const m=KO("iframefcb");return Xi()[m]=()=>{gapi.load?f():t(bi(n,"network-request-failed"))},WS(`${QO()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Gh=null,e})}let Gh=null;function lM(n){return Gh=Gh||oM(n),Gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new sc(5e3,15e3),cM="__/auth/iframe",hM="emulator/auth/iframe",fM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mM(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Op(e,hM):`https://${n.config.authDomain}/${cM}`,s={apiKey:e.apiKey,appName:n.name,v:fl},o=dM.get(n.config.apiHost);o&&(s.eid=o);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${rc(s).slice(1)}`}async function gM(n){const e=await lM(n),t=Xi().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:mM(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fM,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=bi(n,"network-request-failed"),m=Xi().setTimeout(()=>{u(f)},uM.get());function p(){Xi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yM=500,_M=600,vM="_blank",TM="http://localhost";class gT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EM(n,e,t,s=yM,o=_M){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},pM),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Tn().toLowerCase();t&&(m=HS(y)?vM:t),jS(y)&&(e=e||TM,p.scrollbars="yes");const E=Object.entries(p).reduce((D,[q,$])=>`${D}${q}=${$},`,"");if(LO(y)&&m!=="_self")return SM(e||"",m),new gT(null);const w=window.open(e||"",m,E);Re(w,n,"popup-blocked");try{w.focus()}catch{}return new gT(w)}function SM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="__/auth/handler",bM="emulator/auth/handler",AM=encodeURIComponent("fac");async function pT(n,e,t,s,o,u){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:fl,eventId:o};if(e instanceof Vp){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",i2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof ac){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}n.tenantId&&(f.tid=n.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await n._getAppCheckToken(),y=p?`#${AM}=${encodeURIComponent(p)}`:"";return`${RM(n)}?${rc(m).slice(1)}${y}`}function RM({config:n}){return n.emulator?Op(n,bM):`https://${n.authDomain}/${wM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="webStorageSupport";class IM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sw,this._completeRedirectFn=$N,this._overrideRedirectResult=KN}async _openPopup(e,t,s,o){var u;Gr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await pT(e,t,s,Mg(),o);return EM(e,f,Pp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await pT(e,t,s,Mg(),o);return ON(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Gr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await gM(e),s=new JN(e);return t.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mg,{type:mg},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[mg];f!==void 0&&t(!!f),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return QS()||BS()||Mp()}}const DM=IM;var yT="@firebase/auth",_T="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NM(n){Jo(new La("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Re(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KS(n)},y=new qO(s,o,u,p);return eN(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Jo(new La("auth-internal",e=>{const t=rr(e.getProvider("auth").getImmediate());return(s=>new CM(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),zs(yT,_T,OM(n)),zs(yT,_T,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=5*60,xM=bS("authIdTokenMaxAge")||MM;let vT=null;const kM=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>xM)return;const o=t==null?void 0:t.token;vT!==o&&(vT=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Pg(n=OS()){const e=Rp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=JO(n,{popupRedirectResolver:DM,persistence:[zN,IN,sw]}),s=bS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=kM(u.toString());SN(t,f,()=>f(t.currentUser)),EN(t,m=>f(m))}}const o=SS("auth");return o&&tN(t,`http://${o}`),t}function VM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}FO({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const u=bi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",VM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NM("Browser");var TT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,dw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function R(){}R.prototype=b.prototype,M.D=b.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(N,x,V){for(var I=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)I[Dt-2]=arguments[Dt];return b.prototype[x].apply(N,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,b,R){R||(R=0);var N=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)N[x]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(x=0;16>x;++x)N[x]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=M.g[0],R=M.g[1],x=M.g[2];var V=M.g[3],I=b+(V^R&(x^V))+N[0]+3614090360&4294967295;b=R+(I<<7&4294967295|I>>>25),I=V+(x^b&(R^x))+N[1]+3905402710&4294967295,V=b+(I<<12&4294967295|I>>>20),I=x+(R^V&(b^R))+N[2]+606105819&4294967295,x=V+(I<<17&4294967295|I>>>15),I=R+(b^x&(V^b))+N[3]+3250441966&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(V^R&(x^V))+N[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=V+(x^b&(R^x))+N[5]+1200080426&4294967295,V=b+(I<<12&4294967295|I>>>20),I=x+(R^V&(b^R))+N[6]+2821735955&4294967295,x=V+(I<<17&4294967295|I>>>15),I=R+(b^x&(V^b))+N[7]+4249261313&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(V^R&(x^V))+N[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=V+(x^b&(R^x))+N[9]+2336552879&4294967295,V=b+(I<<12&4294967295|I>>>20),I=x+(R^V&(b^R))+N[10]+4294925233&4294967295,x=V+(I<<17&4294967295|I>>>15),I=R+(b^x&(V^b))+N[11]+2304563134&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(V^R&(x^V))+N[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=V+(x^b&(R^x))+N[13]+4254626195&4294967295,V=b+(I<<12&4294967295|I>>>20),I=x+(R^V&(b^R))+N[14]+2792965006&4294967295,x=V+(I<<17&4294967295|I>>>15),I=R+(b^x&(V^b))+N[15]+1236535329&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(x^V&(R^x))+N[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^x&(b^R))+N[6]+3225465664&4294967295,V=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(V^b))+N[11]+643717713&4294967295,x=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(x^V))+N[0]+3921069994&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(x^V&(R^x))+N[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^x&(b^R))+N[10]+38016083&4294967295,V=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(V^b))+N[15]+3634488961&4294967295,x=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(x^V))+N[4]+3889429448&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(x^V&(R^x))+N[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^x&(b^R))+N[14]+3275163606&4294967295,V=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(V^b))+N[3]+4107603335&4294967295,x=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(x^V))+N[8]+1163531501&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(x^V&(R^x))+N[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^x&(b^R))+N[2]+4243563512&4294967295,V=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(V^b))+N[7]+1735328473&4294967295,x=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(x^V))+N[12]+2368359562&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(R^x^V)+N[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^x)+N[8]+2272392833&4294967295,V=b+(I<<11&4294967295|I>>>21),I=x+(V^b^R)+N[11]+1839030562&4294967295,x=V+(I<<16&4294967295|I>>>16),I=R+(x^V^b)+N[14]+4259657740&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(R^x^V)+N[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^x)+N[4]+1272893353&4294967295,V=b+(I<<11&4294967295|I>>>21),I=x+(V^b^R)+N[7]+4139469664&4294967295,x=V+(I<<16&4294967295|I>>>16),I=R+(x^V^b)+N[10]+3200236656&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(R^x^V)+N[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^x)+N[0]+3936430074&4294967295,V=b+(I<<11&4294967295|I>>>21),I=x+(V^b^R)+N[3]+3572445317&4294967295,x=V+(I<<16&4294967295|I>>>16),I=R+(x^V^b)+N[6]+76029189&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(R^x^V)+N[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^x)+N[12]+3873151461&4294967295,V=b+(I<<11&4294967295|I>>>21),I=x+(V^b^R)+N[15]+530742520&4294967295,x=V+(I<<16&4294967295|I>>>16),I=R+(x^V^b)+N[2]+3299628645&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(x^(R|~V))+N[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~x))+N[7]+1126891415&4294967295,V=b+(I<<10&4294967295|I>>>22),I=x+(b^(V|~R))+N[14]+2878612391&4294967295,x=V+(I<<15&4294967295|I>>>17),I=R+(V^(x|~b))+N[5]+4237533241&4294967295,R=x+(I<<21&4294967295|I>>>11),I=b+(x^(R|~V))+N[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~x))+N[3]+2399980690&4294967295,V=b+(I<<10&4294967295|I>>>22),I=x+(b^(V|~R))+N[10]+4293915773&4294967295,x=V+(I<<15&4294967295|I>>>17),I=R+(V^(x|~b))+N[1]+2240044497&4294967295,R=x+(I<<21&4294967295|I>>>11),I=b+(x^(R|~V))+N[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~x))+N[15]+4264355552&4294967295,V=b+(I<<10&4294967295|I>>>22),I=x+(b^(V|~R))+N[6]+2734768916&4294967295,x=V+(I<<15&4294967295|I>>>17),I=R+(V^(x|~b))+N[13]+1309151649&4294967295,R=x+(I<<21&4294967295|I>>>11),I=b+(x^(R|~V))+N[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~x))+N[11]+3174756917&4294967295,V=b+(I<<10&4294967295|I>>>22),I=x+(b^(V|~R))+N[2]+718787259&4294967295,x=V+(I<<15&4294967295|I>>>17),I=R+(V^(x|~b))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+V&4294967295}s.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var R=b-this.blockSize,N=this.B,x=this.h,V=0;V<b;){if(x==0)for(;V<=R;)o(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<b;)if(N[x++]=M.charCodeAt(V++),x==this.blockSize){o(this,N),x=0;break}}else for(;V<b;)if(N[x++]=M[V++],x==this.blockSize){o(this,N),x=0;break}}this.h=x,this.o+=b},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var R=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=R&255,R/=256;for(this.u(M),M=Array(16),b=R=0;4>b;++b)for(var N=0;32>N;N+=8)M[R++]=this.g[b]>>>N&255;return M};function u(M,b){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=b(M)}function f(M,b){this.h=b;for(var R=[],N=!0,x=M.length-1;0<=x;x--){var V=M[x]|0;N&&V==b||(R[x]=V,N=!1)}this.g=R}var m={};function p(M){return-128<=M&&128>M?u(M,function(b){return new f([b|0],0>b?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return Z(y(-M));for(var b=[],R=1,N=0;M>=R;N++)b[N]=M/R|0,R*=4294967296;return new f(b,0)}function E(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return Z(E(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(b,8)),N=w,x=0;x<M.length;x+=8){var V=Math.min(8,M.length-x),I=parseInt(M.substring(x,x+V),b);8>V?(V=y(Math.pow(b,V)),N=N.j(V).add(y(I))):(N=N.j(R),N=N.add(y(I)))}return N}var w=p(0),D=p(1),q=p(16777216);n=f.prototype,n.m=function(){if(ae(this))return-Z(this).m();for(var M=0,b=1,R=0;R<this.g.length;R++){var N=this.i(R);M+=(0<=N?N:4294967296+N)*b,b*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if($(this))return"0";if(ae(this))return"-"+Z(this).toString(M);for(var b=y(Math.pow(M,6)),R=this,N="";;){var x=ze(R,b).g;R=we(R,x.j(b));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=x,$(R))return V+N;for(;6>V.length;)V="0"+V;N=V+N}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function $(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function ae(M){return M.h==-1}n.l=function(M){return M=we(this,M),ae(M)?-1:$(M)?0:1};function Z(M){for(var b=M.g.length,R=[],N=0;N<b;N++)R[N]=~M.g[N];return new f(R,~M.h).add(D)}n.abs=function(){return ae(this)?Z(this):this},n.add=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],N=0,x=0;x<=b;x++){var V=N+(this.i(x)&65535)+(M.i(x)&65535),I=(V>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);N=I>>>16,V&=65535,I&=65535,R[x]=I<<16|V}return new f(R,R[R.length-1]&-2147483648?-1:0)};function we(M,b){return M.add(Z(b))}n.j=function(M){if($(this)||$(M))return w;if(ae(this))return ae(M)?Z(this).j(Z(M)):Z(Z(this).j(M));if(ae(M))return Z(this.j(Z(M)));if(0>this.l(q)&&0>M.l(q))return y(this.m()*M.m());for(var b=this.g.length+M.g.length,R=[],N=0;N<2*b;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var x=0;x<M.g.length;x++){var V=this.i(N)>>>16,I=this.i(N)&65535,Dt=M.i(x)>>>16,mt=M.i(x)&65535;R[2*N+2*x]+=I*mt,de(R,2*N+2*x),R[2*N+2*x+1]+=V*mt,de(R,2*N+2*x+1),R[2*N+2*x+1]+=I*Dt,de(R,2*N+2*x+1),R[2*N+2*x+2]+=V*Dt,de(R,2*N+2*x+2)}for(N=0;N<b;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=b;N<2*b;N++)R[N]=0;return new f(R,0)};function de(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function ge(M,b){this.g=M,this.h=b}function ze(M,b){if($(b))throw Error("division by zero");if($(M))return new ge(w,w);if(ae(M))return b=ze(Z(M),b),new ge(Z(b.g),Z(b.h));if(ae(b))return b=ze(M,Z(b)),new ge(Z(b.g),b.h);if(30<M.g.length){if(ae(M)||ae(b))throw Error("slowDivide_ only works with positive integers.");for(var R=D,N=b;0>=N.l(M);)R=be(R),N=be(N);var x=Me(R,1),V=Me(N,1);for(N=Me(N,2),R=Me(R,2);!$(N);){var I=V.add(N);0>=I.l(M)&&(x=x.add(R),V=I),N=Me(N,1),R=Me(R,1)}return b=we(M,x.j(b)),new ge(x,b)}for(x=w;0<=M.l(b);){for(R=Math.max(1,Math.floor(M.m()/b.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),V=y(R),I=V.j(b);ae(I)||0<I.l(M);)R-=N,V=y(R),I=V.j(b);$(V)&&(V=D),x=x.add(V),M=we(M,I)}return new ge(x,M)}n.A=function(M){return ze(this,M).h},n.and=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)&M.i(N);return new f(R,this.h&M.h)},n.or=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)|M.i(N);return new f(R,this.h|M.h)},n.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)^M.i(N);return new f(R,this.h^M.h)};function be(M){for(var b=M.g.length+1,R=[],N=0;N<b;N++)R[N]=M.i(N)<<1|M.i(N-1)>>>31;return new f(R,M.h)}function Me(M,b){var R=b>>5;b%=32;for(var N=M.g.length-R,x=[],V=0;V<N;V++)x[V]=0<b?M.i(V+R)>>>b|M.i(V+R+1)<<32-b:M.i(V+R);return new f(x,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,dw=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,js=f}).apply(typeof TT<"u"?TT:typeof self<"u"?self:typeof window<"u"?window:{});var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mw,Iu,gw,Qh,Ug,pw,yw,_w;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vh=="object"&&Vh];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in _))break e;_=_[P]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,S=!1,P={next:function(){if(!S&&_<c.length){var H=_++;return{value:g(H,c[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,S),c.apply(g,P)}}return function(){return c.apply(g,arguments)}}function D(c,g,_){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,D.apply(null,arguments)}function q(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function $(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,P,H){for(var ie=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ie[Ke-2]=arguments[Ke];return g.prototype[P].apply(S,ie)}}function ae(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function Z(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const P=c.length||0,H=S.length||0;c.length=P+H;for(let ie=0;ie<H;ie++)c[P+ie]=S[ie]}else c.push(S)}}class we{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function de(c){return/^[\s\xa0]*$/.test(c)}function ge(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ze(c){return ze[" "](c),c}ze[" "]=function(){};var be=ge().indexOf("Gecko")!=-1&&!(ge().toLowerCase().indexOf("webkit")!=-1&&ge().indexOf("Edge")==-1)&&!(ge().indexOf("Trident")!=-1||ge().indexOf("MSIE")!=-1)&&ge().indexOf("Edge")==-1;function Me(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function M(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function b(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let _,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(_ in S)c[_]=S[_];for(let H=0;H<R.length;H++)_=R[H],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function x(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function V(c){m.setTimeout(()=>{throw c},0)}function I(){var c=je;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Dt{constructor(){this.h=this.g=null}add(g,_){const S=mt.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var mt=new we(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,me=!1,je=new Dt,C=()=>{const c=m.Promise.resolve(void 0);se=()=>{c.then(X)}};var X=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){V(_)}var g=mt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}me=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Ve(c,g){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(be){e:{try{ze(g.nodeName);var P=!0;break e}catch{}P=!1}P||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ve.aa.h.call(this)}}$(Ve,te);var ve={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),it=0;function Wt(c,g,_,S,P){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=P,this.key=++it,this.da=this.fa=!1}function xn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ct(c){this.src=c,this.g={},this.h=0}Ct.prototype.add=function(c,g,_,S,P){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var ie=jt(c,g,S,P);return-1<ie?(g=c[ie],_||(g.fa=!1)):(g=new Wt(g,this.src,H,!!S,P),g.fa=_,c.push(g)),g};function sr(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],P=Array.prototype.indexOf.call(S,g,void 0),H;(H=0<=P)&&Array.prototype.splice.call(S,P,1),H&&(xn(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function jt(c,g,_,S){for(var P=0;P<c.length;++P){var H=c[P];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==S)return P}return-1}var ar="closure_lm_"+(1e6*Math.random()|0),ui={};function es(c,g,_,S,P){if(Array.isArray(g)){for(var H=0;H<g.length;H++)es(c,g[H],_,S,P);return null}return _=lr(_),c&&c[St]?c.K(g,_,y(S)?!!S.capture:!1,P):In(c,g,_,!1,S,P)}function In(c,g,_,S,P,H){if(!g)throw Error("Invalid event type");var ie=y(P)?!!P.capture:!!P,Ke=hi(c);if(Ke||(c[ar]=Ke=new Ct(c)),_=Ke.add(g,_,S,ie,H),_.proxy)return _;if(S=Qa(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ne||(P=ie),P===void 0&&(P=!1),c.addEventListener(g.toString(),S,P);else if(c.attachEvent)c.attachEvent(or(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qa(){function c(_){return g.call(c.src,c.listener,_)}const g=Tl;return c}function Xs(c,g,_,S,P){if(Array.isArray(g))for(var H=0;H<g.length;H++)Xs(c,g[H],_,S,P);else S=y(S)?!!S.capture:!!S,_=lr(_),c&&c[St]?(c=c.i,g=String(g).toString(),g in c.g&&(H=c.g[g],_=jt(H,_,S,P),-1<_&&(xn(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[g],c.h--)))):c&&(c=hi(c))&&(g=c.g[g.toString()],c=-1,g&&(c=jt(g,_,S,P)),(_=-1<c?g[c]:null)&&ci(_))}function ci(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[St])sr(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(or(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=hi(g))?(sr(_,c),_.h==0&&(_.src=null,g[ar]=null)):xn(c)}}}function or(c){return c in ui?ui[c]:ui[c]="on"+c}function Tl(c,g){if(c.da)c=!0;else{g=new Ve(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&ci(c),c=_.call(S,g)}return c}function hi(c){return c=c[ar],c instanceof Ct?c:null}var fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function lr(c){return typeof c=="function"?c:(c[fi]||(c[fi]=function(g){return c.handleEvent(g)}),c[fi])}function vt(){re.call(this),this.i=new Ct(this),this.M=this,this.F=null}$(vt,re),vt.prototype[St]=!0,vt.prototype.removeEventListener=function(c,g,_,S){Xs(this,c,g,_,S)};function Qe(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new te(g,c);else if(g instanceof te)g.target=g.target||c;else{var P=g;g=new te(S,c),N(g,P)}if(P=!0,_)for(var H=_.length-1;0<=H;H--){var ie=g.g=_[H];P=nn(ie,S,!0,g)&&P}if(ie=g.g=c,P=nn(ie,S,!0,g)&&P,P=nn(ie,S,!1,g)&&P,_)for(H=0;H<_.length;H++)ie=g.g=_[H],P=nn(ie,S,!1,g)&&P}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)xn(_[S]);delete c.g[g],c.h--}}this.F=null},vt.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},vt.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function nn(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var P=!0,H=0;H<g.length;++H){var ie=g[H];if(ie&&!ie.da&&ie.capture==_){var Ke=ie.listener,Ht=ie.ha||ie.src;ie.fa&&sr(c.i,ie),P=Ke.call(Ht,S)!==!1&&P}}return P&&!S.defaultPrevented}function wt(c,g,_){if(typeof c=="function")_&&(c=D(c,_));else if(c&&typeof c.handleEvent=="function")c=D(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function $s(c){c.g=wt(()=>{c.g=null,c.i&&(c.i=!1,$s(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Zs extends re{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:$s(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oi(c){re.call(this),this.h=c,this.g={}}$(Oi,re);var di=[];function kn(c){Me(c.g,function(g,_){this.g.hasOwnProperty(_)&&ci(g)},c),c.g={}}Oi.prototype.N=function(){Oi.aa.N.call(this),kn(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=m.JSON.stringify,ts=m.JSON.parse,ur=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ns(){}ns.prototype.h=null;function Js(c){return c.h||(c.h=c.i())}function ea(){}var Fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){te.call(this,"d")}$(mi,te);function ta(){te.call(this,"c")}$(ta,te);var Gn={},na=null;function Ni(){return na=na||new vt}Gn.La="serverreachability";function is(c){te.call(this,Gn.La,c)}$(is,te);function gi(c){const g=Ni();Qe(g,new is(g))}Gn.STAT_EVENT="statevent";function J(c,g){te.call(this,Gn.STAT_EVENT,c),this.stat=g}$(J,te);function oe(c){const g=Ni();Qe(g,new J(g,c))}Gn.Ma="timingevent";function Ae(c,g){te.call(this,Gn.Ma,c),this.size=g}$(Ae,te);function Ce(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Be(){this.g=!0}Be.prototype.xa=function(){this.g=!1};function Bt(c,g,_,S,P,H){c.info(function(){if(c.g)if(H)for(var ie="",Ke=H.split("&"),Ht=0;Ht<Ke.length;Ht++){var We=Ke[Ht].split("=");if(1<We.length){var $t=We[0];We=We[1];var Yt=$t.split("_");ie=2<=Yt.length&&Yt[1]=="type"?ie+($t+"="+We+"&"):ie+($t+"=redacted&")}}else ie=null;else ie=H;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+g+`
`+_+`
`+ie})}function Ka(c,g,_,S,P,H,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+g+`
`+_+`
`+H+" "+ie})}function rn(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+cr(c,_)+(S?" "+S:"")})}function Mi(c,g){c.info(function(){return"TIMEOUT: "+g})}Be.prototype.info=function(){};function cr(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var P=S[1];if(Array.isArray(P)&&!(1>P.length)){var H=P[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ie=1;ie<P.length;ie++)P[ie]=""}}}}return Vn(_)}catch{return g}}var rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xi;function ki(){}$(ki,ns),ki.prototype.g=function(){return new XMLHttpRequest},ki.prototype.i=function(){return{}},xi=new ki;function En(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new Oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}var El={},Wa={};function pi(c,g,_){c.L=1,c.v=oa(Pn(g)),c.m=_,c.P=!0,fr(c,null)}function fr(c,g){c.F=Date.now(),ia(c),c.A=Pn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Il(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Ot,c.g=Dc(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Zs(D(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var P="readystatechange";Array.isArray(P)||(P&&(di[0]=P.toString()),P=di);for(var H=0;H<P.length;H++){var ie=es(_,P[H],S||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),gi(),Bt(c.i,c.u,c.A,c.l,c.R,c.m)}En.prototype.ca=function(c){c=c.target;const g=this.M;g&&Xn(c)==3?g.j():this.Y(c)},En.prototype.Y=function(c){try{if(c==this.g)e:{const Yt=Xn(this.g);var g=this.g.Ba();const Tr=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||Tc(this.g)))){this.J||Yt!=4||g==7||(g==8||0>=Tr?gi(3):gi(2)),ss(this);var _=this.g.Z();this.X=_;t:if(dc(this)){var S=Tc(this.g);c="";var P=S.length,H=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Vi(this);var ie="";break t}this.h.i=new m.TextDecoder}for(g=0;g<P;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(H&&g==P-1)});S.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Ka(this.i,this.u,this.A,this.l,this.R,Yt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Ht=this.g;if((Ke=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!de(Ke)){var We=Ke;break t}}We=null}if(_=We)rn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ra(this,_);else{this.o=!1,this.s=3,oe(12),sn(this),Vi(this);break e}}if(this.P){_=!0;let an;for(;!this.J&&this.C<ie.length;)if(an=mc(this,ie),an==Wa){Yt==4&&(this.s=4,oe(14),_=!1),rn(this.i,this.l,null,"[Incomplete Response]");break}else if(an==El){this.s=4,oe(15),rn(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else rn(this.i,this.l,an,null),ra(this,an);if(dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||ie.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)rn(this.i,this.l,ie,"[Invalid Chunked Response]"),sn(this),Vi(this);else if(0<ie.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),ga($t),$t.M=!0,oe(11))}}else rn(this.i,this.l,ie,null),ra(this,ie);Yt==4&&sn(this),this.o&&!this.J&&(Yt==4?Ac(this.j,this):(this.o=!1,ia(this)))}else ad(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),sn(this),Vi(this)}}}catch{}finally{}};function dc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function mc(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?Wa:(_=Number(g.substring(_,S)),isNaN(_)?El:(S+=1,S+_>g.length?Wa:(g=g.slice(S,S+_),c.C=S+_,g)))}En.prototype.cancel=function(){this.J=!0,sn(this)};function ia(c){c.S=Date.now()+c.I,gc(c,c.I)}function gc(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ce(D(c.ba,c),g)}function ss(c){c.B&&(m.clearTimeout(c.B),c.B=null)}En.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Mi(this.i,this.A),this.L!=2&&(gi(),oe(17)),sn(this),this.s=2,Vi(this)):gc(this,this.S-c)};function Vi(c){c.j.G==0||c.J||Ac(c.j,c)}function sn(c){ss(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,kn(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ra(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Sl(_.h,c))){if(!c.K&&Sl(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)oo(_),so(_);else break e;Ml(_),oe(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ce(D(_.Za,_),6e3));if(1>=$a(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else vr(_,11)}else if((c.K||_.g==c)&&oo(_),!de(g))for(P=_.Da.g.parse(g),g=0;g<P.length;g++){let We=P[g];if(_.T=We[0],We=We[1],_.G==2)if(We[0]=="c"){_.K=We[1],_.ia=We[2];const $t=We[3];$t!=null&&(_.la=$t,_.j.info("VER="+_.la));const Yt=We[4];Yt!=null&&(_.Aa=Yt,_.j.info("SVER="+_.Aa));const Tr=We[5];Tr!=null&&typeof Tr=="number"&&0<Tr&&(S=1.5*Tr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const an=c.g;if(an){const Hi=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hi){var H=S.h;H.g||Hi.indexOf("spdy")==-1&&Hi.indexOf("quic")==-1&&Hi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Za(H,H.h),H.h=null))}if(S.D){const kl=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(S.ya=kl,lt(S.I,S.D,kl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ie=c;if(S.qa=Ic(S,S.J?S.ia:null,S.W),ie.K){Sn(S.h,ie);var Ke=ie,Ht=S.L;Ht&&(Ke.I=Ht),Ke.B&&(ss(Ke),ia(Ke)),S.g=ie}else wc(S);0<_.i.length&&ao(_)}else We[0]!="stop"&&We[0]!="close"||vr(_,7);else _.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?vr(_,7):Ol(_):We[0]!="noop"&&_.l&&_.l.ta(We),_.v=0)}}gi(4)}catch{}}var pc=class{constructor(c,g){this.g=c,this.map=g}};function dr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $a(c){return c.h?1:c.g?c.g.size:0}function Sl(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Za(c,g){c.g?c.g.add(g):c.h=g}function Sn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}dr.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return ae(c.i)}function nd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function Ja(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function bl(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Ja(c),S=nd(c),P=S.length,H=0;H<P;H++)g.call(void 0,S[H],_&&_[H],c)}var sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function id(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),P=null;if(0<=S){var H=c[_].substring(0,S);P=c[_].substring(S+1)}else H=c[_];g(H,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Vt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vt){this.h=c.h,aa(this,c.j),this.o=c.o,this.g=c.g,as(this,c.s),this.l=c.l;var g=c.i,_=new gr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),mr(this,_),this.m=c.m}else c&&(g=String(c).match(sa))?(this.h=!1,aa(this,g[1]||"",!0),this.o=Qn(g[2]||""),this.g=Qn(g[3]||"",!0),as(this,g[4]),this.l=Qn(g[5]||"",!0),mr(this,g[6]||"",!0),this.m=Qn(g[7]||"")):(this.h=!1,this.i=new gr(null,this.h))}Vt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(la(g,Al,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(la(g,Al,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(la(_,_.charAt(0)=="/"?rd:Rl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",la(_,eo)),c.join("")};function Pn(c){return new Vt(c)}function aa(c,g,_){c.j=_?Qn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function as(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function mr(c,g,_){g instanceof gr?(c.i=g,_c(c.i,c.h)):(_||(g=la(g,sd)),c.i=new gr(g,c.h))}function lt(c,g,_){c.i.set(g,_)}function oa(c){return lt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Qn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function la(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,yc),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Al=/[#\/\?@]/g,Rl=/[#\?:]/g,rd=/[#\?]/g,sd=/[#\?@]/g,eo=/#/g;function gr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Kn(c){c.g||(c.g=new Map,c.h=0,c.i&&id(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=gr.prototype,n.add=function(c,g){Kn(this),this.i=null,c=Pi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function pr(c,g){Kn(c),g=Pi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function yr(c,g){return Kn(c),g=Pi(c,g),c.g.has(g)}n.forEach=function(c,g){Kn(this),this.g.forEach(function(_,S){_.forEach(function(P){c.call(g,P,S,this)},this)},this)},n.na=function(){Kn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const P=c[S];for(let H=0;H<P.length;H++)_.push(g[S])}return _},n.V=function(c){Kn(this);let g=[];if(typeof c=="string")yr(this,c)&&(g=g.concat(this.g.get(Pi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Kn(this),this.i=null,c=Pi(this,c),yr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Il(c,g,_){pr(c,g),0<_.length&&(c.i=null,c.g.set(Pi(c,g),ae(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const H=encodeURIComponent(String(S)),ie=this.V(S);for(S=0;S<ie.length;S++){var P=H;ie[S]!==""&&(P+="="+encodeURIComponent(String(ie[S]))),c.push(P)}}return this.i=c.join("&")};function Pi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function _c(c,g){g&&!c.j&&(Kn(c),c.i=null,c.g.forEach(function(_,S){var P=S.toLowerCase();S!=P&&(pr(this,S),Il(this,P,_))},c)),c.j=g}function ua(c,g){const _=new Be;if(m.Image){const S=new Image;S.onload=q(Wn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=q(Wn,_,"TestLoadImage: error",!1,g,S),S.onabort=q(Wn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=q(Wn,_,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function yi(c,g){const _=new Be,S=new AbortController,P=setTimeout(()=>{S.abort(),Wn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(H=>{clearTimeout(P),H.ok?Wn(_,"TestPingServer: ok",!0,g):Wn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),Wn(_,"TestPingServer: error",!1,g)})}function Wn(c,g,_,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(_)}catch{}}function ca(){this.g=new ur}function Ui(c,g,_){const S=_||"";try{bl(c,function(P,H){let ie=P;y(P)&&(ie=Vn(P)),g.push(S+H+"="+encodeURIComponent(ie))})}catch(P){throw g.push(S+"type="+encodeURIComponent("_badmap")),P}}function os(c){this.l=c.Ub||null,this.j=c.eb||!1}$(os,ns),os.prototype.g=function(){return new _r(this.l,this.j)},os.prototype.i=function(c){return function(){return c}}({});function _r(c,g){vt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(_r,vt),n=_r.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,zi(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Li(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zi(this)),this.g&&(this.readyState=3,zi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Li(this):zi(this),this.readyState==3&&Dl(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Li(this))},n.Qa=function(c){this.g&&(this.response=c,Li(this))},n.ga=function(){this.g&&Li(this)};function Li(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zi(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function zi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cl(c){let g="";return Me(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function Xt(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Cl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):lt(c,g,_))}function rt(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(rt,vt);var to=/^https?$/i,ha=["POST","PUT"];n=rt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xi.g(),this.v=this.o?Js(this.o):Js(xi),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(H){vc(this,H);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)_.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),P=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ha,g,void 0))||S||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of _)this.g.setRequestHeader(H,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fa(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){vc(this,H)}};function vc(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,no(c),ji(c)}function no(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),ji(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?io(this):this.bb())},n.bb=function(){io(this)};function io(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Xn(c)!=4||c.Z()!=2)){if(c.u&&Xn(c)==4)wt(c.Ea,0,c);else if(Qe(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=ie===0){var P=String(c.D).match(sa)[1]||null;!P&&m.self&&m.self.location&&(P=m.self.location.protocol.slice(0,-1)),S=!to.test(P?P.toLowerCase():"")}_=S}if(_)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var H=2<Xn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",no(c)}}finally{ji(c)}}}}function ji(c,g){if(c.g){fa(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Qe(c,"ready");try{_.onreadystatechange=S}catch{}}}function fa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ts(g)}};function Tc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ad(c){const g={};c=(c.g&&2<=Xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(de(c[S]))continue;var _=x(c[S]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=g[P]||[];g[P]=H,H.push(_)}M(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function da(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function ro(c){this.Aa=0,this.i=[],this.j=new Be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=da("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=da("baseRetryDelayMs",5e3,c),this.cb=da("retryDelaySeedMs",1e4,c),this.Wa=da("forwardChannelMaxRetries",2,c),this.wa=da("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new dr(c&&c.concurrentRequestLimit),this.Da=new ca,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ro.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,S){oe(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Ic(this,null,this.W),ao(this)};function Ol(c){if(Ec(c),c.G==3){var g=c.U++,_=Pn(c.I);if(lt(_,"SID",c.K),lt(_,"RID",g),lt(_,"TYPE","terminate"),ma(c,_),g=new En(c,c.j,g),g.L=2,g.v=oa(Pn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Dc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ia(g)}Rc(c)}function so(c){c.g&&(ga(c),c.g.cancel(),c.g=null)}function Ec(c){so(c),c.u&&(m.clearTimeout(c.u),c.u=null),oo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ao(c){if(!Xa(c.h)&&!c.s){c.s=!0;var g=c.Ga;se||C(),me||(se(),me=!0),je.add(g,c),c.B=0}}function od(c,g){return $a(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ce(D(c.Ga,c,g),xl(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const P=new En(this,this.j,c);let H=this.o;if(this.S&&(H?(H=b(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(P.H=H,H=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Sc(this,P,g),_=Pn(this.I),lt(_,"RID",c),lt(_,"CVER",22),this.D&&lt(_,"X-HTTP-Session-Id",this.D),ma(this,_),H&&(this.O?g="headers="+encodeURIComponent(String(Cl(H)))+"&"+g:this.m&&Xt(_,this.m,H)),Za(this.h,P),this.Ua&&lt(_,"TYPE","init"),this.P?(lt(_,"$req",g),lt(_,"SID","null"),P.T=!0,pi(P,_,null)):pi(P,_,g),this.G=2}}else this.G==3&&(c?Nl(this,c):this.i.length==0||Xa(this.h)||Nl(this))};function Nl(c,g){var _;g?_=g.l:_=c.U++;const S=Pn(c.I);lt(S,"SID",c.K),lt(S,"RID",_),lt(S,"AID",c.T),ma(c,S),c.m&&c.o&&Xt(S,c.m,c.o),_=new En(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Sc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Za(c.h,_),pi(_,S,g)}function ma(c,g){c.H&&Me(c.H,function(_,S){lt(g,S,_)}),c.l&&bl({},function(_,S){lt(g,S,_)})}function Sc(c,g,_){_=Math.min(c.i.length,_);var S=c.l?D(c.l.Na,c.l,c):null;e:{var P=c.i;let H=-1;for(;;){const ie=["count="+_];H==-1?0<_?(H=P[0].g,ie.push("ofs="+H)):H=0:ie.push("ofs="+H);let Ke=!0;for(let Ht=0;Ht<_;Ht++){let We=P[Ht].g;const $t=P[Ht].map;if(We-=H,0>We)H=Math.max(0,P[Ht].g-100),Ke=!1;else try{Ui($t,ie,"req"+We+"_")}catch{S&&S($t)}}if(Ke){S=ie.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function wc(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;se||C(),me||(se(),me=!0),je.add(g,c),c.v=0}}function Ml(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ce(D(c.Fa,c),xl(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,bc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ce(D(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),so(this),bc(this))};function ga(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function bc(c){c.g=new En(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Pn(c.qa);lt(g,"RID","rpc"),lt(g,"SID",c.K),lt(g,"AID",c.T),lt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&lt(g,"TO",c.ja),lt(g,"TYPE","xmlhttp"),ma(c,g),c.m&&c.o&&Xt(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=oa(Pn(g)),_.m=null,_.P=!0,fr(_,c)}n.Za=function(){this.C!=null&&(this.C=null,so(this),Ml(this),oe(19))};function oo(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ac(c,g){var _=null;if(c.g==g){oo(c),ga(c),c.g=null;var S=2}else if(Sl(c.h,g))_=g.D,Sn(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var P=c.B;S=Ni(),Qe(S,new Ae(S,_)),ao(c)}else wc(c);else if(P=g.s,P==3||P==0&&0<g.X||!(S==1&&od(c,g)||S==2&&Ml(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),P){case 1:vr(c,5);break;case 4:vr(c,10);break;case 3:vr(c,6);break;default:vr(c,2)}}}function xl(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function vr(c,g){if(c.j.info("Error code "+g),g==2){var _=D(c.fb,c),S=c.Xa;const P=!S;S=new Vt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||aa(S,"https"),oa(S),P?ua(S.toString(),_):yi(S.toString(),_)}else oe(2);c.G=0,c.l&&c.l.sa(g),Rc(c),Ec(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Rc(c){if(c.G=0,c.ka=[],c.l){const g=wl(c.h);(g.length!=0||c.i.length!=0)&&(Z(c.ka,g),Z(c.ka,c.i),c.h.i.length=0,ae(c.i),c.i.length=0),c.l.ra()}}function Ic(c,g,_){var S=_ instanceof Vt?Pn(_):new Vt(_);if(S.g!="")g&&(S.g=g+"."+S.g),as(S,S.s);else{var P=m.location;S=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;var H=new Vt(null);S&&aa(H,S),g&&(H.g=g),P&&as(H,P),_&&(H.l=_),S=H}return _=c.D,g=c.ya,_&&g&&lt(S,_,g),lt(S,"VER",c.la),ma(c,S),S}function Dc(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new rt(new os({eb:_})):new rt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cc(){}n=Cc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function lo(){}lo.prototype.g=function(c,g){return new wn(c,g)};function wn(c,g){vt.call(this),this.g=new ro(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!de(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!de(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Bi(this)}$(wn,vt),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Ol(this.g)},wn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Vn(c),c=_);g.i.push(new pc(g.Ya++,c)),g.G==3&&ao(g)},wn.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,wn.aa.N.call(this)};function Oc(c){mi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}$(Oc,mi);function Nc(){ta.call(this),this.status=1}$(Nc,ta);function Bi(c){this.g=c}$(Bi,Cc),Bi.prototype.ua=function(){Qe(this.g,"a")},Bi.prototype.ta=function(c){Qe(this.g,new Oc(c))},Bi.prototype.sa=function(c){Qe(this.g,new Nc)},Bi.prototype.ra=function(){Qe(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,_w=function(){return new lo},yw=function(){return Ni()},pw=Gn,Ug={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,Qh=rs,hr.COMPLETE="complete",gw=hr,ea.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Iu=ea,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,mw=rt}).apply(typeof Vh<"u"?Vh:typeof self<"u"?self:typeof window<"u"?window:{});const ET="@firebase/firestore",ST="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new bp("@firebase/firestore");function jo(){return ja.logLevel}function ue(n,...e){if(ja.logLevel<=qe.DEBUG){const t=e.map(Lp);ja.debug(`Firestore (${gl}): ${n}`,...t)}}function Qr(n,...e){if(ja.logLevel<=qe.ERROR){const t=e.map(Lp);ja.error(`Firestore (${gl}): ${n}`,...t)}}function tl(n,...e){if(ja.logLevel<=qe.WARN){const t=e.map(Lp);ja.warn(`Firestore (${gl}): ${n}`,...t)}}function Lp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,vw(n,s,t)}function vw(n,e,t){let s=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Qr(s),new Error(s)}function st(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||vw(e,o,s)}function Ne(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends $r{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class UM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class LM{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Bs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Bs,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Bs)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string",31837,{l:s}),new Tw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class zM{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jM{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new zM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){st(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(st(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new wT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=HM(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ue(n,e){return n<e?-1:n>e?1:0}function Lg(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ue(s,o);{const u=Ew(),f=YM(u.encode(bT(n,t)),u.encode(bT(e,t)));return f!==0?f:Ue(s,o)}}t+=s>65535?2:1}return Ue(n.length,e.length)}function bT(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function YM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ue(n[t],e[t]);return Ue(n.length,e.length)}function nl(n,e,t){return n.length===e.length&&n.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=-62135596800,RT=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*RT);return new Qt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<AT)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RT}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-AT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Qt(0,0))}static max(){return new Oe(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="__name__";class Ki{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ie(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ki.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ki?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Ki.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ue(e.length,t.length)}static compareSegments(e,t){const s=Ki.isNumericId(e),o=Ki.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ki.extractNumericId(e).compare(Ki.extractNumericId(t)):Lg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return js.fromString(e.substring(4,e.length-2))}}class pt extends Ki{construct(e,t,s){return new pt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new pt(t)}static emptyPath(){return new pt([])}}const qM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Ki{construct(e,t,s){return new hn(e,t,s)}static isValidIdentifier(e){return qM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IT}static keyField(){return new hn([IT])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(t)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(pt.fromString(e))}static fromName(e){return new Te(pt.fromString(e).popFirst(5))}static empty(){return new Te(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=-1;function FM(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(s===1e9?new Qt(t+1,0):new Qt(t,s));return new qs(o,Te.empty(),e)}function GM(n){return new qs(n.readTime,n.key,Fu)}class qs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new qs(Oe.min(),Te.empty(),Fu)}static max(){return new qs(Oe.max(),Te.empty(),Fu)}}function QM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==KM)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,s)=>{t(e)})}static reject(e){return new K((t,s)=>{s(e)})}static waitFor(e){return new K((t,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&t()},p=>s(p))}),f=!0,u===o&&t()})}static or(e){let t=K.resolve(!1);for(const s of e)t=t.next(o=>o?K.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new K((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;t(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,t){return new K((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function XM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function yl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Bf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function Hf(n){return n==null}function mf(n){return n===0&&1/n==-1/0}function $M(n){return typeof n=="number"&&Number.isInteger(n)&&!mf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="";function ZM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DT(e)),e=JM(n.get(t),e);return DT(e)}function JM(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const u=n.charAt(o);switch(u){case"\0":t+="";break;case ww:t+="";break;default:t+=u}}return t}function DT(n){return n+ww+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ya(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function bw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??cn.RED,this.left=o??cn.EMPTY,this.right=u??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new cn(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new OT(this.data.getIterator())}getIteratorFrom(e){return new OT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class OT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new wi([])}unionWith(e){let t=new Kt(hn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new wi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Aw("Invalid base64 string: "+u):u}}(e);return new dn(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const ex=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(n){if(st(!!n,39018),typeof n=="string"){let e=0;const t=ex.exec(n);if(st(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:kt(n.seconds),nanos:kt(n.nanos)}}function kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gs(n){return typeof n=="string"?dn.fromBase64String(n):dn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="server_timestamp",Iw="__type__",Dw="__previous_value__",Cw="__local_write_time__";function jp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Iw])===null||t===void 0?void 0:t.stringValue)===Rw}function Yf(n){const e=n.mapValue.fields[Dw];return jp(e)?Yf(e):e}function Gu(n){const e=Fs(n.mapValue.fields[Cw].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const gf="(default)";class Qu{constructor(e,t){this.projectId=e,this.database=t||gf}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===gf}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="__type__",nx="__max__",Uh={mapValue:{}},Nw="__vector__",pf="value";function Qs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jp(n)?4:rx(n)?9007199254740991:ix(n)?10:11:Ie(28295,{value:n})}function tr(n,e){if(n===e)return!0;const t=Qs(n);if(t!==Qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gu(n).isEqual(Gu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Fs(o.timestampValue),m=Fs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,u){return Gs(o.bytesValue).isEqual(Gs(u.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,u){return kt(o.geoPointValue.latitude)===kt(u.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(u.geoPointValue.longitude)}(n,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return kt(o.integerValue)===kt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=kt(o.doubleValue),m=kt(u.doubleValue);return f===m?mf(f)===mf(m):isNaN(f)&&isNaN(m)}return!1}(n,e);case 9:return nl(n.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(CT(f)!==CT(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!tr(f[p],m[p])))return!1;return!0}(n,e);default:return Ie(52216,{left:n})}}function Ku(n,e){return(n.values||[]).find(t=>tr(t,e))!==void 0}function il(n,e){if(n===e)return 0;const t=Qs(n),s=Qs(e);if(t!==s)return Ue(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(u,f){const m=kt(u.integerValue||u.doubleValue),p=kt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(n,e);case 3:return NT(n.timestampValue,e.timestampValue);case 4:return NT(Gu(n),Gu(e));case 5:return Lg(n.stringValue,e.stringValue);case 6:return function(u,f){const m=Gs(u),p=Gs(f);return m.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ue(m[y],p[y]);if(E!==0)return E}return Ue(m.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ue(kt(u.latitude),kt(f.latitude));return m!==0?m:Ue(kt(u.longitude),kt(f.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return MT(n.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const w=u.fields||{},D=f.fields||{},q=(m=w[pf])===null||m===void 0?void 0:m.arrayValue,$=(p=D[pf])===null||p===void 0?void 0:p.arrayValue,ae=Ue(((y=q==null?void 0:q.values)===null||y===void 0?void 0:y.length)||0,((E=$==null?void 0:$.values)===null||E===void 0?void 0:E.length)||0);return ae!==0?ae:MT(q,$)}(n.mapValue,e.mapValue);case 11:return function(u,f){if(u===Uh.mapValue&&f===Uh.mapValue)return 0;if(u===Uh.mapValue)return 1;if(f===Uh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const D=Lg(p[w],E[w]);if(D!==0)return D;const q=il(m[p[w]],y[E[w]]);if(q!==0)return q}return Ue(p.length,E.length)}(n.mapValue,e.mapValue);default:throw Ie(23264,{Pe:t})}}function NT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Fs(n),s=Fs(e),o=Ue(t.seconds,s.seconds);return o!==0?o:Ue(t.nanos,s.nanos)}function MT(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=il(t[o],s[o]);if(u)return u}return Ue(t.length,s.length)}function rl(n){return zg(n)}function zg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Fs(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Gs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=zg(u);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${zg(t.fields[f])}`;return o+"}"}(n.mapValue):Ie(61005,{value:n})}function Kh(n){switch(Qs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yf(n);return e?16+Kh(e):16;case 5:return 2*n.stringValue.length;case 6:return Gs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Kh(u),0)}(n.arrayValue);case 10:case 11:return function(s){let o=0;return Ya(s.fields,(u,f)=>{o+=u.length+Kh(f)}),o}(n.mapValue);default:throw Ie(13486,{value:n})}}function xT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jg(n){return!!n&&"integerValue"in n}function Bp(n){return!!n&&"arrayValue"in n}function kT(n){return!!n&&"nullValue"in n}function VT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wh(n){return!!n&&"mapValue"in n}function ix(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ow])===null||t===void 0?void 0:t.stringValue)===Nw}function ku(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ya(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ku(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ku(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.value=e}static empty(){return new si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Wh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ku(t)}setAll(e){let t=hn.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=ku(f):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Wh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ya(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new si(ku(this.value))}}function Mw(n){const e=[];return Ya(n.fields,(t,s)=>{const o=new hn([t]);if(Wh(s)){const u=Mw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new wi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new _n(e,0,Oe.min(),Oe.min(),Oe.min(),si.empty(),0)}static newFoundDocument(e,t,s,o){return new _n(e,1,t,Oe.min(),s,o,0)}static newNoDocument(e,t){return new _n(e,2,t,Oe.min(),Oe.min(),si.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Oe.min(),Oe.min(),si.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.position=e,this.inclusive=t}}function PT(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const u=e[o],f=n.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(f.referenceValue),t.key):s=il(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function UT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!tr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t="asc"){this.field=e,this.dir=t}}function sx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{}class zt extends xw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new ox(e,t,s):t==="array-contains"?new cx(e,s):t==="in"?new hx(e,s):t==="not-in"?new fx(e,s):t==="array-contains-any"?new dx(e,s):new zt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new lx(e,s):new ux(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(il(t,this.value)):t!==null&&Qs(this.value)===Qs(t)&&this.matchesComparison(il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends xw{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Di(e,t)}matches(e){return kw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function kw(n){return n.op==="and"}function Vw(n){return ax(n)&&kw(n)}function ax(n){for(const e of n.filters)if(e instanceof Di)return!1;return!0}function Bg(n){if(n instanceof zt)return n.field.canonicalString()+n.op.toString()+rl(n.value);if(Vw(n))return n.filters.map(e=>Bg(e)).join(",");{const e=n.filters.map(t=>Bg(t)).join(",");return`${n.op}(${e})`}}function Pw(n,e){return n instanceof zt?function(s,o){return o instanceof zt&&s.op===o.op&&s.field.isEqual(o.field)&&tr(s.value,o.value)}(n,e):n instanceof Di?function(s,o){return o instanceof Di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&Pw(f,o.filters[m]),!0):!1}(n,e):void Ie(19439)}function Uw(n){return n instanceof zt?function(t){return`${t.field.canonicalString()} ${t.op} ${rl(t.value)}`}(n):n instanceof Di?function(t){return t.op.toString()+" {"+t.getFilters().map(Uw).join(" ,")+"}"}(n):"Filter"}class ox extends zt{constructor(e,t,s){super(e,t,s),this.key=Te.fromName(s.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class lx extends zt{constructor(e,t){super(e,"in",t),this.keys=Lw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ux extends zt{constructor(e,t){super(e,"not-in",t),this.keys=Lw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Lw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Te.fromName(s.referenceValue))}class cx extends zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bp(t)&&Ku(t.arrayValue,this.value)}}class hx extends zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ku(this.value.arrayValue,t)}}class fx extends zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ku(this.value.arrayValue,t)}}class dx extends zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ku(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function LT(n,e=null,t=[],s=[],o=null,u=null,f=null){return new mx(n,e,t,s,o,u,f)}function Hp(n){const e=Ne(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Bg(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Hf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>rl(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>rl(s)).join(",")),e.Ie=t}return e.Ie}function Yp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Pw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!UT(n.startAt,e.startAt)&&UT(n.endAt,e.endAt)}function Hg(n){return Te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function gx(n,e,t,s,o,u,f,m){return new lc(n,e,t,s,o,u,f,m)}function qf(n){return new lc(n)}function zT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zw(n){return n.collectionGroup!==null}function Vu(n){const e=Ne(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Kt(hn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new _f(u,s))}),t.has(hn.keyField().canonicalString())||e.Ee.push(new _f(hn.keyField(),s))}return e.Ee}function $i(n){const e=Ne(n);return e.de||(e.de=px(e,Vu(n))),e.de}function px(n,e){if(n.limitType==="F")return LT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new _f(o.field,u)});const t=n.endAt?new yf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new yf(n.startAt.position,n.startAt.inclusive):null;return LT(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Yg(n,e){const t=n.filters.concat([e]);return new lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qg(n,e,t){return new lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ff(n,e){return Yp($i(n),$i(e))&&n.limitType===e.limitType}function jw(n){return`${Hp($i(n))}|lt:${n.limitType}`}function Bo(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Uw(o)).join(", ")}]`),Hf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>rl(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>rl(o)).join(",")),`Target(${s})`}($i(n))}; limitType=${n.limitType})`}function Gf(n,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(n,e)&&function(s,o){for(const u of Vu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(n,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=PT(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Vu(s),o)||s.endAt&&!function(f,m,p){const y=PT(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Vu(s),o))}(n,e)}function yx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Bw(n){return(e,t)=>{let s=!1;for(const o of Vu(n)){const u=_x(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function _x(n,e,t){const s=n.field.isKeyField()?Te.comparator(e.key,t.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?il(p,y):Ie(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return bw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new At(Te.comparator);function Kr(){return vx}const Hw=new At(Te.comparator);function Du(...n){let e=Hw;for(const t of n)e=e.insert(t.key,t);return e}function Yw(n){let e=Hw;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Va(){return Pu()}function qw(){return Pu()}function Pu(){return new qa(n=>n.toString(),(n,e)=>n.isEqual(e))}const Tx=new At(Te.comparator),Ex=new Kt(Te.comparator);function Fe(...n){let e=Ex;for(const t of n)e=e.add(t);return e}const Sx=new Kt(Ue);function wx(){return Sx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(e)?"-0":e}}function Fw(n){return{integerValue:""+n}}function bx(n,e){return $M(e)?Fw(e):qp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this._=void 0}}function Ax(n,e,t){return n instanceof Wu?function(o,u){const f={fields:{[Iw]:{stringValue:Rw},[Cw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&jp(u)&&(u=Yf(u)),u&&(f.fields[Dw]=u),{mapValue:f}}(t,e):n instanceof Xu?Qw(n,e):n instanceof $u?Kw(n,e):function(o,u){const f=Gw(o,u),m=jT(f)+jT(o.Re);return jg(f)&&jg(o.Re)?Fw(m):qp(o.serializer,m)}(n,e)}function Rx(n,e,t){return n instanceof Xu?Qw(n,e):n instanceof $u?Kw(n,e):t}function Gw(n,e){return n instanceof vf?function(s){return jg(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Wu extends Qf{}class Xu extends Qf{constructor(e){super(),this.elements=e}}function Qw(n,e){const t=Ww(e);for(const s of n.elements)t.some(o=>tr(o,s))||t.push(s);return{arrayValue:{values:t}}}class $u extends Qf{constructor(e){super(),this.elements=e}}function Kw(n,e){let t=Ww(e);for(const s of n.elements)t=t.filter(o=>!tr(o,s));return{arrayValue:{values:t}}}class vf extends Qf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function jT(n){return kt(n.integerValue||n.doubleValue)}function Ww(n){return Bp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,t){this.field=e,this.transform=t}}function Dx(n,e){return n.field.isEqual(e.field)&&function(s,o){return s instanceof Xu&&o instanceof Xu||s instanceof $u&&o instanceof $u?nl(s.elements,o.elements,tr):s instanceof vf&&o instanceof vf?tr(s.Re,o.Re):s instanceof Wu&&o instanceof Wu}(n.transform,e.transform)}class Cx{constructor(e,t){this.version=e,this.transformResults=t}}class Yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Kf{}function Xw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Zw(n.key,Yr.none()):new uc(n.key,n.data,Yr.none());{const t=n.data,s=si.empty();let o=new Kt(hn.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Fa(n.key,s,new wi(o.toArray()),Yr.none())}}function Ox(n,e,t){n instanceof uc?function(o,u,f){const m=o.value.clone(),p=HT(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Fa?function(o,u,f){if(!Xh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=HT(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll($w(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(n,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function Uu(n,e,t,s){return n instanceof uc?function(u,f,m,p){if(!Xh(u.precondition,f))return m;const y=u.value.clone(),E=YT(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(n,e,t,s):n instanceof Fa?function(u,f,m,p){if(!Xh(u.precondition,f))return m;const y=YT(u.fieldTransforms,p,f),E=f.data;return E.setAll($w(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(n,e,t,s):function(u,f,m){return Xh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(n,e,t)}function Nx(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),u=Gw(s.transform,o||null);u!=null&&(t===null&&(t=si.empty()),t.set(s.field,u))}return t||null}function BT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&nl(s,o,(u,f)=>Dx(u,f))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class uc extends Kf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fa extends Kf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $w(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function HT(n,e,t){const s=new Map;st(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const u=n[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Rx(f,m,t[o]))}return s}function YT(n,e,t){const s=new Map;for(const o of n){const u=o.transform,f=t.data.field(o.field);s.set(o.field,Ax(u,f,e))}return s}class Zw extends Kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mx extends Kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Ox(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Uu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Uu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=qw();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const p=Xw(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Oe.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(t,s)=>BT(t,s))&&nl(this.baseMutations,e.baseMutations,(t,s)=>BT(t,s))}}class Fp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){st(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return Tx}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Fp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,$e;function Px(n){switch(n){case W.OK:return Ie(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function Jw(n){if(n===void 0)return Qr("GRPC error has no .code"),W.UNKNOWN;switch(n){case Lt.OK:return W.OK;case Lt.CANCELLED:return W.CANCELLED;case Lt.UNKNOWN:return W.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return W.INTERNAL;case Lt.UNAVAILABLE:return W.UNAVAILABLE;case Lt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Lt.NOT_FOUND:return W.NOT_FOUND;case Lt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Lt.ABORTED:return W.ABORTED;case Lt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Lt.DATA_LOSS:return W.DATA_LOSS;default:return Ie(39323,{code:n})}}($e=Lt||(Lt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new js([4294967295,4294967295],0);function qT(n){const e=Ew().encode(n),t=new dw;return t.update(e),new Uint8Array(t.digest())}function FT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new js([t,s],0),new js([o,u],0)]}class Gp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Cu(`Invalid padding: ${t}`);if(s<0)throw new Cu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=js.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply(js.fromNumber(s)));return o.compare(Ux)===1&&(o=new js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=qT(e),[s,o]=FT(t);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Gp(u,o,t);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const t=qT(e),[s,o]=FT(t);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Wf(Oe.min(),o,new At(Ue),Kr(),Fe())}}class cc{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new cc(s,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class eb{constructor(e,t){this.targetId=e,this.Ce=t}}class tb{constructor(e,t,s=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class GT{constructor(){this.Fe=0,this.Me=QT(),this.xe=dn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Fe(),t=Fe(),s=Fe();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ie(38017,{changeType:u})}}),new cc(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=QT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,st(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Lx{constructor(e){this.ze=e,this.je=new Map,this.He=Kr(),this.Je=Lh(),this.Ye=Lh(),this.Ze=new At(Ue)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const u=o.target;if(Hg(u))if(s===0){const f=new Te(u.path);this.tt(t,f,_n.newNoDocument(f,Oe.min()))}else st(s===1,20013,{expectedCount:s});else{const f=this.ut(t);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,y)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=Gs(s).toUint8Array()}catch(p){if(p instanceof Aw)return tl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Gp(f,o,u)}catch(p){return tl(p instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(t,u,null),o++)}),o}It(e){const t=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Hg(m.target)){const p=new Te(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,_n.newNoDocument(p,e))}u.Le&&(t.set(f,u.qe()),u.Qe())}});let s=Fe();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Wf(e,t,this.Ze,this.He,s);return this.He=Kr(),this.Je=Lh(),this.Ye=Lh(),this.Ze=new At(Ue),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new GT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Kt(Ue),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Kt(Ue),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new GT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Lh(){return new At(Te.comparator)}function QT(){return new At(Te.comparator)}const zx={asc:"ASCENDING",desc:"DESCENDING"},jx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bx={and:"AND",or:"OR"};class Hx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fg(n,e){return n.useProto3Json||Hf(e)?e:{value:e}}function Tf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Yx(n,e){return Tf(n,e.toTimestamp())}function Zi(n){return st(!!n,49232),Oe.fromTimestamp(function(t){const s=Fs(t);return new Qt(s.seconds,s.nanos)}(n))}function Qp(n,e){return Gg(n,e).canonicalString()}function Gg(n,e){const t=function(o){return new pt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ib(n){const e=pt.fromString(n);return st(lb(e),10190,{key:e.toString()}),e}function Qg(n,e){return Qp(n.databaseId,e.path)}function gg(n,e){const t=ib(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Te(sb(t))}function rb(n,e){return Qp(n.databaseId,e)}function qx(n){const e=ib(n);return e.length===4?pt.emptyPath():sb(e)}function Kg(n){return new pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sb(n){return st(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function KT(n,e,t){return{name:Qg(n,e),fields:t.value.mapValue.fields}}function Fx(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ie(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(st(E===void 0||typeof E=="string",58123),dn.fromBase64String(E||"")):(st(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),dn.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?W.UNKNOWN:Jw(y.code);return new fe(E,y.message||"")}(f);t=new tb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gg(n,s.document.name),u=Zi(s.document.updateTime),f=s.document.createTime?Zi(s.document.createTime):Oe.min(),m=new si({mapValue:{fields:s.document.fields}}),p=_n.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];t=new $h(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gg(n,s.document),u=s.readTime?Zi(s.readTime):Oe.min(),f=_n.newNoDocument(o,u),m=s.removedTargetIds||[];t=new $h([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gg(n,s.document),u=s.removedTargetIds||[];t=new $h([],u,o,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Vx(o,u),m=s.targetId;t=new eb(m,f)}}return t}function Gx(n,e){let t;if(e instanceof uc)t={update:KT(n,e.key,e.value)};else if(e instanceof Zw)t={delete:Qg(n,e.key)};else if(e instanceof Fa)t={update:KT(n,e.key,e.data),updateMask:tk(e.fieldMask)};else{if(!(e instanceof Mx))return Ie(16599,{ft:e.type});t={verify:Qg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Wu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Xu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $u)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vf)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Ie(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Yx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie(27497)}(n,e.precondition)),t}function Qx(n,e){return n&&n.length>0?(st(e!==void 0,14353),n.map(t=>function(o,u){let f=o.updateTime?Zi(o.updateTime):Zi(u);return f.isEqual(Oe.min())&&(f=Zi(u)),new Cx(f,o.transformResults||[])}(t,e))):[]}function Kx(n,e){return{documents:[rb(n,e.path)]}}function Wx(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=rb(n,o);const u=function(y){if(y.length!==0)return ob(Di.create(y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(D){return{field:Ho(D.field),direction:Zx(D.dir)}}(E))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=Fg(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:t,parent:o}}function Xx(n){let e=qx(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){st(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(w){const D=ab(w);return D instanceof Di&&Vw(D)?D.getFilters():[D]}(t.where));let f=[];t.orderBy&&(f=function(w){return w.map(D=>function($){return new _f(Yo($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(D))}(t.orderBy));let m=null;t.limit&&(m=function(w){let D;return D=typeof w=="object"?w.value:w,Hf(D)?null:D}(t.limit));let p=null;t.startAt&&(p=function(w){const D=!!w.before,q=w.values||[];return new yf(q,D)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const D=!w.before,q=w.values||[];return new yf(q,D)}(t.endAt)),gx(e,o,f,u,m,"F",p,y)}function $x(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ab(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Yo(t.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Yo(t.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Yo(t.unaryFilter.field);return zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Yo(t.unaryFilter.field);return zt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(n):n.fieldFilter!==void 0?function(t){return zt.create(Yo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Di.create(t.compositeFilter.filters.map(s=>ab(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(t.compositeFilter.op))}(n):Ie(30097,{filter:n})}function Zx(n){return zx[n]}function Jx(n){return jx[n]}function ek(n){return Bx[n]}function Ho(n){return{fieldPath:n.canonicalString()}}function Yo(n){return hn.fromServerFormat(n.fieldPath)}function ob(n){return n instanceof zt?function(t){if(t.op==="=="){if(VT(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(kT(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(VT(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(kT(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:Jx(t.op),value:t.value}}}(n):n instanceof Di?function(t){const s=t.getFilters().map(o=>ob(o));return s.length===1?s[0]:{compositeFilter:{op:ek(t.op),filters:s}}}(n):Ie(54877,{filter:n})}function tk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t,s,o,u=Oe.min(),f=Oe.min(),m=dn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.wt=e}}function ik(n){const e=Xx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.Cn=new sk}addToCollectionParentIndex(e,t){return this.Cn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(qs.min())}updateCollectionGroup(e,t,s){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class sk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Kt(pt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Kt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ub=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(ub,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new sl(0)}static lr(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="LruGarbageCollector",ak=1048576;function $T([n,e],[t,s]){const o=Ue(n,t);return o===0?Ue(e,s):o}class ok{constructor(e){this.Er=e,this.buffer=new Kt($T),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();$T(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lk{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ue(XT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){yl(t)?ue(XT,"Ignoring IndexedDB error during garbage collection: ",t):await pl(t)}await this.mr(3e5)})}}class uk{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return K.resolve(Bf.le);const s=new ok(t);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(WT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WT):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,t))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),jo()<=qe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function ck(n,e){return new uk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.changes=new qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?K.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Uu(s.mutation,o,wi.empty(),Qt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Fe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Fe()){const o=Va();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let f=Du();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=Va();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Fe()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{t.set(f,m)})})}computeViews(e,t,s,o){let u=Kr();const f=Pu(),m=function(){return Pu()}();return t.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Fa)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Uu(E.mutation,y,E.mutation.getFieldMask(),Qt.now())):f.set(y.key,wi.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),t.forEach((y,E)=>{var w;return m.set(y,new fk(E,(w=f.get(y))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Pu();let o=new At((f,m)=>f-m),u=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let E=s.get(p)||wi.empty();E=m.applyToLocalView(y,E),s.set(p,E);const w=(o.get(m.batchId)||Fe()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,w=qw();E.forEach(D=>{if(!u.has(D)){const q=Xw(t.get(D),s.get(D));q!==null&&w.set(D,q),u=u.add(D)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return K.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return Te.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):K.resolve(Va());let m=Fu,p=u;return f.next(y=>K.forEach(y,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?K.resolve():this.remoteDocumentCache.getEntry(e,E).next(D=>{p=p.insert(E,D)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Fe())).next(E=>({batchId:m,changes:Yw(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(s=>{let o=Du();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=Du();return this.indexManager.getCollectionParents(e,u).next(m=>K.forEach(m,p=>{const y=function(w,D){return new lc(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((w,D)=>{f=f.insert(w,D)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,_n.newInvalidDocument(E)))});let m=Du();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Uu(E.mutation,y,wi.empty(),Qt.now()),Gf(t,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return K.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Zi(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:ik(o.bundledQuery),readTime:Zi(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.overlays=new At(Te.comparator),this.Qr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Va();return K.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),K.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),K.resolve()}getOverlaysForCollection(e,t,s){const o=Va(),u=t.length+1,f=new Te(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new At((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Va(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Va(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return K.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new kx(t,s));let u=this.Qr.get(t);u===void 0&&(u=Fe(),this.Qr.set(t,u)),this.Qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(){this.$r=new Kt(tn.Ur),this.Kr=new Kt(tn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new tn(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new tn(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new Te(new pt([])),s=new tn(t,e),o=new tn(t,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Te(new pt([])),s=new tn(t,e),o=new tn(t,e+1);let u=Fe();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new tn(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class tn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Te.comparator(e.key,t.key)||Ue(e.Zr,t.Zr)}static Wr(e,t){return Ue(e.Zr,t.Zr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Kt(tn.Ur)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new xx(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new tn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return K.resolve(f)}lookupMutationBatch(e,t){return K.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ti(s),u=o<0?0:o;return K.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?zp:this.nr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new tn(t,0),o=new tn(t,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),K.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Kt(Ue);return t.forEach(o=>{const u=new tn(o,0),f=new tn(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),K.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const f=new tn(new Te(u),0);let m=new Kt(Ue);return this.Xr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Zr)),!0)},f),K.resolve(this.ni(m))}ni(e){const t=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){st(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return K.forEach(t.mutations,o=>{const u=new tn(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new tn(t,0),o=this.Xr.firstAfterOrEqual(s);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.ii=e,this.docs=function(){return new At(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return K.resolve(s?s.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let s=Kr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Kr();const f=t.path,m=new Te(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||QM(GM(E),s)<=0||(o.has(E.key)||Gf(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return K.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ie(9500)}si(e,t){return K.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new vk(this)}getSize(e){return K.resolve(this.size)}}class vk extends hk{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),K.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.persistence=e,this.oi=new qa(t=>Hp(t),Yp),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this._i=0,this.ai=new Kp,this.targetCount=0,this.ui=sl.cr()}forEachTarget(e,t){return this.oi.forEach((s,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),K.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new sl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Tr(t),K.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),K.waitFor(u).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return K.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),K.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),K.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return K.resolve(s)}containsKey(e,t){return K.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t){this.ci={},this.overlays={},this.li=new Bf(0),this.hi=!1,this.hi=!0,this.Pi=new pk,this.referenceDelegate=e(this),this.Ti=new Tk(this),this.indexManager=new rk,this.remoteDocumentCache=function(o){return new _k(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new nk(t),this.Ei=new mk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new yk(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new Ek(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,t){return K.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class Ek extends WM{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Vi=new Kp,this.mi=null}static fi(e){return new Wp(e)}get gi(){if(this.mi)return this.mi;throw Ie(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),K.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.gi,s=>{const o=Te.fromPath(s);return this.pi(e,o).next(u=>{u||t.removeEntry(o,Oe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return K.or([()=>K.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Ef{constructor(e,t){this.persistence=e,this.yi=new qa(s=>ZM(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=ck(this,t)}static fi(e,t){return new Ef(e,t)}di(){}Ai(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}br(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return K.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?K.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,t).next(m=>{m||(s++,u.removeEntry(f,Oe.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),K.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kh(e.data.value)),t}Dr(e,t,s){return K.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ds=s,this.As=o}static Rs(e,t){let s=Fe(),o=Fe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return $C()?8:XM(Tn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ws(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(e,t,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new Sk;return this.Ss(e,t,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,t,f,m.size)})}).next(()=>u.result)}Ds(e,t,s,o){return s.documentReadCount<this.gs?(jo()<=qe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),K.resolve()):(jo()<=qe.DEBUG&&ue("QueryEngine","Query:",Bo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(jo()<=qe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(t))):K.resolve())}ws(e,t){if(zT(t))return K.resolve(null);let s=$i(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=qg(t,null,"F"),s=$i(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Fe(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.vs(t,m);return this.Cs(t,y,f,p.readTime)?this.ws(e,qg(t,null,"F")):this.Fs(e,y,t,p)}))})))}bs(e,t,s,o){return zT(t)||o.isEqual(Oe.min())?K.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(t,u);return this.Cs(t,f,s,o)?K.resolve(null):(jo()<=qe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bo(t)),this.Fs(e,f,t,FM(o,Fu)).next(m=>m))})}vs(e,t){let s=new Kt(Bw(e));return t.forEach((o,u)=>{Gf(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return jo()<=qe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.ys.getDocumentsMatchingQuery(e,t,qs.min(),s)}Fs(e,t,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="LocalStore",bk=3e8;class Ak{constructor(e,t,s,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new At(Ue),this.Os=new qa(u=>Hp(u),Yp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dk(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function Rk(n,e,t,s){return new Ak(n,e,t,s)}async function hb(n,e){const t=Ne(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Fe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(y=>({ks:y,removedBatchIds:f,addedBatchIds:m}))})})}function Ik(n,e){const t=Ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const w=y.batch,D=w.keys();let q=K.resolve();return D.forEach($=>{q=q.next(()=>E.getEntry(p,$)).next(ae=>{const Z=y.docVersions.get($);st(Z!==null,48541),ae.version.compareTo(Z)<0&&(w.applyToRemoteDocument(ae,y),ae.isValidDocument()&&(ae.setReadTime(y.commitVersion),E.addEntry(ae)))})}),q.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Fe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function fb(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function Dk(n,e){const t=Ne(n),s=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const m=[];e.targetChanges.forEach((E,w)=>{const D=o.get(w);if(!D)return;m.push(t.Ti.removeMatchingKeys(u,E.removedDocuments,w).next(()=>t.Ti.addMatchingKeys(u,E.addedDocuments,w)));let q=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?q=q.withResumeToken(dn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,s)),o=o.insert(w,q),function(ae,Z,we){return ae.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=bk?!0:we.addedDocuments.size+we.modifiedDocuments.size+we.removedDocuments.size>0}(D,q,E)&&m.push(t.Ti.updateTargetData(u,q))});let p=Kr(),y=Fe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(Ck(u,f,e.documentUpdates).next(E=>{p=E.qs,y=E.Qs})),!s.isEqual(Oe.min())){const E=t.Ti.getLastRemoteSnapshotVersion(u).next(w=>t.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return K.waitFor(m).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(t.xs=o,u))}function Ck(n,e,t){let s=Fe(),o=Fe();return t.forEach(u=>s=s.add(u)),e.getEntries(n,s).next(u=>{let f=Kr();return t.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue($p,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function Ok(n,e){const t=Ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=zp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Nk(n,e){const t=Ne(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Ti.getTargetData(s,e).next(u=>u?(o=u,K.resolve(o)):t.Ti.allocateTargetId(s).next(f=>(o=new Vs(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function Wg(n,e,t){const s=Ne(n),o=s.xs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!yl(f))throw f;ue($p,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function ZT(n,e,t){const s=Ne(n);let o=Oe.min(),u=Fe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const w=Ne(p),D=w.Os.get(E);return D!==void 0?K.resolve(w.xs.get(D)):w.Ti.getTargetData(y,E)}(s,f,$i(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,t?o:Oe.min(),t?u:Fe())).next(m=>(Mk(s,yx(e),m),{documents:m,$s:u})))}function Mk(n,e,t){let s=n.Ns.get(e)||Oe.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),n.Ns.set(e,s)}class JT{constructor(){this.activeTargetIds=wx()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xk{constructor(){this.xo=new JT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new JT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="ConnectivityMonitor";class tE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ue(eE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ue(eE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh=null;function Xg(){return zh===null?zh=function(){return 268435456+Math.round(2147483648*Math.random())}():zh++,"0x"+zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="RestConnection",Vk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pk{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===gf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,t,s,o,u){const f=Xg(),m=this.jo(e,t.toUriEncodedString());ue(pg,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:y}=new URL(m),E=hl(y);return this.Jo(e,m,p,s,E).then(w=>(ue(pg,`Received RPC '${e}' ${f}: `,w),w),w=>{throw tl(pg,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Yo(e,t,s,o,u,f){return this.zo(e,t,s,o,u)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,t){const s=Vk[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class Lk extends Pk{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const f=Xg();return new Promise((m,p)=>{const y=new mw;y.setWithCredentials(!0),y.listenOnce(gw.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Qh.NO_ERROR:const w=y.getResponseJson();ue(pn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Qh.TIMEOUT:ue(pn,`RPC '${e}' ${f} timed out`),p(new fe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const D=y.getStatus();if(ue(pn,`RPC '${e}' ${f} failed with status:`,D,"response text:",y.getResponseText()),D>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const $=q==null?void 0:q.error;if($&&$.status&&$.message){const ae=function(we){const de=we.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(de)>=0?de:W.UNKNOWN}($.status);p(new fe(ae,$.message))}else p(new fe(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new fe(W.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{h_:e,streamId:f,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{ue(pn,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ue(pn,`RPC '${e}' ${f} sending request:`,o),y.send(t,"POST",E,s,15)})}I_(e,t,s){const o=Xg(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=_w(),m=yw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(pn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.E_(w);let D=!1,q=!1;const $=new Uk({Zo:Z=>{q?ue(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(D||(ue(pn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),D=!0),ue(pn,`RPC '${e}' stream ${o} sending:`,Z),w.send(Z))},Xo:()=>w.close()}),ae=(Z,we,de)=>{Z.listen(we,ge=>{try{de(ge)}catch(ze){setTimeout(()=>{throw ze},0)}})};return ae(w,Iu.EventType.OPEN,()=>{q||(ue(pn,`RPC '${e}' stream ${o} transport opened.`),$.__())}),ae(w,Iu.EventType.CLOSE,()=>{q||(q=!0,ue(pn,`RPC '${e}' stream ${o} transport closed`),$.u_(),this.d_(w))}),ae(w,Iu.EventType.ERROR,Z=>{q||(q=!0,tl(pn,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),$.u_(new fe(W.UNAVAILABLE,"The operation could not be completed")))}),ae(w,Iu.EventType.MESSAGE,Z=>{var we;if(!q){const de=Z.data[0];st(!!de,16349);const ge=de,ze=(ge==null?void 0:ge.error)||((we=ge[0])===null||we===void 0?void 0:we.error);if(ze){ue(pn,`RPC '${e}' stream ${o} received error:`,ze);const be=ze.status;let Me=function(R){const N=Lt[R];if(N!==void 0)return Jw(N)}(be),M=ze.message;Me===void 0&&(Me=W.INTERNAL,M="Unknown error status: "+be+" with message "+ze.message),q=!0,$.u_(new fe(Me,M)),w.close()}else ue(pn,`RPC '${e}' stream ${o} received:`,de),$.c_(de)}}),ae(m,pw.STAT_EVENT,Z=>{Z.stat===Ug.PROXY?ue(pn,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===Ug.NOPROXY&&ue(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.a_()},0),$}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function yg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(n){return new Hx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=t,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="PersistentStream";class mb{constructor(e,t,s,o,u,f,m,p){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new db(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===t&&this.z_(s,o)},s=>{e(()=>{const o=new fe(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,t){const s=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ue(nE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ue(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zk extends mb{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=Fx(this.serializer,e),s=function(u){if(!("targetChange"in u))return Oe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Oe.min():f.readTime?Zi(f.readTime):Oe.min()}(e);return this.listener.Y_(t,s)}Z_(e){const t={};t.database=Kg(this.serializer),t.addTarget=function(u,f){let m;const p=f.target;if(m=Hg(p)?{documents:Kx(u,p)}:{query:Wx(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=nb(u,f.resumeToken);const y=Fg(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Oe.min())>0){m.readTime=Tf(u,f.snapshotVersion.toTimestamp());const y=Fg(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=$x(this.serializer,e);s&&(t.labels=s),this.Q_(t)}X_(e){const t={};t.database=Kg(this.serializer),t.removeTarget=e,this.Q_(t)}}class jk extends mb{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=Qx(e.writeResults,e.commitTime),s=Zi(e.commitTime);return this.listener.ra(s,t)}ia(){const e={};e.database=Kg(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Gx(this.serializer,s))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{}class Hk extends Bk{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,Gg(t,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(W.UNKNOWN,u.toString())})}Yo(e,t,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,Gg(t,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(W.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Yk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Qr(t),this.ua=!1):ue("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="RemoteStore";class qk{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{Ga(this)&&(ue(Ba,"Restarting streams for network reachability change."),await async function(p){const y=Ne(p);y.da.add(4),await hc(y),y.Va.set("Unknown"),y.da.delete(4),await $f(y)}(this))})}),this.Va=new Yk(s,o)}}async function $f(n){if(Ga(n))for(const e of n.Aa)await e(!0)}async function hc(n){for(const e of n.Aa)await e(!1)}function gb(n,e){const t=Ne(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),ty(t)?ey(t):_l(t).N_()&&Jp(t,e))}function Zp(n,e){const t=Ne(n),s=_l(t);t.Ea.delete(e),s.N_()&&pb(t,e),t.Ea.size===0&&(s.N_()?s.k_():Ga(t)&&t.Va.set("Unknown"))}function Jp(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_l(n).Z_(e)}function pb(n,e){n.ma.Ke(e),_l(n).X_(e)}function ey(n){n.ma=new Lx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),_l(n).start(),n.Va.ca()}function ty(n){return Ga(n)&&!_l(n).O_()&&n.Ea.size>0}function Ga(n){return Ne(n).da.size===0}function yb(n){n.ma=void 0}async function Fk(n){n.Va.set("Online")}async function Gk(n){n.Ea.forEach((e,t)=>{Jp(n,e)})}async function Qk(n,e){yb(n),ty(n)?(n.Va.Pa(e),ey(n)):n.Va.set("Unknown")}async function Kk(n,e,t){if(n.Va.set("Online"),e instanceof tb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(n,e)}catch(s){ue(Ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sf(n,s)}else if(e instanceof $h?n.ma.Xe(e):e instanceof eb?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Oe.min()))try{const s=await fb(n.localStore);t.compareTo(s)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ea.get(y);E&&u.Ea.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.Ea.get(p);if(!E)return;u.Ea.set(p,E.withResumeToken(dn.EMPTY_BYTE_STRING,E.snapshotVersion)),pb(u,p);const w=new Vs(E.target,p,y,E.sequenceNumber);Jp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(s){ue(Ba,"Failed to raise snapshot:",s),await Sf(n,s)}}async function Sf(n,e,t){if(!yl(e))throw e;n.da.add(1),await hc(n),n.Va.set("Offline"),t||(t=()=>fb(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(Ba,"Retrying IndexedDB access"),await t(),n.da.delete(1),await $f(n)})}function _b(n,e){return e().catch(t=>Sf(n,t,e))}async function Zf(n){const e=Ne(n),t=Ks(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:zp;for(;Wk(e);)try{const o=await Ok(e.localStore,s);if(o===null){e.Ia.length===0&&t.k_();break}s=o.batchId,Xk(e,o)}catch(o){await Sf(e,o)}vb(e)&&Tb(e)}function Wk(n){return Ga(n)&&n.Ia.length<10}function Xk(n,e){n.Ia.push(e);const t=Ks(n);t.N_()&&t.ea&&t.ta(e.mutations)}function vb(n){return Ga(n)&&!Ks(n).O_()&&n.Ia.length>0}function Tb(n){Ks(n).start()}async function $k(n){Ks(n).ia()}async function Zk(n){const e=Ks(n);for(const t of n.Ia)e.ta(t.mutations)}async function Jk(n,e,t){const s=n.Ia.shift(),o=Fp.from(s,e,t);await _b(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Zf(n)}async function e4(n,e){e&&Ks(n).ea&&await async function(s,o){if(function(f){return Px(f)&&f!==W.ABORTED}(o.code)){const u=s.Ia.shift();Ks(s).L_(),await _b(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Zf(s)}}(n,e),vb(n)&&Tb(n)}async function iE(n,e){const t=Ne(n);t.asyncQueue.verifyOperationInProgress(),ue(Ba,"RemoteStore received new credentials");const s=Ga(t);t.da.add(3),await hc(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await $f(t)}async function t4(n,e){const t=Ne(n);e?(t.da.delete(2),await $f(t)):e||(t.da.add(2),await hc(t),t.Va.set("Unknown"))}function _l(n){return n.fa||(n.fa=function(t,s,o){const u=Ne(t);return u.oa(),new zk(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{e_:Fk.bind(null,n),n_:Gk.bind(null,n),i_:Qk.bind(null,n),Y_:Kk.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),ty(n)?ey(n):n.Va.set("Unknown")):(await n.fa.stop(),yb(n))})),n.fa}function Ks(n){return n.ga||(n.ga=function(t,s,o){const u=Ne(t);return u.oa(),new jk(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:$k.bind(null,n),i_:e4.bind(null,n),na:Zk.bind(null,n),ra:Jk.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Zf(n)):(await n.ga.stop(),n.Ia.length>0&&(ue(Ba,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new ny(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),yl(n))return new fe(W.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{static emptySet(e){return new Zo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Te.comparator(t.key,s.key):(t,s)=>Te.comparator(t.key,s.key),this.keyedMap=Du(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Zo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.pa=new At(Te.comparator)}track(e){const t=e.doc.key,s=this.pa.get(t);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(t,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(t):e.type===1&&s.type===2?this.pa=this.pa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ie(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,s)=>{e.push(s)}),e}}class al{constructor(e,t,s,o,u,f,m,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach(m=>{f.push({type:0,doc:m})}),new al(e,t,Zo.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class i4{constructor(){this.queries=sE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ne(t),u=o.queries;o.queries=sE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new fe(W.ABORTED,"Firestore shutting down"))}}function sE(){return new qa(n=>jw(n),Ff)}async function Eb(n,e){const t=Ne(n);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new n4,s=e.va()?0:1);try{switch(s){case 0:u.ba=await t.onListen(o,!0);break;case 1:u.ba=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=iy(f,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.Fa(t.onlineState),u.ba&&e.Ma(u.ba)&&ry(t)}async function Sb(n,e){const t=Ne(n),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function r4(n,e){const t=Ne(n);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(s=!0);f.ba=o}}s&&ry(t)}function s4(n,e,t){const s=Ne(n),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function ry(n){n.Ca.forEach(e=>{e.next()})}var $g,aE;(aE=$g||($g={})).xa="default",aE.Cache="cache";class wb{constructor(e,t,s){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new al(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const s=t!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==$g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.key=e}}class Ab{constructor(e){this.key=e}}class a4{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.Za=Bw(e),this.Xa=new Zo(this.Za)}get eu(){return this.Ha}tu(e,t){const s=t?t.nu:new rE,o=t?t.Xa:this.Xa;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const D=o.get(E),q=Gf(this.query,w)?w:null,$=!!D&&this.mutatedKeys.has(D.key),ae=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Z=!1;D&&q?D.data.isEqual(q.data)?$!==ae&&(s.track({type:3,doc:q}),Z=!0):this.ru(D,q)||(s.track({type:2,doc:q}),Z=!0,(p&&this.Za(q,p)>0||y&&this.Za(q,y)<0)&&(m=!0)):!D&&q?(s.track({type:0,doc:q}),Z=!0):D&&!q&&(s.track({type:1,doc:D}),Z=!0,(p||y)&&(m=!0)),Z&&(q?(f=f.add(q),u=ae?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Xa:f,nu:s,Cs:m,mutatedKeys:u}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((E,w)=>function(q,$){const ae=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:Z})}};return ae(q)-ae($)}(E.type,w.type)||this.Za(E.doc,w.doc)),this.iu(s),o=o!=null&&o;const m=t&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Ja;return this.Ja=p,f.length!==0||y?{snapshot:new al(this.query,e.Xa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new rE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const t=[];return e.forEach(s=>{this.Ya.has(s)||t.push(new Ab(s))}),this.Ya.forEach(s=>{e.has(s)||t.push(new bb(s))}),t}au(e){this.Ha=e.$s,this.Ya=Fe();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return al.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const sy="SyncEngine";class o4{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class l4{constructor(e){this.key=e,this.cu=!1}}class u4{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new qa(m=>jw(m),Ff),this.Pu=new Map,this.Tu=new Set,this.Iu=new At(Te.comparator),this.Eu=new Map,this.du=new Kp,this.Au={},this.Ru=new Map,this.Vu=sl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function c4(n,e,t=!0){const s=Nb(n);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await Rb(s,e,t,!0),o}async function h4(n,e){const t=Nb(n);await Rb(t,e,!0,!1)}async function Rb(n,e,t,s){const o=await Nk(n.localStore,$i(e)),u=o.targetId,f=n.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await f4(n,e,u,f==="current",o.resumeToken)),n.isPrimaryClient&&t&&gb(n.remoteStore,o),m}async function f4(n,e,t,s,o){n.fu=(w,D,q)=>async function(ae,Z,we,de){let ge=Z.view.tu(we);ge.Cs&&(ge=await ZT(ae.localStore,Z.query,!1).then(({documents:M})=>Z.view.tu(M,ge)));const ze=de&&de.targetChanges.get(Z.targetId),be=de&&de.targetMismatches.get(Z.targetId)!=null,Me=Z.view.applyChanges(ge,ae.isPrimaryClient,ze,be);return lE(ae,Z.targetId,Me.ou),Me.snapshot}(n,w,D,q);const u=await ZT(n.localStore,e,!0),f=new a4(e,u.$s),m=f.tu(u.documents),p=cc.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),y=f.applyChanges(m,n.isPrimaryClient,p);lE(n,t,y.ou);const E=new o4(e,t,f);return n.hu.set(e,E),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),y.snapshot}async function d4(n,e,t){const s=Ne(n),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!Ff(f,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Wg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Zp(s.remoteStore,o.targetId),Zg(s,o.targetId)}).catch(pl)):(Zg(s,o.targetId),await Wg(s.localStore,o.targetId,!0))}async function m4(n,e){const t=Ne(n),s=t.hu.get(e),o=t.Pu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Zp(t.remoteStore,s.targetId))}async function g4(n,e,t){const s=S4(n);try{const o=await function(f,m){const p=Ne(f),y=Qt.now(),E=m.reduce((q,$)=>q.add($.key),Fe());let w,D;return p.persistence.runTransaction("Locally write mutations","readwrite",q=>{let $=Kr(),ae=Fe();return p.Bs.getEntries(q,E).next(Z=>{$=Z,$.forEach((we,de)=>{de.isValidDocument()||(ae=ae.add(we))})}).next(()=>p.localDocuments.getOverlayedDocuments(q,$)).next(Z=>{w=Z;const we=[];for(const de of m){const ge=Nx(de,w.get(de.key).overlayedDocument);ge!=null&&we.push(new Fa(de.key,ge,Mw(ge.value.mapValue),Yr.exists(!0)))}return p.mutationQueue.addMutationBatch(q,y,we,m)}).next(Z=>{D=Z;const we=Z.applyToLocalDocumentSet(w,ae);return p.documentOverlayCache.saveOverlays(q,Z.batchId,we)})}).then(()=>({batchId:D.batchId,changes:Yw(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Au[f.currentUser.toKey()];y||(y=new At(Ue)),y=y.insert(m,p),f.Au[f.currentUser.toKey()]=y}(s,o.batchId,t),await fc(s,o.changes),await Zf(s.remoteStore)}catch(o){const u=iy(o,"Failed to persist write");t.reject(u)}}async function Ib(n,e){const t=Ne(n);try{const s=await Dk(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Eu.get(u);f&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?st(f.cu,14607):o.removedDocuments.size>0&&(st(f.cu,42227),f.cu=!1))}),await fc(t,s,e)}catch(s){await pl(s)}}function oE(n,e,t){const s=Ne(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.hu.forEach((u,f)=>{const m=f.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ne(f);p.onlineState=m;let y=!1;p.queries.forEach((E,w)=>{for(const D of w.Sa)D.Fa(m)&&(y=!0)}),y&&ry(p)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function p4(n,e,t){const s=Ne(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new At(Te.comparator);f=f.insert(u,_n.newNoDocument(u,Oe.min()));const m=Fe().add(u),p=new Wf(Oe.min(),new Map,new At(Ue),f,m);await Ib(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(e),ay(s)}else await Wg(s.localStore,e,!1).then(()=>Zg(s,e,t)).catch(pl)}async function y4(n,e){const t=Ne(n),s=e.batch.batchId;try{const o=await Ik(t.localStore,e);Cb(t,s,null),Db(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await fc(t,o)}catch(o){await pl(o)}}async function _4(n,e,t){const s=Ne(n);try{const o=await function(f,m){const p=Ne(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(w=>(st(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);Cb(s,e,t),Db(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await fc(s,o)}catch(o){await pl(o)}}function Db(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function Cb(n,e,t){const s=Ne(n);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function Zg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Pu.get(e))n.hu.delete(s),t&&n.lu.gu(s,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(s=>{n.du.containsKey(s)||Ob(n,s)})}function Ob(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Zp(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),ay(n))}function lE(n,e,t){for(const s of t)s instanceof bb?(n.du.addReference(s.key,e),v4(n,s)):s instanceof Ab?(ue(sy,"Document no longer in limbo: "+s.key),n.du.removeReference(s.key,e),n.du.containsKey(s.key)||Ob(n,s.key)):Ie(19791,{pu:s})}function v4(n,e){const t=e.key,s=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(s)||(ue(sy,"New document in limbo: "+t),n.Tu.add(s),ay(n))}function ay(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Te(pt.fromString(e)),s=n.Vu.next();n.Eu.set(s,new l4(t)),n.Iu=n.Iu.insert(t,s),gb(n.remoteStore,new Vs($i(qf(t.path)),s,"TargetPurposeLimboResolution",Bf.le))}}async function fc(n,e,t){const s=Ne(n),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{f.push(s.fu(p,e,t).then(y=>{var E;if((y||t)&&s.isPrimaryClient){const w=y?!y.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Xp.Rs(p.targetId,y);u.push(w)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(p,y){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>K.forEach(y,D=>K.forEach(D.ds,q=>E.persistence.referenceDelegate.addReference(w,D.targetId,q)).next(()=>K.forEach(D.As,q=>E.persistence.referenceDelegate.removeReference(w,D.targetId,q)))))}catch(w){if(!yl(w))throw w;ue($p,"Failed to update sequence numbers: "+w)}for(const w of y){const D=w.targetId;if(!w.fromCache){const q=E.xs.get(D),$=q.snapshotVersion,ae=q.withLastLimboFreeSnapshotVersion($);E.xs=E.xs.insert(D,ae)}}}(s.localStore,u))}async function T4(n,e){const t=Ne(n);if(!t.currentUser.isEqual(e)){ue(sy,"User change. New user:",e.toKey());const s=await hb(t.localStore,e);t.currentUser=e,function(u,f){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new fe(W.CANCELLED,f))})}),u.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fc(t,s.ks)}}function E4(n,e){const t=Ne(n),s=t.Eu.get(e);if(s&&s.cu)return Fe().add(s.key);{let o=Fe();const u=t.Pu.get(e);if(!u)return o;for(const f of u){const m=t.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function Nb(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p4.bind(null,e),e.lu.Y_=r4.bind(null,e.eventManager),e.lu.gu=s4.bind(null,e.eventManager),e}function S4(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_4.bind(null,e),e}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return Rk(this.persistence,new wk,e.initialUser,this.serializer)}Su(e){return new cb(Wp.fi,this.serializer)}bu(e){return new xk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class w4 extends wf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){st(this.persistence.referenceDelegate instanceof Ef,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lk(s,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new cb(s=>Ef.fi(s,t),this.serializer)}}class Jg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>oE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=T4.bind(null,this.syncEngine),await t4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i4}()}createDatastore(e){const t=Xf(e.databaseInfo.databaseId),s=function(u){return new Lk(u)}(e.databaseInfo);return function(u,f,m,p){return new Hk(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,f,m){return new qk(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,t=>oE(this.syncEngine,t,0),function(){return tE.C()?new tE:new kk}())}createSyncEngine(e,t){return function(o,u,f,m,p,y,E){const w=new u4(o,u,f,m,p,y);return E&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ne(o);ue(Ba,"RemoteStore shutting down."),u.da.add(5),await hc(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Jg.provider={build:()=>new Jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class b4{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=Sw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(Ws,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(Ws,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=iy(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function _g(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Ws,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async o=>{s.isEqual(o)||(await hb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function uE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await A4(n);ue(Ws,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>iE(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>iE(e.remoteStore,o)),n._onlineComponents=e}async function A4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Ws,"Using user provided OfflineComponentProvider");try{await _g(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;tl("Error using user provided cache. Falling back to memory cache: "+t),await _g(n,new wf)}}else ue(Ws,"Using default OfflineComponentProvider"),await _g(n,new w4(void 0));return n._offlineComponents}async function xb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Ws,"Using user provided OnlineComponentProvider"),await uE(n,n._uninitializedComponentsProvider._online)):(ue(Ws,"Using default OnlineComponentProvider"),await uE(n,new Jg))),n._onlineComponents}function R4(n){return xb(n).then(e=>e.syncEngine)}async function ep(n){const e=await xb(n),t=e.eventManager;return t.onListen=c4.bind(null,e.syncEngine),t.onUnlisten=d4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=h4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=m4.bind(null,e.syncEngine),t}function I4(n,e,t={}){const s=new Bs;return n.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new Mb({next:D=>{E.xu(),f.enqueueAndForget(()=>Sb(u,w));const q=D.docs.has(m);!q&&D.fromCache?y.reject(new fe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&D.fromCache&&p&&p.source==="server"?y.reject(new fe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),w=new wb(qf(m.path),E,{includeMetadataChanges:!0,Qa:!0});return Eb(u,w)}(await ep(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(n,e,t){if(!t)throw new fe(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function D4(n,e,t,s){if(e===!0&&s===!0)throw new fe(W.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hE(n){if(!Te.isDocumentKey(n))throw new fe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fE(n){if(Te.isDocumentKey(n))throw new fe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function Hs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jf(n);throw new fe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firestore.googleapis.com",dE=!0;class mE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pb,this.ssl=dE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:dE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ub;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ak)throw new fe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ed{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new PM;switch(s.type){case"firstParty":return new jM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=cE.get(t);s&&(ue("ComponentProvider","Removing Datastore"),cE.delete(t),s.terminate())}(this),Promise.resolve()}}function C4(n,e,t,s={}){var o;n=Hs(n,ed);const u=hl(e),f=n._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;u&&(AS(`https://${p}`),RS("Firestore",!0)),f.host!==Pb&&f.host!==p&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Ua(y,m)&&(n._setSettings(y),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=yn.MOCK_USER;else{E=HC(s.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new fe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new yn(D)}n._authCredentials=new UM(new Tw(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new vl(this.firestore,e,this._query)}}class Rn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class Ys extends vl{constructor(e,t,s){super(e,t,qf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Te(e))}withConverter(e){return new Ys(this.firestore,e,this._path)}}function O4(n,e,...t){if(n=fn(n),Vb("collection","path",e),n instanceof ed){const s=pt.fromString(e,...t);return fE(s),new Ys(n,null,s)}{if(!(n instanceof Rn||n instanceof Ys))throw new fe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(pt.fromString(e,...t));return fE(s),new Ys(n.firestore,null,s)}}function N4(n,e,...t){if(n=fn(n),arguments.length===1&&(e=Sw.newId()),Vb("doc","path",e),n instanceof ed){const s=pt.fromString(e,...t);return hE(s),new Rn(n,null,new Te(s))}{if(!(n instanceof Rn||n instanceof Ys))throw new fe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(pt.fromString(e,...t));return hE(s),new Rn(n.firestore,n instanceof Ys?n.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="AsyncQueue";class pE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new db(this,"async_queue_retry"),this.rc=()=>{const s=yg();s&&ue(gE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const t=yg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=yg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Bs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!yl(e))throw e;ue(gE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Qr("INTERNAL UNHANDLED ERROR: ",yE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=t,t}enqueueAfterDelay(e,t,s){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const o=ny.createAndSchedule(this,e,t,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Ie(47125,{cc:yE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function yE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(n){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(n,["next","error","complete"])}class Zu extends ed{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new pE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pE(e),this._firestoreClient=void 0,await e}}}function M4(n,e){const t=typeof n=="object"?n:OS(),s=typeof n=="string"?n:gf,o=Rp(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=jC("firestore");u&&C4(o,...u)}return o}function oy(n){if(n._terminated)throw new fe(W.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||x4(n),n._firestoreClient}function x4(n){var e,t,s;const o=n._freezeSettings(),u=function(m,p,y,E){return new tx(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,kb(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new b4(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ol(dn.fromBase64String(e))}catch(t){throw new fe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ol(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=/^__.*__$/;class V4{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new uc(e,this.data,t,this.fieldTransforms)}}function Ub(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ic:n})}}class fy{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new fy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return bf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Ub(this.Ic)&&k4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class P4{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Xf(e)}bc(e,t,s,o=!1){return new fy({Ic:e,methodName:t,wc:s,path:hn.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lb(n){const e=n._freezeSettings(),t=Xf(n._databaseId);return new P4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function U4(n,e,t,s,o,u={}){const f=n.bc(u.merge||u.mergeFields?2:0,e,t,o);Bb("Data must be an object, but it was:",f,s);const m=zb(s,f);let p,y;if(u.merge)p=new wi(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const D=z4(e,w,t);if(!f.contains(D))throw new fe(W.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);B4(E,D)||E.push(D)}p=new wi(E),y=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=f.fieldTransforms;return new V4(new si(m),p,y)}class dy extends uy{_toFieldTransform(e){return new Ix(e.path,new Wu)}isEqual(e){return e instanceof dy}}function L4(n,e,t,s=!1){return my(t,n.bc(s?4:3,e))}function my(n,e){if(jb(n=fn(n)))return Bb("Unsupported field value:",e,n),zb(n,e);if(n instanceof uy)return function(s,o){if(!Ub(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=my(m,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(n,e)}return function(s,o){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Qt.fromDate(s);return{timestampValue:Tf(o.serializer,u)}}if(s instanceof Qt){const u=new Qt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Tf(o.serializer,u)}}if(s instanceof cy)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ol)return{bytesValue:nb(o.serializer,s._byteString)};if(s instanceof Rn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof hy)return function(f,m){return{mapValue:{fields:{[Ow]:{stringValue:Nw},[pf]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.gc("VectorValues must only contain numeric values.");return qp(m.serializer,y)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Jf(s)}`)}(n,e)}function zb(n,e){const t={};return bw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(n,(s,o)=>{const u=my(o,e.Ac(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function jb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qt||n instanceof cy||n instanceof ol||n instanceof Rn||n instanceof uy||n instanceof hy)}function Bb(n,e,t){if(!jb(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Jf(t);throw s==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+s)}}function z4(n,e,t){if((e=fn(e))instanceof ly)return e._internalPath;if(typeof e=="string")return Hb(n,e);throw bf("Field path arguments must be of type string or ",n,!1,void 0,t)}const j4=new RegExp("[~\\*/\\[\\]]");function Hb(n,e,t){if(e.search(j4)>=0)throw bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ly(...e.split("."))._internalPath}catch{throw bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bf(n,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new fe(W.INVALID_ARGUMENT,m+n+p)}function B4(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class H4 extends Yb{data(){return super.data()}}function qb(n,e){return typeof e=="string"?Hb(n,e):e instanceof ly?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gy{}class q4 extends gy{}function F4(n,e,...t){let s=[];e instanceof gy&&s.push(e),s=s.concat(t),function(u){const f=u.filter(p=>p instanceof yy).length,m=u.filter(p=>p instanceof py).length;if(f>1||f>0&&m>0)throw new fe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)n=o._apply(n);return n}class py extends q4{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new py(e,t,s)}_apply(e){const t=this._parse(e);return Fb(e._query,t),new vl(e.firestore,e.converter,Yg(e._query,t))}_parse(e){const t=Lb(e.firestore);return function(u,f,m,p,y,E,w){let D;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){TE(w,E);const $=[];for(const ae of w)$.push(vE(p,u,ae));D={arrayValue:{values:$}}}else D=vE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||TE(w,E),D=L4(m,f,w,E==="in"||E==="not-in");return zt.create(y,E,D)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class yy extends gy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yy(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Fb(f,p),f=Yg(f,p)}(e._query,t),new vl(e.firestore,e.converter,Yg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vE(n,e,t){if(typeof(t=fn(t))=="string"){if(t==="")throw new fe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zw(e)&&t.indexOf("/")!==-1)throw new fe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(pt.fromString(t));if(!Te.isDocumentKey(s))throw new fe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xT(n,new Te(s))}if(t instanceof Rn)return xT(n,t._key);throw new fe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(t)}.`)}function TE(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fb(n,e){const t=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class G4{convertValue(e,t="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ya(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[pf].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>kt(f.doubleValue));return new hy(u)}convertGeoPoint(e){return new cy(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Yf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const t=Fs(e);return new Qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=pt.fromString(e);st(lb(s),9688,{name:e});const o=new Qu(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(t)||Qr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gb extends Yb{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(qb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Zh extends Gb{data(e={}){return super.data(e)}}class K4{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ou(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Zh(this._firestore,this._userDataWriter,s.key,s,new Ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:W4(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function W4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(n){n=Hs(n,Rn);const e=Hs(n.firestore,Zu);return I4(oy(e),n._key).then(t=>Kb(e,n,t))}class Qb extends G4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function $4(n,e,t){n=Hs(n,Rn);const s=Hs(n.firestore,Zu),o=Q4(n.converter,e,t);return J4(s,[U4(Lb(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Yr.none())])}function Z4(n,...e){var t,s,o;n=fn(n);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||_E(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(_E(e[f])){const w=e[f];e[f]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,y,E;if(n instanceof Rn)y=Hs(n.firestore,Zu),E=qf(n._key.path),p={next:w=>{e[f]&&e[f](Kb(y,n,w))},error:e[f+1],complete:e[f+2]};else{const w=Hs(n,vl);y=Hs(w.firestore,Zu),E=w._query;const D=new Qb(y);p={next:q=>{e[f]&&e[f](new K4(y,D,w,q))},error:e[f+1],complete:e[f+2]},Y4(n._query)}return function(D,q,$,ae){const Z=new Mb(ae),we=new wb(q,Z,$);return D.asyncQueue.enqueueAndForget(async()=>Eb(await ep(D),we)),()=>{Z.xu(),D.asyncQueue.enqueueAndForget(async()=>Sb(await ep(D),we))}}(oy(y),E,m,p)}function J4(n,e){return function(s,o){const u=new Bs;return s.asyncQueue.enqueueAndForget(async()=>g4(await R4(s),o,u)),u.promise}(oy(n),e)}function Kb(n,e,t){const s=t.docs.get(e._key),o=new Qb(n);return new Gb(n,o,e._key,s,new Ou(t.hasPendingWrites,t.fromCache),e.converter)}function eV(){return new dy("serverTimestamp")}(function(e,t=!0){(function(o){gl=o})(fl),Jo(new La("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Zu(new LM(s.getProvider("auth-internal")),new BM(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),zs(ET,ST,e),zs(ET,ST,"esm2017")})();const EE=[{id:1,name:"Pioneer CDJ-3000",type:"CDJ Player",icon:"",category:"player"},{id:2,name:"Technics SL-1200",type:"Turntable",icon:"",category:"player"},{id:3,name:"DJM A9",type:"DJ Mixer",icon:"",category:"mixer"},{id:4,name:"DJM V10",type:"DJ Mixer",icon:"",category:"mixer"}],SE=2e5,qo=n=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n),Af=n=>n?new Date(n).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",Lu=n=>{if(!n)return"";const[e,t]=n.split(":"),s=parseInt(e),o=s>=12?"PM":"AM";return`${s>12?s-12:s===0?12:s}:${t.padStart(2,"0")} ${o}`},tV=(n,e)=>{if(!n||isNaN(e))return"";const[t,s]=n.split(":"),o=new Date;return o.setHours(parseInt(t),parseInt(s),0,0),o.setHours(o.getHours()+e),`${o.getHours().toString().padStart(2,"0")}:${o.getMinutes().toString().padStart(2,"0")}`},vg={apiKey:"AIzaSyBWmkv8YDOAtSqrehqEkO1vWNbBvmhs65A",authDomain:"booking-app-1af02.firebaseapp.com",projectId:"booking-app-1af02",storageBucket:"booking-app-1af02.firebasestorage.app",messagingSenderId:"909871533345",appId:"1:909871533345:web:939fa5b6c8203ad4308260",measurementId:void 0},td=({show:n,onClose:e,title:t,children:s})=>n?B.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",onClick:e,children:B.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full text-white border border-gray-700",onClick:o=>o.stopPropagation(),children:[B.jsx("h2",{className:"text-2xl font-bold text-orange-400 mb-6 text-center",children:t}),s]})}):null,nV=({show:n,onClose:e,isLoginMode:t,setIsLoginMode:s,email:o,setEmail:u,password:f,setPassword:m,handleAuthAction:p,handleGoogleSignIn:y,handleGuestLogin:E,authError:w})=>B.jsxs(td,{show:n,onClose:e,title:t?"Sign In":"Sign Up",children:[w&&B.jsx("div",{className:"bg-red-800 text-white px-4 py-2 rounded-lg mb-4 text-sm",children:w}),B.jsxs("div",{className:"space-y-4",children:[B.jsx("input",{type:"email",value:o,onChange:D=>u(D.target.value),placeholder:"Email",className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-700 text-white"}),B.jsx("input",{type:"password",value:f,onChange:D=>m(D.target.value),placeholder:"Password",className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-700 text-white"})]}),B.jsxs("div",{className:"mt-6 space-y-3",children:[B.jsx("button",{onClick:()=>p(t?()=>_N(Pg(),o,f):()=>yN(Pg(),o,f)),className:"w-full py-3 bg-orange-600 text-white rounded-xl font-semibold hover:bg-orange-700",children:t?"Sign In":"Sign Up"}),B.jsxs("button",{onClick:y,className:"w-full py-3 bg-red-700 text-white rounded-xl font-semibold hover:bg-red-800 flex items-center justify-center gap-2",children:[B.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",className:"w-5 h-5"})," Sign In with Google"]}),B.jsx("button",{onClick:E,className:"w-full py-3 bg-gray-600 text-white rounded-xl font-semibold hover:bg-gray-700",children:"Login as Guest"}),B.jsx("button",{onClick:()=>s(D=>!D),className:"w-full py-2 text-sm text-gray-400 hover:text-white",children:t?"Need an account? Sign Up":"Have an account? Sign In"})]})]}),iV=({show:n,onClose:e,newDisplayName:t,setNewDisplayName:s,handleUpdateProfile:o,profileLoading:u,profileError:f})=>B.jsxs(td,{show:n,onClose:e,title:"Manage Profile",children:[f&&B.jsx("div",{className:"bg-red-800 text-white px-4 py-2 rounded-lg mb-4 text-sm",children:f}),B.jsx("input",{type:"text",value:t,onChange:m=>s(m.target.value),placeholder:"Your Display Name",className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-700 text-white"}),B.jsxs("div",{className:"mt-6 flex gap-4",children:[B.jsx("button",{onClick:e,className:"w-full py-3 bg-gray-600 text-white rounded-xl font-semibold hover:bg-gray-700",children:"Cancel"}),B.jsx("button",{onClick:o,disabled:u,className:"w-full py-3 bg-orange-600 text-white rounded-xl font-semibold hover:bg-orange-700 disabled:bg-gray-500",children:u?"Updating...":"Update"})]})]}),rV=({show:n,onClose:e,booking:t,isUpdate:s})=>t?B.jsx(td,{show:n,onClose:e,title:s?"Booking Updated!":"Booking Confirmed!",children:B.jsxs("div",{className:"text-center",children:[B.jsx("div",{className:"text-6xl mb-4 pulse-animation",children:""}),B.jsxs("div",{className:"text-left bg-gray-700 rounded-lg p-4 mb-6 text-gray-200 space-y-1",children:[B.jsxs("p",{children:[B.jsx("strong",{children:"Date:"})," ",Af(t.date)]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Time:"})," ",Lu(t.time)]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Total:"})," ",qo(t.total)]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Status:"})," ",B.jsx("span",{className:"font-semibold text-yellow-400",children:"PENDING"})]})]}),B.jsx("button",{onClick:e,className:"bg-orange-600 text-white px-6 py-3 rounded-xl hover:bg-orange-700 w-full",children:"Awesome!"})]})}):null,sV=({show:n,onClose:e,booking:t,onConfirm:s})=>t?B.jsxs(td,{show:n,onClose:e,title:"Confirm Cancellation",children:[B.jsxs("p",{className:"text-gray-300 mb-6 text-center",children:["Are you sure you want to cancel your booking for ",Af(t.date)," at ",Lu(t.time),"?"]}),B.jsxs("div",{className:"flex justify-center gap-4",children:[B.jsx("button",{onClick:e,className:"px-6 py-3 bg-gray-700 text-gray-300 rounded-xl font-semibold hover:bg-gray-600 w-full",children:"No, Keep It"}),B.jsx("button",{onClick:s,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 w-full",children:"Yes, Cancel"})]})]}):null,wE=({equipment:n,isSelected:e,onToggle:t})=>B.jsx("div",{onClick:()=>t(n),className:`p-3 rounded-xl cursor-pointer border-2 transition-all ${e?"border-orange-500 bg-orange-900":"border-gray-700 bg-gray-700 hover:border-orange-400"}`,children:B.jsxs("div",{className:"flex items-center space-x-3",children:[B.jsx("div",{className:"text-2xl",children:n.icon}),B.jsxs("div",{children:[B.jsx("h4",{className:"font-semibold text-white",children:n.name}),B.jsx("p",{className:"text-sm text-gray-400",children:n.type})]}),e&&B.jsx("div",{className:"ml-auto w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center text-white",children:""})]})}),bE=({value:n,label:e,selected:t,onSelect:s})=>B.jsx("div",{onClick:()=>s(n),className:`p-4 rounded-xl cursor-pointer border-2 transition-all ${t===n?"border-orange-500 bg-orange-900":"border-gray-700 bg-gray-700 hover:border-orange-400"}`,children:B.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[B.jsx("input",{type:"radio",name:"paymentMethod",value:n,checked:t===n,onChange:()=>s(n),className:"form-radio h-5 w-5 text-orange-600 bg-gray-800 border-gray-600 focus:ring-orange-500"}),B.jsx("span",{className:"font-medium text-white",children:e})]})}),AE=typeof __app_id<"u"?__app_id:"default-app-id",RE=typeof __initial_auth_token<"u"?__initial_auth_token:null,bu="https://phyon-back-end.onrender.com";function aV(){var gi;const[n,e]=ye.useState(""),[t,s]=ye.useState(""),[o,u]=ye.useState(2),[f,m]=ye.useState([]),[p,y]=ye.useState([]),[E,w]=ye.useState(!1),[D,q]=ye.useState(null),[$,ae]=ye.useState("cash"),[Z,we]=ye.useState(null),[de,ge]=ye.useState(null),[ze,be]=ye.useState(!1),[Me,M]=ye.useState(null),[b,R]=ye.useState(!1),[N,x]=ye.useState(null),[V,I]=ye.useState([]),[Dt,mt]=ye.useState([]),[Y,se]=ye.useState(null),[me,je]=ye.useState(""),[C,X]=ye.useState(null),[re,te]=ye.useState(null),[ne,Ve]=ye.useState(null),[ve,St]=ye.useState(!0),[it,Wt]=ye.useState(!1),[xn,Ct]=ye.useState(null),[sr,jt]=ye.useState(null),[ar,ui]=ye.useState(!1),[es,In]=ye.useState(""),[Qa,Xs]=ye.useState(""),[ci,or]=ye.useState(!0),[Tl,hi]=ye.useState(!1),[fi,lr]=ye.useState(""),[vt,Qe]=ye.useState(!1),[nn,wt]=ye.useState(null),$s=ye.useRef(null);ye.useEffect(()=>{if(!C)try{if(console.log("Initializing Firebase app..."),!vg.projectId||!vg.apiKey)throw new Error("Firebase configuration is missing. Ensure REACT_APP_FIRESTORE_PROJECT_ID and REACT_APP_FIRESTORE_API_KEY are set in your environment.");const J=CS(vg),oe=M4(J),Ae=Pg(J);X(J),te(oe),Ve(Ae),console.log("Firebase app, DB, Auth instances set."),RE?pN(Ae,RE).then(()=>console.log("Signed in with custom token.")).catch(Ce=>{console.error("Error signing in with custom token:",Ce),St(!1)}):St(!1)}catch(J){console.error("Firebase Initialization Error:",J),Ct(`Firebase Initialization Error: ${J.message}`),St(!1)}},[C]),ye.useEffect(()=>{if(!ne||!re)return;console.log("Setting up auth state listener...");const J=wN(ne,async oe=>{if(oe){se(oe.uid),jt(null),ui(!1);try{Qe(!0),wt(null);const Ae=N4(re,`artifacts/${AE}/users/${oe.uid}/profiles/userProfile`),Ce=await X4(Ae);let Be=oe.displayName||oe.email||"New User";Ce.exists()?Be=Ce.data().displayName||Be:(await $4(Ae,{userId:oe.uid,displayName:Be,createdAt:eV()},{merge:!0}),console.log("Created new user profile in Firestore.")),je(Be),lr(Be),console.log("Auth state changed: User is signed in. UID:",oe.uid,"Name:",Be)}catch(Ae){console.error("Error fetching/creating user profile:",Ae),wt(`Failed to load profile: ${Ae.message}`),je(oe.uid)}finally{Qe(!1)}}else console.log("Auth state changed: User is signed out."),se(null),je(""),lr(""),jt(null),wt(null);St(!1)});return()=>{console.log("Cleaning up auth state listener."),J()}},[ne,re]),ye.useEffect(()=>{if(!re||!Y||ve){y([]);return}Wt(!0),Ct(null);const J=`artifacts/${AE}/users/${Y}/bookings`,oe=F4(O4(re,J)),Ae=Z4(oe,Ce=>{const Be=Ce.docs.map(Bt=>({id:Bt.id,...Bt.data()}));Be.sort((Bt,Ka)=>{var rn,Mi;return(((rn=Ka.timestamp)==null?void 0:rn.toDate())||0)-(((Mi=Bt.timestamp)==null?void 0:Mi.toDate())||0)}),y(Be),Wt(!1)},Ce=>{console.error("Firestore Error fetching bookings:",Ce),Ct(`Failed to load your bookings: ${Ce.message}`),Wt(!1)});return()=>Ae()},[re,Y,ve]),ye.useEffect(()=>{(async()=>{if(!n||!ne||ve){mt([]);return}try{const oe=await fetch(`${bu}/api/check-booked-slots?date=${n}`);if(!oe.ok){const Ce=await oe.json();throw new Error(Ce.error||"Failed to fetch booked slots.")}const Ae=await oe.json();mt(Ae.bookedSlots)}catch(oe){console.error("Error fetching booked slots:",oe)}})()},[n,ne,ve]),ye.useEffect(()=>{const oe=new URLSearchParams(window.location.search).get("bookingId");oe&&ne&&!ve&&(async()=>{if(!(!oe||!(ne!=null&&ne.currentUser))){history.replaceState({},document.title,window.location.pathname),we("Confirming payment...");try{const Ce=await ne.currentUser.getIdToken(),Be=await fetch(`${bu}/api/confirm-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ce}`},body:JSON.stringify({bookingId:oe})}),Bt=await Be.json();if(!Be.ok)throw new Error(Bt.error||"Failed to confirm payment.");we(Bt.message||"Payment confirmed successfully!")}catch(Ce){console.error("Error confirming payment from URL:",Ce),we(`Error confirming payment: ${Ce.message}`)}finally{setTimeout(()=>we(null),5e3)}}})()},[ne,ve]);const Zs=ye.useMemo(()=>new Date().toISOString().split("T")[0],[]),Oi=ye.useMemo(()=>Array.from({length:8},(J,oe)=>{const Ce=`${(9+oe).toString().padStart(2,"0")}:00`,Be=le(Ce,"HH:mm").format("h:mm A");return{value:Ce,label:Be}}),[]),di=ye.useMemo(()=>{const J=le(`${n} 18:00`,"YYYY-MM-DD HH:mm");return Oi.map(oe=>{const Ae=le(`${n} ${oe.value}`,"YYYY-MM-DD HH:mm"),Ce=Ae.clone().add(o,"hours");let Be=!1,Bt="";return Ce.isAfter(J)?(Be=!0,Bt=`Ends past ${J.format("h:mm A")}`):n===Zs&&Ae.isBefore(le())?(Be=!0,Bt="Past time"):Dt.length>0&&Dt.some(rn=>{if(de&&rn.id===de)return!1;const Mi=le.tz(`${rn.date} ${rn.time}`,rn.userTimeZone||"UTC"),cr=Mi.clone().add(rn.duration,"hours");return Ae.isBefore(cr)&&Ce.isAfter(Mi)})&&(Be=!0,Bt="Booked"),{...oe,label:oe.label+(Be?` (${Bt})`:""),disabled:Be}})},[n,Dt,Oi,o,de,Zs]),kn=ye.useCallback(()=>SE*o,[o]),Vn=ye.useMemo(()=>EE.filter(J=>J.category==="player"),[]),ts=ye.useMemo(()=>EE.filter(J=>J.category==="mixer"),[]),ur=ye.useCallback(J=>{e(J.target.value),s("")},[]),ns=ye.useCallback(J=>{m(oe=>oe.some(Ae=>Ae.id===J.id)?oe.filter(Ae=>Ae.id!==J.id):[...oe,J])},[]),Js=ye.useCallback(async J=>{if(!ne){jt("Auth service not ready.");return}jt(null);try{const oe=await J();ci||await TN(oe.user,{displayName:es.split("@")[0]||"New User"})}catch(oe){console.error(`${ci?"Sign-in":"Sign-up"} error:`,oe),jt(`Failed: ${oe.message}`)}},[ne,es,Qa,ci]),ea=ye.useCallback(async()=>{if(ne){jt(null);try{await qN(ne,new Pr)}catch(J){console.error("Google Sign-in error:",J),jt(`Google Sign-in failed: ${J.message}`)}}},[ne]),Fn=ye.useCallback(async()=>{if(!ne){jt("Auth service not ready.");return}jt(null);try{await hN(ne),console.log("Signed in anonymously (Guest)."),ui(!1)}catch(J){console.error("Guest login error:",J),jt(`Guest login failed: ${J.message}`)}},[ne]),mi=ye.useCallback(async()=>{if(ne)try{await bN(ne),se(null),je(""),lr(""),y([]),mt([]),ge(null),e(""),s(""),u(2),m([]),ae("cash"),Ct(null),jt(null),wt(null),q(null),w(!1),be(!1),ui(!1),hi(!1),console.log("User logged out and state reset.")}catch(J){console.error("Logout error:",J),Ct(`Logout failed: ${J.message}`)}},[ne]),ta=ye.useCallback(async()=>{if(!(!Y||!ne.currentUser||!fi.trim())){Qe(!0),wt(null);try{const J=await ne.currentUser.getIdToken(),oe=await fetch(`${bu}/api/update-profile`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({displayName:fi.trim()})}),Ae=await oe.json();if(!oe.ok)throw new Error(Ae.error||"Failed to update profile.");je(fi.trim()),hi(!1)}catch(J){console.error("Error updating profile:",J),wt(`Failed to update profile: ${J.message}`)}finally{Qe(!1)}}},[Y,ne,fi]),Gn=ye.useCallback(async()=>{if(!n||!t||!Y||!ne.currentUser){Ct("Please select date, time and be logged in to book.");return}Wt(!0),Ct(null);try{const J=await ne.currentUser.getIdToken(),oe={date:n,time:t,duration:o,equipment:f.map(Be=>({id:Be.id,name:Be.name,type:Be.type})),total:kn(),paymentMethod:$,paymentStatus:"pending",userTimeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},Ae=await fetch(`${bu}/api/confirm-booking`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({bookingData:oe,userName:me,editingBookingId:de})}),Ce=await Ae.json();if(!Ae.ok)throw new Error(Ce.error||"Failed to confirm booking.");q({...oe,id:Ce.bookingId,timestamp:new Date}),w(!0),ge(null),e(""),s(""),u(2),m([])}catch(J){console.error("Error calling backend for booking:",J),Ct(`Failed to book session: ${J.message}`)}finally{Wt(!1)}},[n,t,o,f,kn,Y,ne,me,de,$]),na=ye.useCallback(J=>{var oe;ge(J.id),e(J.date),s(J.time),u(J.duration),m(J.equipment||[]),ae(J.paymentMethod||"cash"),Ct(null),(oe=$s.current)==null||oe.scrollIntoView({behavior:"smooth",block:"start"})},[]),Ni=ye.useCallback(J=>{M(J),be(!0)},[]),is=ye.useCallback(async()=>{if(!(!Me||!(ne!=null&&ne.currentUser))){Wt(!0),Ct(null);try{const J=await ne.currentUser.getIdToken(),oe=await fetch(`${bu}/api/cancel-booking`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({bookingId:Me.id})}),Ae=await oe.json();if(!oe.ok)throw new Error(Ae.error||"Failed to cancel booking.");console.log("Booking cancellation processed by backend:",Me.id)}catch(J){console.error("Error cancelling booking:",J),Ct(`Failed to cancel booking: ${J.message}`)}finally{Wt(!1),be(!1),M(null)}}},[Me,ne]);return ve||!C?B.jsx("div",{className:"bg-gray-900 min-h-screen flex items-center justify-center text-orange-200 text-2xl p-4 text-center",children:xn?`Initialization Error: ${xn}`:"Authenticating Firebase..."}):B.jsx("div",{className:"bg-gray-900 min-h-screen p-4 font-sans",children:B.jsxs("div",{className:"max-w-4xl mx-auto",children:[B.jsxs("div",{className:"text-center mb-8",children:[B.jsx("h1",{className:"text-4xl font-bold text-orange-400 mb-2",children:"POLAR SHOWROOM"}),B.jsx("p",{className:"text-gray-300 text-lg",children:"Book your professional DJ room with premium equipment"}),B.jsx("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-center gap-4",children:Y?B.jsxs(B.Fragment,{children:[B.jsxs("p",{className:"text-gray-400 text-sm",children:["Logged In: ",B.jsx("span",{className:"font-semibold text-orange-200",children:me})]}),B.jsx("button",{onClick:()=>hi(!0),className:"px-4 py-2 bg-orange-600 text-white rounded-xl text-sm hover:bg-orange-700 transition shadow-lg",children:"Edit Profile"}),B.jsx("button",{onClick:mi,className:"px-4 py-2 bg-red-600 text-white rounded-xl text-sm hover:bg-red-700 transition shadow-lg",children:"Logout"})]}):B.jsxs(B.Fragment,{children:[B.jsx("button",{onClick:Fn,className:"px-6 py-3 bg-gray-700 text-gray-300 rounded-xl text-lg font-semibold hover:bg-gray-600 transition shadow-lg",children:"Login as Guest"}),B.jsx("button",{onClick:()=>ui(!0),className:"px-6 py-3 bg-orange-600 text-white rounded-xl text-lg font-semibold hover:bg-orange-700 transition shadow-lg",children:"Sign In / Sign Up"})]})})]}),(xn||nn||Z)&&B.jsxs("div",{className:`px-4 py-3 rounded-xl relative mb-4 ${Z?Z.includes("Error")?"bg-red-800":"bg-green-800":"bg-red-800"} text-white`,role:"alert",children:[B.jsx("strong",{className:"font-bold",children:Z?"Status:":"Error!"}),B.jsxs("span",{className:"block sm:inline",children:[" ",xn||nn||Z]})]}),B.jsx("div",{ref:$s,className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mb-6 border border-gray-700",children:B.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[B.jsxs("div",{className:"space-y-6",children:[B.jsx("h2",{className:"text-2xl font-semibold text-orange-300 mb-4",children:" Schedule Your Session"}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"select-date",className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Date"}),B.jsx("input",{id:"select-date",type:"date",min:Zs,value:n,onChange:ur,className:"w-full p-3 border border-gray-600 rounded-xl focus:ring-2 focus:ring-orange-500 bg-gray-700 text-white"})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"select-time",className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Time"}),B.jsxs("select",{id:"select-time",value:t,onChange:J=>s(J.target.value),className:"w-full p-3 border border-gray-600 rounded-xl focus:ring-2 focus:ring-orange-500 bg-gray-700 text-white",children:[B.jsx("option",{value:"",children:"Choose a time..."}),di.map(J=>B.jsx("option",{value:J.value,disabled:J.disabled,className:J.disabled?"text-gray-500":"",children:J.label},J.value))]}),n&&di.every(J=>J.disabled)&&B.jsx("p",{className:"text-red-300 text-sm mt-2",children:"No available slots for this date with the selected duration."})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"select-duration",className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration (hours)"}),B.jsxs("select",{id:"select-duration",value:o,onChange:J=>u(parseInt(J.target.value)),className:"w-full p-3 border border-gray-600 rounded-xl focus:ring-2 focus:ring-orange-500 bg-gray-700 text-white",children:[B.jsx("option",{value:2,children:"2 hours"}),B.jsx("option",{value:3,children:"3 hours"}),B.jsx("option",{value:4,children:"4 hours"})]})]})]}),B.jsxs("div",{className:"bg-gray-700 rounded-xl p-6 border border-gray-600",children:[B.jsx("h3",{className:"text-xl font-semibold text-orange-300 mb-4",children:" Booking Summary"}),B.jsxs("div",{className:"space-y-3 text-gray-300",children:[B.jsxs("div",{className:"flex justify-between text-sm",children:[B.jsx("span",{children:"Room Rate (per hour)"}),B.jsx("span",{children:qo(SE)})]}),B.jsxs("div",{className:"flex justify-between text-sm",children:[B.jsx("span",{children:"Duration"}),B.jsxs("span",{children:[o," hours"]})]}),B.jsxs("div",{className:"flex justify-between text-sm",children:[B.jsx("span",{children:"Equipment"}),B.jsx("span",{className:"text-green-400",children:"Included"})]}),B.jsx("hr",{className:"my-3 border-gray-600"}),B.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[B.jsx("span",{children:"Total"}),B.jsx("span",{className:"text-orange-400",children:qo(kn())})]})]}),n&&t&&B.jsxs("div",{className:"mt-6 p-4 bg-gray-600 rounded-lg text-gray-200",children:[B.jsx("p",{className:"font-medium",children:Af(n)}),B.jsxs("p",{className:"font-medium",children:[Lu(t)," - ",Lu(tV(t,o))]})]})]})]})}),B.jsxs("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mb-6 border border-gray-700",children:[B.jsx("h2",{className:"text-2xl font-semibold text-orange-300 mb-6",children:" Select Equipment"}),B.jsxs("div",{className:"space-y-3 mb-6",children:[" ",B.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Players"}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[" ",Vn.map(J=>B.jsx(wE,{equipment:J,isSelected:f.some(oe=>oe.id===J.id),onToggle:ns},J.id))]}),B.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2 mt-4",children:"Mixers"}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[" ",ts.map(J=>B.jsx(wE,{equipment:J,isSelected:f.some(oe=>oe.id===J.id),onToggle:ns},J.id))]})]})]}),B.jsxs("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mb-6 border border-gray-700",children:[B.jsx("h2",{className:"text-2xl font-semibold text-orange-300 mb-6",children:" Select Payment Method"}),B.jsxs("div",{className:"space-y-3",children:[B.jsx(bE,{value:"online",label:"Online Payment",selected:$,onSelect:ae}),B.jsx(bE,{value:"cash",label:"Cash on Arrival",selected:$,onSelect:ae})]})]}),B.jsxs("div",{className:"text-center",children:[B.jsx("button",{onClick:Gn,disabled:!n||!t||it||!Y||((gi=di.find(J=>J.value===t))==null?void 0:gi.disabled),className:"px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-200 bg-gradient-to-r from-orange-600 to-orange-800 text-white hover:from-orange-700 hover:to-orange-900 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:bg-gray-600 disabled:from-gray-600 disabled:to-gray-700 disabled:text-gray-400 disabled:cursor-not-allowed disabled:transform-none",children:it?de?"Updating...":"Booking...":de?` Update Booking - ${qo(kn())}`:` Book DJ Studio - ${qo(kn())}`}),de&&B.jsx("button",{onClick:()=>ge(null),className:"ml-4 px-6 py-3 bg-gray-700 text-gray-300 rounded-xl font-semibold hover:bg-gray-600",children:"Cancel Edit"})]}),Y&&B.jsxs("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mt-6 border border-gray-700",children:[B.jsx("h2",{className:"text-2xl font-semibold text-orange-300 mb-6",children:" Your Bookings"}),it&&p.length===0?B.jsx("p",{className:"text-gray-400",children:"Loading bookings..."}):p.length>0?B.jsx("div",{className:"space-y-4",children:p.map(J=>B.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center border border-gray-600",children:[B.jsxs("div",{className:"flex-grow mb-4 sm:mb-0",children:[B.jsxs("p",{className:"font-medium text-gray-100",children:[Af(J.date)," at ",Lu(J.time)]}),B.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Payment: ",J.paymentMethod," - ",B.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${J.paymentStatus==="paid"?"bg-green-700 text-green-200":"bg-yellow-700 text-yellow-200"}`,children:J.paymentStatus})]})]}),B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("p",{className:"font-bold text-orange-400",children:qo(J.total)}),B.jsx("button",{onClick:()=>na(J),className:"px-3 py-1.5 bg-orange-500 text-white rounded-lg text-sm hover:bg-orange-600",children:"Edit"}),B.jsx("button",{onClick:()=>Ni(J),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700",children:"Cancel"})]})]},J.id))}):B.jsx("p",{className:"text-gray-400",children:"No bookings yet. Make one above!"})]}),B.jsx(nV,{show:ar,onClose:()=>ui(!1),isLoginMode:ci,setIsLoginMode:or,email:es,setEmail:In,password:Qa,setPassword:Xs,handleAuthAction:Js,handleGoogleSignIn:ea,handleGuestLogin:Fn,authError:sr}),B.jsx(iV,{show:Tl,onClose:()=>hi(!1),newDisplayName:fi,setNewDisplayName:lr,handleUpdateProfile:ta,profileLoading:vt,profileError:nn}),B.jsx(rV,{show:E,onClose:()=>w(!1),booking:D,isUpdate:!!de}),B.jsx(sV,{show:ze,onClose:()=>w(!1),booking:Me,onConfirm:is})]})})}N1.createRoot(document.getElementById("root")).render(B.jsx(w1.StrictMode,{children:B.jsx(aV,{})}))});export default oV();
