(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function c0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vd={exports:{}},vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function cb(){if(v_)return vl;v_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return vl.Fragment=t,vl.jsx=n,vl.jsxs=n,vl}var E_;function hb(){return E_||(E_=1,vd.exports=cb()),vd.exports}var D=hb(),Ed={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function fb(){if(T_)return Ct;T_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,it={};function tt(N,Y,nt){this.props=N,this.context=Y,this.refs=it,this.updater=nt||F}tt.prototype.isReactComponent={},tt.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},tt.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Tt(){}Tt.prototype=tt.prototype;function ct(N,Y,nt){this.props=N,this.context=Y,this.refs=it,this.updater=nt||F}var ht=ct.prototype=new Tt;ht.constructor=ct,J(ht,tt.prototype),ht.isPureReactComponent=!0;var Ot=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},wt=Object.prototype.hasOwnProperty;function M(N,Y,nt,W,at,mt){return nt=mt.ref,{$$typeof:r,type:N,key:Y,ref:nt!==void 0?nt:null,props:mt}}function b(N,Y){return M(N.type,Y,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function O(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(nt){return Y[nt]})}var V=/\/+/g;function k(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):Y.toString(36)}function I(){}function Pt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function oe(N,Y,nt,W,at){var mt=typeof N;(mt==="undefined"||mt==="boolean")&&(N=null);var At=!1;if(N===null)At=!0;else switch(mt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(N.$$typeof){case r:case t:At=!0;break;case T:return At=N._init,oe(At(N._payload),Y,nt,W,at)}}if(At)return at=at(N),At=W===""?"."+k(N,0):W,Ot(at)?(nt="",At!=null&&(nt=At.replace(V,"$&/")+"/"),oe(at,Y,nt,"",function(_n){return _n})):at!=null&&(R(at)&&(at=b(at,nt+(at.key==null||N&&N.key===at.key?"":(""+at.key).replace(V,"$&/")+"/")+At)),Y.push(at)),1;At=0;var de=W===""?".":W+":";if(Ot(N))for(var jt=0;jt<N.length;jt++)W=N[jt],mt=de+k(W,jt),At+=oe(W,Y,nt,mt,at);else if(jt=C(N),typeof jt=="function")for(N=jt.call(N),jt=0;!(W=N.next()).done;)W=W.value,mt=de+k(W,jt++),At+=oe(W,Y,nt,mt,at);else if(mt==="object"){if(typeof N.then=="function")return oe(Pt(N),Y,nt,W,at);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return At}function q(N,Y,nt){if(N==null)return N;var W=[],at=0;return oe(N,W,"","",function(mt){return Y.call(nt,mt,at++)}),W}function rt(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(nt){(N._status===0||N._status===-1)&&(N._status=1,N._result=nt)},function(nt){(N._status===0||N._status===-1)&&(N._status=2,N._result=nt)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var ut=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Lt(){}return Ct.Children={map:q,forEach:function(N,Y,nt){q(N,function(){Y.apply(this,arguments)},nt)},count:function(N){var Y=0;return q(N,function(){Y++}),Y},toArray:function(N){return q(N,function(Y){return Y})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ct.Component=tt,Ct.Fragment=n,Ct.Profiler=l,Ct.PureComponent=ct,Ct.StrictMode=s,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(N){return _t.H.useMemoCache(N)}},Ct.cache=function(N){return function(){return N.apply(null,arguments)}},Ct.cloneElement=function(N,Y,nt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=J({},N.props),at=N.key,mt=void 0;if(Y!=null)for(At in Y.ref!==void 0&&(mt=void 0),Y.key!==void 0&&(at=""+Y.key),Y)!wt.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(W[At]=Y[At]);var At=arguments.length-2;if(At===1)W.children=nt;else if(1<At){for(var de=Array(At),jt=0;jt<At;jt++)de[jt]=arguments[jt+2];W.children=de}return M(N.type,at,void 0,void 0,mt,W)},Ct.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Ct.createElement=function(N,Y,nt){var W,at={},mt=null;if(Y!=null)for(W in Y.key!==void 0&&(mt=""+Y.key),Y)wt.call(Y,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(at[W]=Y[W]);var At=arguments.length-2;if(At===1)at.children=nt;else if(1<At){for(var de=Array(At),jt=0;jt<At;jt++)de[jt]=arguments[jt+2];at.children=de}if(N&&N.defaultProps)for(W in At=N.defaultProps,At)at[W]===void 0&&(at[W]=At[W]);return M(N,mt,void 0,void 0,null,at)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(N){return{$$typeof:g,render:N}},Ct.isValidElement=R,Ct.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:rt}},Ct.memo=function(N,Y){return{$$typeof:_,type:N,compare:Y===void 0?null:Y}},Ct.startTransition=function(N){var Y=_t.T,nt={};_t.T=nt;try{var W=N(),at=_t.S;at!==null&&at(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Lt,ut)}catch(mt){ut(mt)}finally{_t.T=Y}},Ct.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},Ct.use=function(N){return _t.H.use(N)},Ct.useActionState=function(N,Y,nt){return _t.H.useActionState(N,Y,nt)},Ct.useCallback=function(N,Y){return _t.H.useCallback(N,Y)},Ct.useContext=function(N){return _t.H.useContext(N)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(N,Y){return _t.H.useDeferredValue(N,Y)},Ct.useEffect=function(N,Y,nt){var W=_t.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(N,Y)},Ct.useId=function(){return _t.H.useId()},Ct.useImperativeHandle=function(N,Y,nt){return _t.H.useImperativeHandle(N,Y,nt)},Ct.useInsertionEffect=function(N,Y){return _t.H.useInsertionEffect(N,Y)},Ct.useLayoutEffect=function(N,Y){return _t.H.useLayoutEffect(N,Y)},Ct.useMemo=function(N,Y){return _t.H.useMemo(N,Y)},Ct.useOptimistic=function(N,Y){return _t.H.useOptimistic(N,Y)},Ct.useReducer=function(N,Y,nt){return _t.H.useReducer(N,Y,nt)},Ct.useRef=function(N){return _t.H.useRef(N)},Ct.useState=function(N){return _t.H.useState(N)},Ct.useSyncExternalStore=function(N,Y,nt){return _t.H.useSyncExternalStore(N,Y,nt)},Ct.useTransition=function(){return _t.H.useTransition()},Ct.version="19.1.0",Ct}var A_;function hm(){return A_||(A_=1,Ed.exports=fb()),Ed.exports}var yt=hm();const db=c0(yt);var Td={exports:{}},El={},Ad={exports:{}},bd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function mb(){return b_||(b_=1,function(r){function t(q,rt){var ut=q.length;q.push(rt);t:for(;0<ut;){var Lt=ut-1>>>1,N=q[Lt];if(0<l(N,rt))q[Lt]=rt,q[ut]=N,ut=Lt;else break t}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var rt=q[0],ut=q.pop();if(ut!==rt){q[0]=ut;t:for(var Lt=0,N=q.length,Y=N>>>1;Lt<Y;){var nt=2*(Lt+1)-1,W=q[nt],at=nt+1,mt=q[at];if(0>l(W,ut))at<N&&0>l(mt,W)?(q[Lt]=mt,q[at]=ut,Lt=at):(q[Lt]=W,q[nt]=ut,Lt=nt);else if(at<N&&0>l(mt,ut))q[Lt]=mt,q[at]=ut,Lt=at;else break t}}return rt}function l(q,rt){var ut=q.sortIndex-rt.sortIndex;return ut!==0?ut:q.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],_=[],T=1,w=null,C=3,F=!1,J=!1,it=!1,tt=!1,Tt=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Ot(q){for(var rt=n(_);rt!==null;){if(rt.callback===null)s(_);else if(rt.startTime<=q)s(_),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=n(_)}}function _t(q){if(it=!1,Ot(q),!J)if(n(p)!==null)J=!0,wt||(wt=!0,k());else{var rt=n(_);rt!==null&&oe(_t,rt.startTime-q)}}var wt=!1,M=-1,b=5,R=-1;function O(){return tt?!0:!(r.unstable_now()-R<b)}function V(){if(tt=!1,wt){var q=r.unstable_now();R=q;var rt=!0;try{t:{J=!1,it&&(it=!1,ct(M),M=-1),F=!0;var ut=C;try{e:{for(Ot(q),w=n(p);w!==null&&!(w.expirationTime>q&&O());){var Lt=w.callback;if(typeof Lt=="function"){w.callback=null,C=w.priorityLevel;var N=Lt(w.expirationTime<=q);if(q=r.unstable_now(),typeof N=="function"){w.callback=N,Ot(q),rt=!0;break e}w===n(p)&&s(p),Ot(q)}else s(p);w=n(p)}if(w!==null)rt=!0;else{var Y=n(_);Y!==null&&oe(_t,Y.startTime-q),rt=!1}}break t}finally{w=null,C=ut,F=!1}rt=void 0}}finally{rt?k():wt=!1}}}var k;if(typeof ht=="function")k=function(){ht(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Pt=I.port2;I.port1.onmessage=V,k=function(){Pt.postMessage(null)}}else k=function(){Tt(V,0)};function oe(q,rt){M=Tt(function(){q(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(q){switch(C){case 1:case 2:case 3:var rt=3;break;default:rt=C}var ut=C;C=rt;try{return q()}finally{C=ut}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(q,rt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ut=C;C=q;try{return rt()}finally{C=ut}},r.unstable_scheduleCallback=function(q,rt,ut){var Lt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Lt+ut:Lt):ut=Lt,q){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ut+N,q={id:T++,callback:rt,priorityLevel:q,startTime:ut,expirationTime:N,sortIndex:-1},ut>Lt?(q.sortIndex=ut,t(_,q),n(p)===null&&q===n(_)&&(it?(ct(M),M=-1):it=!0,oe(_t,ut-Lt))):(q.sortIndex=N,t(p,q),J||F||(J=!0,wt||(wt=!0,k()))),q},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(q){var rt=C;return function(){var ut=C;C=rt;try{return q.apply(this,arguments)}finally{C=ut}}}}(bd)),bd}var S_;function gb(){return S_||(S_=1,Ad.exports=mb()),Ad.exports}var Sd={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function pb(){if(w_)return tn;w_=1;var r=hm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,T)},tn.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},tn.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:F}):T==="script"&&s.d.X(p,{crossOrigin:w,integrity:C,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},tn.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},tn.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},tn.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,_){return p(_)},tn.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},tn.useFormStatus=function(){return f.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var R_;function yb(){if(R_)return Sd.exports;R_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Sd.exports=pb(),Sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function _b(){if(I_)return El;I_=1;var r=gb(),t=hm(),n=yb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===o)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=d;break}if(E===o){v=!0,o=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,o=h;break}if(E===o){v=!0,o=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),ct=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Pt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case tt:return"Profiler";case it:return"StrictMode";case _t:return"Suspense";case wt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case ht:return(e.displayName||"Context")+".Provider";case ct:return(e._context.displayName||"Context")+".Consumer";case Ot:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return i=e.displayName||null,i!==null?i:Pt(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return Pt(e(i))}catch{}}return null}var oe=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Lt=[],N=-1;function Y(e){return{current:e}}function nt(e){0>N||(e.current=Lt[N],Lt[N]=null,N--)}function W(e,i){N++,Lt[N]=e.current,e.current=i}var at=Y(null),mt=Y(null),At=Y(null),de=Y(null);function jt(e,i){switch(W(At,i),W(mt,e),W(at,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Ky(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Ky(i),e=Yy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(at),W(at,e)}function _n(){nt(at),nt(mt),nt(At)}function fn(e){e.memoizedState!==null&&W(de,e);var i=at.current,a=Yy(i,e.type);i!==a&&(W(mt,e),W(at,a))}function Cn(e){mt.current===e&&(nt(at),nt(mt)),de.current===e&&(nt(de),ml._currentValue=ut)}var Nn=Object.prototype.hasOwnProperty,Ni=r.unstable_scheduleCallback,Di=r.unstable_cancelCallback,xi=r.unstable_shouldYield,Gn=r.unstable_requestPaint,Te=r.unstable_now,Qn=r.unstable_getCurrentPriorityLevel,ri=r.unstable_ImmediatePriority,Ze=r.unstable_UserBlockingPriority,an=r.unstable_NormalPriority,us=r.unstable_LowPriority,pr=r.unstable_IdlePriority,cs=r.log,Dn=r.unstable_setDisableYieldValue,le=null,Qt=null;function Je(e){if(typeof cs=="function"&&Dn(e),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(le,e)}catch{}}var Pe=Math.clz32?Math.clz32:Oi,na=Math.log,_o=Math.LN2;function Oi(e){return e>>>=0,e===0?32:31-(na(e)/_o|0)|0}var Mi=256,Vi=4194304;function dn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yr(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=dn(o):(v&=E,v!==0?h=dn(v):a||(a=E&~e,a!==0&&(h=dn(a))))):(E=o&~d,E!==0?h=dn(E):v!==0?h=dn(v):a||(a=o&~e,a!==0&&(h=dn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Pi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function hs(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G(){var e=Mi;return Mi<<=1,(Mi&4194048)===0&&(Mi=256),e}function It(){var e=Vi;return Vi<<=1,(Vi&62914560)===0&&(Vi=4194304),e}function Ft(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function re(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function me(e,i,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,S=e.expirationTimes,j=e.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Pe(a),X=1<<Q;E[Q]=0,S[Q]=-1;var z=j[Q];if(z!==null)for(j[Q]=null,Q=0;Q<z.length;Q++){var B=z[Q];B!==null&&(B.lane&=-536870913)}a&=~X}o!==0&&se(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function se(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Pe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function si(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Pe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function ai(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Kn(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:d_(e.type))}function eu(e,i){var a=rt.p;try{return rt.p=e,i()}finally{rt.p=a}}var ue=Math.random().toString(36).slice(2),Ce="__reactFiber$"+ue,Ae="__reactProps$"+ue,xn="__reactContainer$"+ue,vo="__reactEvents$"+ue,Th="__reactListeners$"+ue,_r="__reactHandles$"+ue,nu="__reactResources$"+ue,fs="__reactMarker$"+ue;function vr(e){delete e[Ce],delete e[Ae],delete e[vo],delete e[Th],delete e[_r]}function Ui(e){var i=e[Ce];if(i)return i;for(var a=e.parentNode;a;){if(i=a[xn]||a[Ce]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Jy(e);e!==null;){if(a=e[Ce])return a;e=Jy(e)}return i}e=a,a=e.parentNode}return null}function oi(e){if(e=e[Ce]||e[xn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function li(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function on(e){var i=e[nu];return i||(i=e[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ye(e){e[fs]=!0}var Eo=new Set,ia={};function Yn(e,i){Li(e,i),Li(e+"Capture",i)}function Li(e,i){for(ia[e]=i,e=0;e<i.length;e++)Eo.add(i[e])}var iu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ru={},ds={};function su(e){return Nn.call(ds,e)?!0:Nn.call(ru,e)?!1:iu.test(e)?ds[e]=!0:(ru[e]=!0,!1)}function Er(e,i,a){if(su(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ui(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function qe(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var ms,au;function ji(e){if(ms===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ms=i&&i[1]||"",au=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ms+e+au}var ra=!1;function sa(e,i){if(!e||ra)return"";ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var z=B}Reflect.construct(e,[],X)}else{try{X.call()}catch(B){z=B}e.call(X.prototype)}}else{try{throw Error()}catch(B){z=B}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var S=v.split(`
`),j=E.split(`
`);for(h=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===S.length||h===j.length)for(o=S.length-1,h=j.length-1;1<=o&&0<=h&&S[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(S[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||S[o]!==j[h]){var Q=`
`+S[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{ra=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ji(a):""}function To(e){switch(e.tag){case 26:case 27:case 5:return ji(e.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return sa(e.type,!1);case 11:return sa(e.type.render,!1);case 1:return sa(e.type,!0);case 31:return ji("Activity");default:return""}}function aa(e){try{var i="";do i+=To(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ln(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ao(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ah(e){var i=Ao(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function oa(e){e._valueTracker||(e._valueTracker=Ah(e))}function bo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=Ao(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bh=/[\n"\\]/g;function be(e){return e.replace(bh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function vn(e,i,a,o,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ln(i)):e.value!==""+ln(i)&&(e.value=""+ln(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Tr(e,v,ln(i)):a!=null?Tr(e,v,ln(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ln(E):e.removeAttribute("name")}function ps(e,i,a,o,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+ln(a):"",i=i!=null?""+ln(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Tr(e,i,a){i==="number"&&gs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zi(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+ln(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Jt(e,i,a){if(i!=null&&(i=""+ln(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+ln(a):""}function ys(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(oe(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=ln(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function On(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var _s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ou(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||_s.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function So(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&ou(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&ou(e,d,i[d])}function wo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return wh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Bi=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qi=null,Hi=null;function Ro(e){var i=oi(e);if(i&&(e=i.stateNode)){var a=e[Ae]||null;t:switch(e=i.stateNode,i.type){case"input":if(vn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+be(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Ae]||null;if(!h)throw Error(s(90));vn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&bo(o)}break t;case"textarea":Jt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&zi(e,!!a.multiple,i,!1)}}}var ci=!1;function lu(e,i,a){if(ci)return e(i,a);ci=!0;try{var o=e(i);return o}finally{if(ci=!1,(qi!==null||Hi!==null)&&(ec(),qi&&(i=qi,e=Hi,Hi=qi=null,Ro(i),e)))for(i=0;i<e.length;i++)Ro(e[i])}}function vs(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Ae]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if(Xn)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Vn=!1}var hi=null,Ar=null,Fi=null;function Io(){if(Fi)return Fi;var e,i=Ar,a=i.length,o,h="value"in hi?hi.value:hi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return Fi=h.slice(e,1<o?1-o:void 0)}function fi(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function di(){return!0}function Co(){return!1}function ke(e){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?di:Co,this.isPropagationStopped=Co,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),i}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=ke(Yt),Ts=T({},Yt,{view:0,detail:0}),uu=ke(Ts),ca,ha,mi,As=T({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(ca=e.screenX-mi.screenX,ha=e.screenY-mi.screenY):ha=ca=0,mi=e),ca)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Pn=ke(As),cu=T({},As,{dataTransfer:0}),Rh=ke(cu),bs=T({},Ts,{relatedTarget:0}),fa=ke(bs),No=T({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),da=ke(No),hu=T({},Yt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ma=ke(hu),Ih=T({},Yt,{data:0}),Do=ke(Ih),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=du[e])?!!i[e]:!1}function ws(){return xo}var mu=T({},Ts,{key:function(e){if(e.key){var i=Ss[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(e){return e.type==="keypress"?fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ga=ke(mu),gu=T({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oo=ke(gu),Gi=T({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),pu=ke(Gi),yu=T({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=ke(yu),vu=T({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pa=ke(vu),un=T({},Yt,{newState:0,oldState:0}),Eu=ke(un),Tu=[9,13,27,32],gi=Xn&&"CompositionEvent"in window,u=null;Xn&&"documentMode"in document&&(u=document.documentMode);var m=Xn&&"TextEvent"in window&&!u,y=Xn&&(!gi||u&&8<u&&11>=u),A=" ",U=!1;function H(e,i){switch(e){case"keyup":return Tu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zt=!1;function Ne(e,i){switch(e){case"compositionend":return et(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return e=i.data,e===A&&U?null:e;default:return null}}function Bt(e,i){if(zt)return e==="compositionend"||!gi&&H(e,i)?(e=Io(),Fi=Ar=hi=null,zt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ue[e.type]:i==="textarea"}function Qi(e,i,a,o){qi?Hi?Hi.push(o):Hi=[o]:qi=o,i=oc(i,"onChange"),0<i.length&&(a=new ua("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var He=null,pi=null;function Mo(e){qy(e,0)}function Au(e){var i=li(e);if(bo(i))return e}function ug(e,i){if(e==="change")return i}var cg=!1;if(Xn){var Ch;if(Xn){var Nh="oninput"in document;if(!Nh){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),Nh=typeof hg.oninput=="function"}Ch=Nh}else Ch=!1;cg=Ch&&(!document.documentMode||9<document.documentMode)}function fg(){He&&(He.detachEvent("onpropertychange",dg),pi=He=null)}function dg(e){if(e.propertyName==="value"&&Au(pi)){var i=[];Qi(i,pi,e,Mn(e)),lu(Mo,i)}}function zT(e,i,a){e==="focusin"?(fg(),He=i,pi=a,He.attachEvent("onpropertychange",dg)):e==="focusout"&&fg()}function BT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(pi)}function qT(e,i){if(e==="click")return Au(i)}function HT(e,i){if(e==="input"||e==="change")return Au(i)}function FT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var En=typeof Object.is=="function"?Object.is:FT;function Vo(e,i){if(En(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Nn.call(i,h)||!En(e[h],i[h]))return!1}return!0}function mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gg(e,i){var a=mg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=mg(a)}}function pg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?pg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function yg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=gs(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=gs(e.document)}return i}function Dh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var GT=Xn&&"documentMode"in document&&11>=document.documentMode,ya=null,xh=null,Po=null,Oh=!1;function _g(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Oh||ya==null||ya!==gs(o)||(o=ya,"selectionStart"in o&&Dh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&Vo(Po,o)||(Po=o,o=oc(xh,"onSelect"),0<o.length&&(i=new ua("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ya)))}function Rs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var _a={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Mh={},vg={};Xn&&(vg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Is(e){if(Mh[e])return Mh[e];if(!_a[e])return e;var i=_a[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in vg)return Mh[e]=i[a];return e}var Eg=Is("animationend"),Tg=Is("animationiteration"),Ag=Is("animationstart"),QT=Is("transitionrun"),KT=Is("transitionstart"),YT=Is("transitioncancel"),bg=Is("transitionend"),Sg=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function $n(e,i){Sg.set(e,i),Yn(i,[e])}var wg=new WeakMap;function kn(e,i){if(typeof e=="object"&&e!==null){var a=wg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:aa(i)},wg.set(e,i),i)}return{value:e,source:i,stack:aa(i)}}var Un=[],va=0,Ph=0;function bu(){for(var e=va,i=Ph=va=0;i<e;){var a=Un[i];Un[i++]=null;var o=Un[i];Un[i++]=null;var h=Un[i];Un[i++]=null;var d=Un[i];if(Un[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Rg(a,h,d)}}function Su(e,i,a,o){Un[va++]=e,Un[va++]=i,Un[va++]=a,Un[va++]=o,Ph|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function kh(e,i,a,o){return Su(e,i,a,o),wu(e)}function Ea(e,i){return Su(e,null,null,i),wu(e)}function Rg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Pe(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function wu(e){if(50<al)throw al=0,Hf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ta={};function XT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,i,a,o){return new XT(e,i,a,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,i){var a=e.alternate;return a===null?(a=Tn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ig(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ru(e,i,a,o,h,d){var v=0;if(o=e,typeof e=="function")Uh(e)&&(v=1);else if(typeof e=="string")v=ZA(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Tn(31,a,i,h),e.elementType=R,e.lanes=d,e;case J:return Cs(a.children,h,d,i);case it:v=8,h|=24;break;case tt:return e=Tn(12,a,i,h|2),e.elementType=tt,e.lanes=d,e;case _t:return e=Tn(13,a,i,h),e.elementType=_t,e.lanes=d,e;case wt:return e=Tn(19,a,i,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:case ht:v=10;break t;case ct:v=9;break t;case Ot:v=11;break t;case M:v=14;break t;case b:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=Tn(v,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function Cs(e,i,a,o){return e=Tn(7,e,o,i),e.lanes=a,e}function Lh(e,i,a){return e=Tn(6,e,null,i),e.lanes=a,e}function jh(e,i,a){return i=Tn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Aa=[],ba=0,Iu=null,Cu=0,Ln=[],jn=0,Ns=null,Yi=1,Xi="";function Ds(e,i){Aa[ba++]=Cu,Aa[ba++]=Iu,Iu=e,Cu=i}function Cg(e,i,a){Ln[jn++]=Yi,Ln[jn++]=Xi,Ln[jn++]=Ns,Ns=e;var o=Yi;e=Xi;var h=32-Pe(o)-1;o&=~(1<<h),a+=1;var d=32-Pe(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Yi=1<<32-Pe(i)+h|a<<h|o,Xi=d+e}else Yi=1<<d|a<<h|o,Xi=e}function zh(e){e.return!==null&&(Ds(e,1),Cg(e,1,0))}function Bh(e){for(;e===Iu;)Iu=Aa[--ba],Aa[ba]=null,Cu=Aa[--ba],Aa[ba]=null;for(;e===Ns;)Ns=Ln[--jn],Ln[jn]=null,Xi=Ln[--jn],Ln[jn]=null,Yi=Ln[--jn],Ln[jn]=null}var cn=null,ge=null,Kt=!1,xs=null,yi=!1,qh=Error(s(519));function Os(e){var i=Error(s(418,""));throw Lo(kn(i,e)),qh}function Ng(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ce]=e,i[Ae]=o,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<ll.length;a++)Vt(ll[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),ps(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),oa(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),ys(i,o.value,o.defaultValue,o.children),oa(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Qy(i.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),o.onScroll!=null&&Vt("scroll",i),o.onScrollEnd!=null&&Vt("scrollend",i),o.onClick!=null&&(i.onclick=lc),i=!0):i=!1,i||Os(e)}function Dg(e){for(cn=e.return;cn;)switch(cn.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:cn=cn.return}}function ko(e){if(e!==cn)return!1;if(!Kt)return Dg(e),Kt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||sd(e.type,e.memoizedProps)),a=!a),a&&ge&&Os(e),Dg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ge=Jn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ge=null}}else i===27?(i=ge,Lr(e.type)?(e=ud,ud=null,ge=e):ge=i):ge=cn?Jn(e.stateNode.nextSibling):null;return!0}function Uo(){ge=cn=null,Kt=!1}function xg(){var e=xs;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),xs=null),e}function Lo(e){xs===null?xs=[e]:xs.push(e)}var Hh=Y(null),Ms=null,$i=null;function br(e,i,a){W(Hh,i._currentValue),i._currentValue=a}function Zi(e){e._currentValue=Hh.current,nt(Hh)}function Fh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Gh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var S=0;S<i.length;S++)if(E.context===i[S]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Fh(d.return,a,e),o||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Fh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function jo(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;En(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===de.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&Gh(i,e,a,o),i.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vs(e){Ms=e,$i=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return Og(Ms,e)}function Du(e,i){return Ms===null&&Vs(e),Og(e,i)}function Og(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(e===null)throw Error(s(308));$i=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else $i=$i.next=i;return a}var $T=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},ZT=r.unstable_scheduleCallback,JT=r.unstable_NormalPriority,xe={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new $T,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&ZT(JT,function(){e.controller.abort()})}var Bo=null,Kh=0,Sa=0,wa=null;function WT(e,i){if(Bo===null){var a=Bo=[];Kh=0,Sa=$f(),wa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Kh++,i.then(Mg,Mg),i}function Mg(){if(--Kh===0&&Bo!==null){wa!==null&&(wa.status="fulfilled");var e=Bo;Bo=null,Sa=0,wa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function tA(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Vg=q.S;q.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&WT(e,i),Vg!==null&&Vg(e,i)};var Ps=Y(null);function Yh(){var e=Ps.current;return e!==null?e:ie.pooledCache}function xu(e,i){i===null?W(Ps,Ps.current):W(Ps,i.pool)}function Pg(){var e=Yh();return e===null?null:{parent:xe._currentValue,pool:e}}var qo=Error(s(460)),kg=Error(s(474)),Ou=Error(s(542)),Xh={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mu(){}function Lg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Mu,Mu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,zg(e),e;default:if(typeof i.status=="string")i.then(Mu,Mu);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,zg(e),e}throw Ho=i,qo}}var Ho=null;function jg(){if(Ho===null)throw Error(s(459));var e=Ho;return Ho=null,e}function zg(e){if(e===qo||e===Ou)throw Error(s(483))}var Sr=!1;function $h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,($t&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=wu(e),Rg(e,null,a),i}return Su(e,o,i,a),wu(e)}function Fo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,si(e,a)}}function Jh(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Wh=!1;function Go(){if(Wh){var e=wa;if(e!==null)throw e}}function Qo(e,i,a,o){Wh=!1;var h=e.updateQueue;Sr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var S=E,j=S.next;S.next=null,v===null?d=j:v.next=j,v=S;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==v&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=S))}if(d!==null){var X=h.baseState;v=0,Q=j=S=null,E=d;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(qt&z)===z:(o&z)===z){z!==0&&z===Sa&&(Wh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var bt=e,gt=E;z=i;var ee=a;switch(gt.tag){case 1:if(bt=gt.payload,typeof bt=="function"){X=bt.call(ee,X,z);break t}X=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=gt.payload,z=typeof bt=="function"?bt.call(ee,X,z):bt,z==null)break t;X=T({},X,z);break t;case 2:Sr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=B,S=X):Q=Q.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);Q===null&&(S=X),h.baseState=S,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Vr|=v,e.lanes=v,e.memoizedState=X}}function Bg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function qg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Bg(a[e],i)}var Ra=Y(null),Vu=Y(0);function Hg(e,i){e=rr,W(Vu,e),W(Ra,i),rr=e|i.baseLanes}function tf(){W(Vu,rr),W(Ra,Ra.current)}function ef(){rr=Vu.current,nt(Ra),nt(Vu)}var Ir=0,Nt=null,Wt=null,Se=null,Pu=!1,Ia=!1,ks=!1,ku=0,Ko=0,Ca=null,eA=0;function _e(){throw Error(s(321))}function nf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!En(e[a],i[a]))return!1;return!0}function rf(e,i,a,o,h,d){return Ir=d,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=e===null||e.memoizedState===null?Rp:Ip,ks=!1,d=a(o,h),ks=!1,Ia&&(d=Gg(i,a,o,h)),Fg(e),d}function Fg(e){q.H=qu;var i=Wt!==null&&Wt.next!==null;if(Ir=0,Se=Wt=Nt=null,Pu=!1,Ko=0,Ca=null,i)throw Error(s(300));e===null||Le||(e=e.dependencies,e!==null&&Nu(e)&&(Le=!0))}function Gg(e,i,a,o){Nt=e;var h=0;do{if(Ia&&(Ca=null),Ko=0,Ia=!1,25<=h)throw Error(s(301));if(h+=1,Se=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=lA,d=i(a,o)}while(Ia);return d}function nA(){var e=q.H,i=e.useState()[0];return i=typeof i.then=="function"?Yo(i):i,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Nt.flags|=1024),i}function sf(){var e=ku!==0;return ku=0,e}function af(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function of(e){if(Pu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Pu=!1}Ir=0,Se=Wt=Nt=null,Ia=!1,Ko=ku=0,Ca=null}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Nt.memoizedState=Se=e:Se=Se.next=e,Se}function we(){if(Wt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var i=Se===null?Nt.memoizedState:Se.next;if(i!==null)Se=i,Wt=e;else{if(e===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Se===null?Nt.memoizedState=Se=e:Se=Se.next=e}return Se}function lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(e){var i=Ko;return Ko+=1,Ca===null&&(Ca=[]),e=Lg(Ca,e,i),i=Nt,(Se===null?i.memoizedState:Se.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?Rp:Ip),e}function Uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yo(e);if(e.$$typeof===ht)return We(e)}throw Error(s(438,String(e)))}function uf(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=lf(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=O;return i.index++,a}function Ji(e,i){return typeof i=="function"?i(e):i}function Lu(e){var i=we();return cf(i,Wt,e)}function cf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,S=null,j=i,Q=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(qt&X)===X:(Ir&X)===X){var z=j.revertLane;if(z===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Sa&&(Q=!0);else if((Ir&z)===z){j=j.next,z===Sa&&(Q=!0);continue}else X={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},S===null?(E=S=X,v=d):S=S.next=X,Nt.lanes|=z,Vr|=z;X=j.action,ks&&a(d,X),d=j.hasEagerState?j.eagerState:a(d,X)}else z={lane:X,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},S===null?(E=S=z,v=d):S=S.next=z,Nt.lanes|=X,Vr|=X;j=j.next}while(j!==null&&j!==i);if(S===null?v=d:S.next=E,!En(d,e.memoizedState)&&(Le=!0,Q&&(a=wa,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=S,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function hf(e){var i=we(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);En(d,i.memoizedState)||(Le=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Qg(e,i,a){var o=Nt,h=we(),d=Kt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!En((Wt||h).memoizedState,a);v&&(h.memoizedState=a,Le=!0),h=h.queue;var E=Xg.bind(null,o,h,e);if(Xo(2048,8,E,[e]),h.getSnapshot!==i||v||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Na(9,ju(),Yg.bind(null,o,h,a,i),null),ie===null)throw Error(s(349));d||(Ir&124)!==0||Kg(o,i,a)}return a}function Kg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=lf(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Yg(e,i,a,o){i.value=a,i.getSnapshot=o,$g(i)&&Zg(e)}function Xg(e,i,a){return a(function(){$g(i)&&Zg(e)})}function $g(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!En(e,a)}catch{return!0}}function Zg(e){var i=Ea(e,2);i!==null&&Rn(i,e,2)}function ff(e){var i=mn();if(typeof e=="function"){var a=e;if(e=a(),ks){Je(!0);try{a()}finally{Je(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},i}function Jg(e,i,a,o){return e.baseState=a,cf(e,Wt,typeof o=="function"?o:Ji)}function iA(e,i,a,o,h){if(Bu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};q.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Wg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Wg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=q.T,v={};q.T=v;try{var E=a(h,o),S=q.S;S!==null&&S(v,E),tp(e,i,E)}catch(j){df(e,i,j)}finally{q.T=d}}else try{d=a(h,o),tp(e,i,d)}catch(j){df(e,i,j)}}function tp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){ep(e,i,o)},function(o){return df(e,i,o)}):ep(e,i,a)}function ep(e,i,a){i.status="fulfilled",i.value=a,np(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Wg(e,a)))}function df(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,np(i),i=i.next;while(i!==o)}e.action=null}function np(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function ip(e,i){return i}function rp(e,i){if(Kt){var a=ie.formState;if(a!==null){t:{var o=Nt;if(Kt){if(ge){e:{for(var h=ge,d=yi;h.nodeType!==8;){if(!d){h=null;break e}if(h=Jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ge=Jn(h.nextSibling),o=h.data==="F!";break t}}Os(o)}o=!1}o&&(i=a[0])}}return a=mn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:i},a.queue=o,a=bp.bind(null,Nt,o),o.dispatch=a,o=ff(!1),d=_f.bind(null,Nt,!1,o.queue),o=mn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=iA.bind(null,Nt,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function sp(e){var i=we();return ap(i,Wt,e)}function ap(e,i,a){if(i=cf(e,i,ip)[0],e=Lu(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Yo(i)}catch(v){throw v===qo?Ou:v}else o=i;i=we();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,Na(9,ju(),rA.bind(null,h,a),null)),[o,d,e]}function rA(e,i){e.action=i}function op(e){var i=we(),a=Wt;if(a!==null)return ap(i,a,e);we(),i=i.memoizedState,a=we();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Na(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=lf(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function ju(){return{destroy:void 0,resource:void 0}}function lp(){return we().memoizedState}function zu(e,i,a,o){var h=mn();o=o===void 0?null:o,Nt.flags|=e,h.memoizedState=Na(1|i,ju(),a,o)}function Xo(e,i,a,o){var h=we();o=o===void 0?null:o;var d=h.memoizedState.inst;Wt!==null&&o!==null&&nf(o,Wt.memoizedState.deps)?h.memoizedState=Na(i,d,a,o):(Nt.flags|=e,h.memoizedState=Na(1|i,d,a,o))}function up(e,i){zu(8390656,8,e,i)}function cp(e,i){Xo(2048,8,e,i)}function hp(e,i){return Xo(4,2,e,i)}function fp(e,i){return Xo(4,4,e,i)}function dp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function mp(e,i,a){a=a!=null?a.concat([e]):null,Xo(4,4,dp.bind(null,i,e),a)}function mf(){}function gp(e,i){var a=we();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&nf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function pp(e,i){var a=we();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&nf(i,o[1]))return o[0];if(o=e(),ks){Je(!0);try{e()}finally{Je(!1)}}return a.memoizedState=[o,i],o}function gf(e,i,a){return a===void 0||(Ir&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=vy(),Nt.lanes|=e,Vr|=e,a)}function yp(e,i,a,o){return En(a,i)?a:Ra.current!==null?(e=gf(e,a,o),En(e,i)||(Le=!0),e):(Ir&42)===0?(Le=!0,e.memoizedState=a):(e=vy(),Nt.lanes|=e,Vr|=e,i)}function _p(e,i,a,o,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var v=q.T,E={};q.T=E,_f(e,!1,i,a);try{var S=h(),j=q.S;if(j!==null&&j(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var Q=tA(S,o);$o(e,i,Q,wn(e))}else $o(e,i,o,wn(e))}catch(X){$o(e,i,{then:function(){},status:"rejected",reason:X},wn())}finally{rt.p=d,q.T=v}}function sA(){}function pf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=vp(e).queue;_p(e,h,i,ut,a===null?sA:function(){return Ep(e),a(o)})}function vp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ut},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Ep(e){var i=vp(e).next.queue;$o(e,i,{},wn())}function yf(){return We(ml)}function Tp(){return we().memoizedState}function Ap(){return we().memoizedState}function aA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();e=wr(a);var o=Rr(i,e,a);o!==null&&(Rn(o,i,a),Fo(o,i,a)),i={cache:Qh()},e.payload=i;return}i=i.return}}function oA(e,i,a){var o=wn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Bu(e)?Sp(i,a):(a=kh(e,i,a,o),a!==null&&(Rn(a,e,o),wp(a,i,o)))}function bp(e,i,a){var o=wn();$o(e,i,a,o)}function $o(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))Sp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,En(E,v))return Su(e,i,h,0),ie===null&&bu(),!1}catch{}finally{}if(a=kh(e,i,h,o),a!==null)return Rn(a,e,o),wp(a,i,o),!0}return!1}function _f(e,i,a,o){if(o={lane:2,revertLane:$f(),action:o,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(i)throw Error(s(479))}else i=kh(e,a,o,2),i!==null&&Rn(i,e,2)}function Bu(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function Sp(e,i){Ia=Pu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function wp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,si(e,a)}}var qu={readContext:We,use:Uu,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},Rp={readContext:We,use:Uu,useCallback:function(e,i){return mn().memoizedState=[e,i===void 0?null:i],e},useContext:We,useEffect:up,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,zu(4194308,4,dp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return zu(4194308,4,e,i)},useInsertionEffect:function(e,i){zu(4,2,e,i)},useMemo:function(e,i){var a=mn();i=i===void 0?null:i;var o=e();if(ks){Je(!0);try{e()}finally{Je(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=mn();if(a!==void 0){var h=a(i);if(ks){Je(!0);try{a(i)}finally{Je(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=oA.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var i=mn();return e={current:e},i.memoizedState=e},useState:function(e){e=ff(e);var i=e.queue,a=bp.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:mf,useDeferredValue:function(e,i){var a=mn();return gf(a,e,i)},useTransition:function(){var e=ff(!1);return e=_p.bind(null,Nt,e.queue,!0,!1),mn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Nt,h=mn();if(Kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ie===null)throw Error(s(349));(qt&124)!==0||Kg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,up(Xg.bind(null,o,d,e),[e]),o.flags|=2048,Na(9,ju(),Yg.bind(null,o,d,a,i),null),a},useId:function(){var e=mn(),i=ie.identifierPrefix;if(Kt){var a=Xi,o=Yi;a=(o&~(1<<32-Pe(o)-1)).toString(32)+a,i=""+i+"R"+a,a=ku++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=eA++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:yf,useFormState:rp,useActionState:rp,useOptimistic:function(e){var i=mn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=_f.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:uf,useCacheRefresh:function(){return mn().memoizedState=aA.bind(null,Nt)}},Ip={readContext:We,use:Uu,useCallback:gp,useContext:We,useEffect:cp,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:Lu,useRef:lp,useState:function(){return Lu(Ji)},useDebugValue:mf,useDeferredValue:function(e,i){var a=we();return yp(a,Wt.memoizedState,e,i)},useTransition:function(){var e=Lu(Ji)[0],i=we().memoizedState;return[typeof e=="boolean"?e:Yo(e),i]},useSyncExternalStore:Qg,useId:Tp,useHostTransitionStatus:yf,useFormState:sp,useActionState:sp,useOptimistic:function(e,i){var a=we();return Jg(a,Wt,e,i)},useMemoCache:uf,useCacheRefresh:Ap},lA={readContext:We,use:Uu,useCallback:gp,useContext:We,useEffect:cp,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:hf,useRef:lp,useState:function(){return hf(Ji)},useDebugValue:mf,useDeferredValue:function(e,i){var a=we();return Wt===null?gf(a,e,i):yp(a,Wt.memoizedState,e,i)},useTransition:function(){var e=hf(Ji)[0],i=we().memoizedState;return[typeof e=="boolean"?e:Yo(e),i]},useSyncExternalStore:Qg,useId:Tp,useHostTransitionStatus:yf,useFormState:op,useActionState:op,useOptimistic:function(e,i){var a=we();return Wt!==null?Jg(a,Wt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:uf,useCacheRefresh:Ap},Da=null,Zo=0;function Hu(e){var i=Zo;return Zo+=1,Da===null&&(Da=[]),Lg(Da,e,i)}function Jo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Fu(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Cp(e){var i=e._init;return i(e._payload)}function Np(e){function i(P,x){if(e){var L=P.deletions;L===null?(P.deletions=[x],P.flags|=16):L.push(x)}}function a(P,x){if(!e)return null;for(;x!==null;)i(P,x),x=x.sibling;return null}function o(P){for(var x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function h(P,x){return P=Ki(P,x),P.index=0,P.sibling=null,P}function d(P,x,L){return P.index=L,e?(L=P.alternate,L!==null?(L=L.index,L<x?(P.flags|=67108866,x):L):(P.flags|=67108866,x)):(P.flags|=1048576,x)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,x,L,K){return x===null||x.tag!==6?(x=Lh(L,P.mode,K),x.return=P,x):(x=h(x,L),x.return=P,x)}function S(P,x,L,K){var ot=L.type;return ot===J?Q(P,x,L.props.children,K,L.key):x!==null&&(x.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Cp(ot)===x.type)?(x=h(x,L.props),Jo(x,L),x.return=P,x):(x=Ru(L.type,L.key,L.props,null,P.mode,K),Jo(x,L),x.return=P,x)}function j(P,x,L,K){return x===null||x.tag!==4||x.stateNode.containerInfo!==L.containerInfo||x.stateNode.implementation!==L.implementation?(x=jh(L,P.mode,K),x.return=P,x):(x=h(x,L.children||[]),x.return=P,x)}function Q(P,x,L,K,ot){return x===null||x.tag!==7?(x=Cs(L,P.mode,K,ot),x.return=P,x):(x=h(x,L),x.return=P,x)}function X(P,x,L){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Lh(""+x,P.mode,L),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case C:return L=Ru(x.type,x.key,x.props,null,P.mode,L),Jo(L,x),L.return=P,L;case F:return x=jh(x,P.mode,L),x.return=P,x;case b:var K=x._init;return x=K(x._payload),X(P,x,L)}if(oe(x)||k(x))return x=Cs(x,P.mode,L,null),x.return=P,x;if(typeof x.then=="function")return X(P,Hu(x),L);if(x.$$typeof===ht)return X(P,Du(P,x),L);Fu(P,x)}return null}function z(P,x,L,K){var ot=x!==null?x.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ot!==null?null:E(P,x,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return L.key===ot?S(P,x,L,K):null;case F:return L.key===ot?j(P,x,L,K):null;case b:return ot=L._init,L=ot(L._payload),z(P,x,L,K)}if(oe(L)||k(L))return ot!==null?null:Q(P,x,L,K,null);if(typeof L.then=="function")return z(P,x,Hu(L),K);if(L.$$typeof===ht)return z(P,x,Du(P,L),K);Fu(P,L)}return null}function B(P,x,L,K,ot){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return P=P.get(L)||null,E(x,P,""+K,ot);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case C:return P=P.get(K.key===null?L:K.key)||null,S(x,P,K,ot);case F:return P=P.get(K.key===null?L:K.key)||null,j(x,P,K,ot);case b:var xt=K._init;return K=xt(K._payload),B(P,x,L,K,ot)}if(oe(K)||k(K))return P=P.get(L)||null,Q(x,P,K,ot,null);if(typeof K.then=="function")return B(P,x,L,Hu(K),ot);if(K.$$typeof===ht)return B(P,x,L,Du(x,K),ot);Fu(x,K)}return null}function bt(P,x,L,K){for(var ot=null,xt=null,ft=x,pt=x=0,ze=null;ft!==null&&pt<L.length;pt++){ft.index>pt?(ze=ft,ft=null):ze=ft.sibling;var Gt=z(P,ft,L[pt],K);if(Gt===null){ft===null&&(ft=ze);break}e&&ft&&Gt.alternate===null&&i(P,ft),x=d(Gt,x,pt),xt===null?ot=Gt:xt.sibling=Gt,xt=Gt,ft=ze}if(pt===L.length)return a(P,ft),Kt&&Ds(P,pt),ot;if(ft===null){for(;pt<L.length;pt++)ft=X(P,L[pt],K),ft!==null&&(x=d(ft,x,pt),xt===null?ot=ft:xt.sibling=ft,xt=ft);return Kt&&Ds(P,pt),ot}for(ft=o(ft);pt<L.length;pt++)ze=B(ft,P,pt,L[pt],K),ze!==null&&(e&&ze.alternate!==null&&ft.delete(ze.key===null?pt:ze.key),x=d(ze,x,pt),xt===null?ot=ze:xt.sibling=ze,xt=ze);return e&&ft.forEach(function(Hr){return i(P,Hr)}),Kt&&Ds(P,pt),ot}function gt(P,x,L,K){if(L==null)throw Error(s(151));for(var ot=null,xt=null,ft=x,pt=x=0,ze=null,Gt=L.next();ft!==null&&!Gt.done;pt++,Gt=L.next()){ft.index>pt?(ze=ft,ft=null):ze=ft.sibling;var Hr=z(P,ft,Gt.value,K);if(Hr===null){ft===null&&(ft=ze);break}e&&ft&&Hr.alternate===null&&i(P,ft),x=d(Hr,x,pt),xt===null?ot=Hr:xt.sibling=Hr,xt=Hr,ft=ze}if(Gt.done)return a(P,ft),Kt&&Ds(P,pt),ot;if(ft===null){for(;!Gt.done;pt++,Gt=L.next())Gt=X(P,Gt.value,K),Gt!==null&&(x=d(Gt,x,pt),xt===null?ot=Gt:xt.sibling=Gt,xt=Gt);return Kt&&Ds(P,pt),ot}for(ft=o(ft);!Gt.done;pt++,Gt=L.next())Gt=B(ft,P,pt,Gt.value,K),Gt!==null&&(e&&Gt.alternate!==null&&ft.delete(Gt.key===null?pt:Gt.key),x=d(Gt,x,pt),xt===null?ot=Gt:xt.sibling=Gt,xt=Gt);return e&&ft.forEach(function(ub){return i(P,ub)}),Kt&&Ds(P,pt),ot}function ee(P,x,L,K){if(typeof L=="object"&&L!==null&&L.type===J&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case C:t:{for(var ot=L.key;x!==null;){if(x.key===ot){if(ot=L.type,ot===J){if(x.tag===7){a(P,x.sibling),K=h(x,L.props.children),K.return=P,P=K;break t}}else if(x.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Cp(ot)===x.type){a(P,x.sibling),K=h(x,L.props),Jo(K,L),K.return=P,P=K;break t}a(P,x);break}else i(P,x);x=x.sibling}L.type===J?(K=Cs(L.props.children,P.mode,K,L.key),K.return=P,P=K):(K=Ru(L.type,L.key,L.props,null,P.mode,K),Jo(K,L),K.return=P,P=K)}return v(P);case F:t:{for(ot=L.key;x!==null;){if(x.key===ot)if(x.tag===4&&x.stateNode.containerInfo===L.containerInfo&&x.stateNode.implementation===L.implementation){a(P,x.sibling),K=h(x,L.children||[]),K.return=P,P=K;break t}else{a(P,x);break}else i(P,x);x=x.sibling}K=jh(L,P.mode,K),K.return=P,P=K}return v(P);case b:return ot=L._init,L=ot(L._payload),ee(P,x,L,K)}if(oe(L))return bt(P,x,L,K);if(k(L)){if(ot=k(L),typeof ot!="function")throw Error(s(150));return L=ot.call(L),gt(P,x,L,K)}if(typeof L.then=="function")return ee(P,x,Hu(L),K);if(L.$$typeof===ht)return ee(P,x,Du(P,L),K);Fu(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,x!==null&&x.tag===6?(a(P,x.sibling),K=h(x,L),K.return=P,P=K):(a(P,x),K=Lh(L,P.mode,K),K.return=P,P=K),v(P)):a(P,x)}return function(P,x,L,K){try{Zo=0;var ot=ee(P,x,L,K);return Da=null,ot}catch(ft){if(ft===qo||ft===Ou)throw ft;var xt=Tn(29,ft,null,P.mode);return xt.lanes=K,xt.return=P,xt}finally{}}}var xa=Np(!0),Dp=Np(!1),zn=Y(null),_i=null;function Cr(e){var i=e.alternate;W(Oe,Oe.current&1),W(zn,e),_i===null&&(i===null||Ra.current!==null||i.memoizedState!==null)&&(_i=e)}function xp(e){if(e.tag===22){if(W(Oe,Oe.current),W(zn,e),_i===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(_i=e)}}else Nr()}function Nr(){W(Oe,Oe.current),W(zn,zn.current)}function Wi(e){nt(zn),_i===e&&(_i=null),nt(Oe)}var Oe=Y(0);function Gu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ld(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function vf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ef={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=wn(),h=wr(o);h.payload=i,a!=null&&(h.callback=a),i=Rr(e,h,o),i!==null&&(Rn(i,e,o),Fo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=wn(),h=wr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Rr(e,h,o),i!==null&&(Rn(i,e,o),Fo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=wn(),o=wr(a);o.tag=2,i!=null&&(o.callback=i),i=Rr(e,o,a),i!==null&&(Rn(i,e,a),Fo(i,e,a))}};function Op(e,i,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Vo(a,o)||!Vo(h,d):!0}function Mp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Ef.enqueueReplaceState(i,i.state,null)}function Us(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Vp(e){Qu(e)}function Pp(e){console.error(e)}function kp(e){Qu(e)}function Ku(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Up(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Tf(e,i,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ku(e,i)},a}function Lp(e){return e=wr(e),e.tag=3,e}function jp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){Up(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Up(i,a,o),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function uA(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&jo(i,a,h,!0),a=zn.current,a!==null){switch(a.tag){case 13:return _i===null?Gf():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Xh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Kf(e,o,h)),!1;case 22:return a.flags|=65536,o===Xh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Kf(e,o,h)),!1}throw Error(s(435,a.tag))}return Kf(e,o,h),Gf(),!1}if(Kt)return i=zn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==qh&&(e=Error(s(422),{cause:o}),Lo(kn(e,a)))):(o!==qh&&(i=Error(s(423),{cause:o}),Lo(kn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=kn(o,a),h=Tf(e.stateNode,o,h),Jh(e,h),pe!==4&&(pe=2)),!1;var d=Error(s(520),{cause:o});if(d=kn(d,a),sl===null?sl=[d]:sl.push(d),pe!==4&&(pe=2),i===null)return!0;o=kn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Tf(a.stateNode,o,e),Jh(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Lp(h),jp(h,e,a,o),Jh(a,h),!1}a=a.return}while(a!==null);return!1}var zp=Error(s(461)),Le=!1;function Fe(e,i,a,o){i.child=e===null?Dp(i,null,a,o):xa(i,e.child,a,o)}function Bp(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Vs(i),o=rf(e,i,a,v,d,h),E=sf(),e!==null&&!Le?(af(e,i,h),tr(e,i,h)):(Kt&&E&&zh(i),i.flags|=1,Fe(e,i,o,h),i.child)}function qp(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!Uh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Hp(e,i,d,o,h)):(e=Ru(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Nf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Vo,a(v,o)&&e.ref===i.ref)return tr(e,i,h)}return i.flags|=1,e=Ki(d,o),e.ref=i.ref,e.return=i,i.child=e}function Hp(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Vo(d,o)&&e.ref===i.ref)if(Le=!1,i.pendingProps=o=d,Nf(e,h))(e.flags&131072)!==0&&(Le=!0);else return i.lanes=e.lanes,tr(e,i,h)}return Af(e,i,a,o,h)}function Fp(e,i,a){var o=i.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return Gp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(i,d!==null?d.cachePool:null),d!==null?Hg(i,d):tf(),xp(i);else return i.lanes=i.childLanes=536870912,Gp(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(xu(i,d.cachePool),Hg(i,d),Nr(),i.memoizedState=null):(e!==null&&xu(i,null),tf(),Nr());return Fe(e,i,h,a),i.child}function Gp(e,i,a,o){var h=Yh();return h=h===null?null:{parent:xe._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&xu(i,null),tf(),xp(i),e!==null&&jo(e,i,o,!0),null}function Yu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Af(e,i,a,o,h){return Vs(i),a=rf(e,i,a,o,void 0,h),o=sf(),e!==null&&!Le?(af(e,i,h),tr(e,i,h)):(Kt&&o&&zh(i),i.flags|=1,Fe(e,i,a,h),i.child)}function Qp(e,i,a,o,h,d){return Vs(i),i.updateQueue=null,a=Gg(i,o,a,h),Fg(e),o=sf(),e!==null&&!Le?(af(e,i,d),tr(e,i,d)):(Kt&&o&&zh(i),i.flags|=1,Fe(e,i,a,d),i.child)}function Kp(e,i,a,o,h){if(Vs(i),i.stateNode===null){var d=Ta,v=a.contextType;typeof v=="object"&&v!==null&&(d=We(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ef,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},$h(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?We(v):Ta,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ef.enqueueReplaceState(d,d.state,null),Qo(i,o,d,h),Go(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,S=Us(a,E);d.props=S;var j=d.context,Q=a.contextType;v=Ta,typeof Q=="object"&&Q!==null&&(v=We(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||j!==v)&&Mp(i,d,o,v),Sr=!1;var z=i.memoizedState;d.state=z,Qo(i,o,d,h),Go(),j=i.memoizedState,E||z!==j||Sr?(typeof X=="function"&&(vf(i,a,X,o),j=i.memoizedState),(S=Sr||Op(i,a,S,o,z,j,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),d.props=o,d.state=j,d.context=v,o=S):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Zh(e,i),v=i.memoizedProps,Q=Us(a,v),d.props=Q,X=i.pendingProps,z=d.context,j=a.contextType,S=Ta,typeof j=="object"&&j!==null&&(S=We(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||z!==S)&&Mp(i,d,o,S),Sr=!1,z=i.memoizedState,d.state=z,Qo(i,o,d,h),Go();var B=i.memoizedState;v!==X||z!==B||Sr||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(vf(i,a,E,o),B=i.memoizedState),(Q=Sr||Op(i,a,Q,o,z,B,S)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,B,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,B,S)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),d.props=o,d.state=B,d.context=S,o=Q):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,Yu(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=xa(i,e.child,null,h),i.child=xa(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=tr(e,i,h),e}function Yp(e,i,a,o){return Uo(),i.flags|=256,Fe(e,i,a,o),i.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sf(e){return{baseLanes:e,cachePool:Pg()}}function wf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Bn),e}function Xp(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Kt){if(h?Cr(i):Nr(),Kt){var E=ge,S;if(S=E){t:{for(S=E,E=yi;S.nodeType!==8;){if(!E){E=null;break t}if(S=Jn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(i.memoizedState={dehydrated:E,treeContext:Ns!==null?{id:Yi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},S=Tn(18,null,null,0),S.stateNode=E,S.return=i,i.child=S,cn=i,ge=null,S=!0):S=!1}S||Os(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ld(E)?i.lanes=32:i.lanes=536870912,null;Wi(i)}return E=o.children,o=o.fallback,h?(Nr(),h=i.mode,E=Xu({mode:"hidden",children:E},h),o=Cs(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=Sf(a),h.childLanes=wf(e,v,a),i.memoizedState=bf,o):(Cr(i),Rf(i,E))}if(S=e.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(d)i.flags&256?(Cr(i),i.flags&=-257,i=If(e,i,a)):i.memoizedState!==null?(Nr(),i.child=e.child,i.flags|=128,i=null):(Nr(),h=o.fallback,E=i.mode,o=Xu({mode:"visible",children:o.children},E),h=Cs(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,xa(i,e.child,null,a),o=i.child,o.memoizedState=Sf(a),o.childLanes=wf(e,v,a),i.memoizedState=bf,i=h);else if(Cr(i),ld(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var j=v.dgst;v=j,o=Error(s(419)),o.stack="",o.digest=v,Lo({value:o,source:null,stack:null}),i=If(e,i,a)}else if(Le||jo(e,i,a,!1),v=(a&e.childLanes)!==0,Le||v){if(v=ie,v!==null&&(o=a&-a,o=(o&42)!==0?1:ai(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==S.retryLane))throw S.retryLane=o,Ea(e,o),Rn(v,e,o),zp;E.data==="$?"||Gf(),i=If(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=S.treeContext,ge=Jn(E.nextSibling),cn=i,Kt=!0,xs=null,yi=!1,e!==null&&(Ln[jn++]=Yi,Ln[jn++]=Xi,Ln[jn++]=Ns,Yi=e.id,Xi=e.overflow,Ns=i),i=Rf(i,o.children),i.flags|=4096);return i}return h?(Nr(),h=o.fallback,E=i.mode,S=e.child,j=S.sibling,o=Ki(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&65011712,j!==null?h=Ki(j,h):(h=Cs(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=Sf(a):(S=E.cachePool,S!==null?(j=xe._currentValue,S=S.parent!==j?{parent:j,pool:j}:S):S=Pg(),E={baseLanes:E.baseLanes|a,cachePool:S}),h.memoizedState=E,h.childLanes=wf(e,v,a),i.memoizedState=bf,o):(Cr(i),a=e.child,e=a.sibling,a=Ki(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Rf(e,i){return i=Xu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Xu(e,i){return e=Tn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function If(e,i,a){return xa(i,e.child,null,a),e=Rf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function $p(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Fh(e.return,i,a)}function Cf(e,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Zp(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(Fe(e,i,o.children,a),o=Oe.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$p(e,a,i);else if(e.tag===19)$p(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(W(Oe,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Gu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Cf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Gu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Cf(i,!0,a,null,d);break;case"together":Cf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function tr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Vr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(jo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ki(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ki(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Nf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function cA(e,i,a){switch(i.tag){case 3:jt(i,i.stateNode.containerInfo),br(i,xe,e.memoizedState.cache),Uo();break;case 27:case 5:fn(i);break;case 4:jt(i,i.stateNode.containerInfo);break;case 10:br(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Cr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Xp(e,i,a):(Cr(i),e=tr(e,i,a),e!==null?e.sibling:null);Cr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(jo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Zp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Oe,Oe.current),o)break;return null;case 22:case 23:return i.lanes=0,Fp(e,i,a);case 24:br(i,xe,e.memoizedState.cache)}return tr(e,i,a)}function Jp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Le=!0;else{if(!Nf(e,a)&&(i.flags&128)===0)return Le=!1,cA(e,i,a);Le=(e.flags&131072)!==0}else Le=!1,Kt&&(i.flags&1048576)!==0&&Cg(i,Cu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Uh(o)?(e=Us(o,e),i.tag=1,i=Kp(null,i,o,e,a)):(i.tag=0,i=Af(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Ot){i.tag=11,i=Bp(null,i,o,e,a);break t}else if(h===M){i.tag=14,i=qp(null,i,o,e,a);break t}}throw i=Pt(o)||o,Error(s(306,i,""))}}return i;case 0:return Af(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Us(o,i.pendingProps),Kp(e,i,o,h,a);case 3:t:{if(jt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Zh(e,i),Qo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,br(i,xe,o),o!==d.cache&&Gh(i,[xe],a,!0),Go(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Yp(e,i,o,a);break t}else if(o!==h){h=kn(Error(s(424)),i),Lo(h),i=Yp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ge=Jn(e.firstChild),cn=i,Kt=!0,xs=null,yi=!0,a=Dp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Uo(),o===h){i=tr(e,i,a);break t}Fe(e,i,o,a)}i=i.child}return i;case 26:return Yu(e,i),e===null?(a=n_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Kt||(a=i.type,e=i.pendingProps,o=uc(At.current).createElement(a),o[Ce]=i,o[Ae]=e,Qe(o,a,e),ye(o),i.stateNode=o):i.memoizedState=n_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return fn(i),e===null&&Kt&&(o=i.stateNode=Wy(i.type,i.pendingProps,At.current),cn=i,yi=!0,h=ge,Lr(i.type)?(ud=h,ge=Jn(o.firstChild)):ge=h),Fe(e,i,i.pendingProps.children,a),Yu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Kt&&((h=o=ge)&&(o=LA(o,i.type,i.pendingProps,yi),o!==null?(i.stateNode=o,cn=i,ge=Jn(o.firstChild),yi=!1,h=!0):h=!1),h||Os(i)),fn(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,sd(h,d)?o=null:v!==null&&sd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=rf(e,i,nA,null,null,a),ml._currentValue=h),Yu(e,i),Fe(e,i,o,a),i.child;case 6:return e===null&&Kt&&((e=a=ge)&&(a=jA(a,i.pendingProps,yi),a!==null?(i.stateNode=a,cn=i,ge=null,e=!0):e=!1),e||Os(i)),null;case 13:return Xp(e,i,a);case 4:return jt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=xa(i,null,o,a):Fe(e,i,o,a),i.child;case 11:return Bp(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,br(i,i.type,o.value),Fe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Vs(i),h=We(h),o=o(h),i.flags|=1,Fe(e,i,o,a),i.child;case 14:return qp(e,i,i.type,i.pendingProps,a);case 15:return Hp(e,i,i.type,i.pendingProps,a);case 19:return Zp(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Xu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ki(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Fp(e,i,a);case 24:return Vs(i),o=We(xe),e===null?(h=Yh(),h===null&&(h=ie,d=Qh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},$h(i),br(i,xe,h)):((e.lanes&a)!==0&&(Zh(e,i),Qo(i,null,null,a),Go()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),br(i,xe,o)):(o=d.cache,br(i,xe,o),o!==h.cache&&Gh(i,[xe],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function er(e){e.flags|=4}function Wp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!o_(i)){if(i=zn.current,i!==null&&((qt&4194048)===qt?_i!==null:(qt&62914560)!==qt&&(qt&536870912)===0||i!==_i))throw Ho=Xh,kg;e.flags|=8192}}function $u(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?It():536870912,e.lanes|=i,Pa|=i)}function Wo(e,i){if(!Kt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function he(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function hA(e,i,a){var o=i.pendingProps;switch(Bh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(i),null;case 1:return he(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Zi(xe),_n(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ko(i)?er(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xg())),he(i),null;case 26:return a=i.memoizedState,e===null?(er(i),a!==null?(he(i),Wp(i,a)):(he(i),i.flags&=-16777217)):a?a!==e.memoizedState?(er(i),he(i),Wp(i,a)):(he(i),i.flags&=-16777217):(e.memoizedProps!==o&&er(i),he(i),i.flags&=-16777217),null;case 27:Cn(i),a=At.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&er(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return he(i),null}e=at.current,ko(i)?Ng(i):(e=Wy(h,o,a),i.stateNode=e,er(i))}return he(i),null;case 5:if(Cn(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&er(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return he(i),null}if(e=at.current,ko(i))Ng(i);else{switch(h=uc(At.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Ce]=i,e[Ae]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Qe(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&er(i)}}return he(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&er(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=At.current,ko(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=cn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ce]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Qy(e.nodeValue,a)),e||Os(i)}else e=uc(e).createTextNode(o),e[Ce]=i,i.stateNode=e}return he(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ko(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ce]=i}else Uo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;he(i),h=!1}else h=xg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Wi(i),i):(Wi(i),null)}if(Wi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),$u(i,i.updateQueue),he(i),null;case 4:return _n(),e===null&&td(i.stateNode.containerInfo),he(i),null;case 10:return Zi(i.type),he(i),null;case 19:if(nt(Oe),h=i.memoizedState,h===null)return he(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)Wo(h,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Gu(e),d!==null){for(i.flags|=128,Wo(h,!1),e=d.updateQueue,i.updateQueue=e,$u(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Ig(a,e),a=a.sibling;return W(Oe,Oe.current&1|2),i.child}e=e.sibling}h.tail!==null&&Te()>Wu&&(i.flags|=128,o=!0,Wo(h,!1),i.lanes=4194304)}else{if(!o)if(e=Gu(d),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,$u(i,e),Wo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Kt)return he(i),null}else 2*Te()-h.renderingStartTime>Wu&&a!==536870912&&(i.flags|=128,o=!0,Wo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Te(),i.sibling=null,e=Oe.current,W(Oe,o?e&1|2:e&1),i):(he(i),null);case 22:case 23:return Wi(i),ef(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(he(i),i.subtreeFlags&6&&(i.flags|=8192)):he(i),a=i.updateQueue,a!==null&&$u(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&nt(Ps),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Zi(xe),he(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function fA(e,i){switch(Bh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Zi(xe),_n(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Cn(i),null;case 13:if(Wi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Uo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(Oe),null;case 4:return _n(),null;case 10:return Zi(i.type),null;case 22:case 23:return Wi(i),ef(),e!==null&&nt(Ps),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Zi(xe),null;case 25:return null;default:return null}}function ty(e,i){switch(Bh(i),i.tag){case 3:Zi(xe),_n();break;case 26:case 27:case 5:Cn(i);break;case 4:_n();break;case 13:Wi(i);break;case 19:nt(Oe);break;case 10:Zi(i.type);break;case 22:case 23:Wi(i),ef(),e!==null&&nt(Ps);break;case 24:Zi(xe)}}function tl(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){ne(i,i.return,E)}}function Dr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var S=a,j=E;try{j()}catch(Q){ne(h,S,Q)}}}o=o.next}while(o!==d)}}catch(Q){ne(i,i.return,Q)}}function ey(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{qg(i,a)}catch(o){ne(e,e.return,o)}}}function ny(e,i,a){a.props=Us(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ne(e,i,o)}}function el(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){ne(e,i,h)}}function vi(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ne(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ne(e,i,h)}else a.current=null}function iy(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ne(e,e.return,h)}}function Df(e,i,a){try{var o=e.stateNode;MA(o,e.type,a,i),o[Ae]=i}catch(h){ne(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Lr(e.type)||e.tag===4}function xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=lc));else if(o!==4&&(o===27&&Lr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Of(e,i,a),e=e.sibling;e!==null;)Of(e,i,a),e=e.sibling}function Zu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Lr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Zu(e,i,a),e=e.sibling;e!==null;)Zu(e,i,a),e=e.sibling}function sy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qe(i,o,a),i[Ce]=e,i[Ae]=a}catch(d){ne(e,e.return,d)}}var nr=!1,ve=!1,Mf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,je=null;function dA(e,i){if(e=e.containerInfo,id=gc,e=yg(e),Dh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,S=-1,j=0,Q=0,X=e,z=null;e:for(;;){for(var B;X!==a||h!==0&&X.nodeType!==3||(E=v+h),X!==d||o!==0&&X.nodeType!==3||(S=v+o),X.nodeType===3&&(v+=X.nodeValue.length),(B=X.firstChild)!==null;)z=X,X=B;for(;;){if(X===e)break e;if(z===a&&++j===h&&(E=v),z===d&&++Q===o&&(S=v),(B=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=B}a=E===-1||S===-1?null:{start:E,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(rd={focusedElem:e,selectionRange:a},gc=!1,je=i;je!==null;)if(i=je,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,je=e;else for(;je!==null;){switch(i=je,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var bt=Us(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(bt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){ne(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)od(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,je=e;break}je=i.return}}function oy(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:xr(e,a),o&4&&tl(5,a);break;case 1:if(xr(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){ne(a,a.return,v)}else{var h=Us(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ne(a,a.return,v)}}o&64&&ey(a),o&512&&el(a,a.return);break;case 3:if(xr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{qg(e,i)}catch(v){ne(a,a.return,v)}}break;case 27:i===null&&o&4&&sy(a);case 26:case 5:xr(e,a),i===null&&o&4&&iy(a),o&512&&el(a,a.return);break;case 12:xr(e,a);break;case 13:xr(e,a),o&4&&cy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=AA.bind(null,a),zA(e,a))));break;case 22:if(o=a.memoizedState!==null||nr,!o){i=i!==null&&i.memoizedState!==null||ve,h=nr;var d=ve;nr=o,(ve=i)&&!d?Or(e,a,(a.subtreeFlags&8772)!==0):xr(e,a),nr=h,ve=d}break;case 30:break;default:xr(e,a)}}function ly(e){var i=e.alternate;i!==null&&(e.alternate=null,ly(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&vr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,gn=!1;function ir(e,i,a){for(a=a.child;a!==null;)uy(e,i,a),a=a.sibling}function uy(e,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:ve||vi(a,i),ir(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ve||vi(a,i);var o=ce,h=gn;Lr(a.type)&&(ce=a.stateNode,gn=!1),ir(e,i,a),cl(a.stateNode),ce=o,gn=h;break;case 5:ve||vi(a,i);case 6:if(o=ce,h=gn,ce=null,ir(e,i,a),ce=o,gn=h,ce!==null)if(gn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(d){ne(a,i,d)}else try{ce.removeChild(a.stateNode)}catch(d){ne(a,i,d)}break;case 18:ce!==null&&(gn?(e=ce,Zy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),_l(e)):Zy(ce,a.stateNode));break;case 4:o=ce,h=gn,ce=a.stateNode.containerInfo,gn=!0,ir(e,i,a),ce=o,gn=h;break;case 0:case 11:case 14:case 15:ve||Dr(2,a,i),ve||Dr(4,a,i),ir(e,i,a);break;case 1:ve||(vi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ny(a,i,o)),ir(e,i,a);break;case 21:ir(e,i,a);break;case 22:ve=(o=ve)||a.memoizedState!==null,ir(e,i,a),ve=o;break;default:ir(e,i,a)}}function cy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_l(e)}catch(a){ne(i,i.return,a)}}function mA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ay),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ay),i;default:throw Error(s(435,e.tag))}}function Vf(e,i){var a=mA(e);i.forEach(function(o){var h=bA.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function An(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Lr(E.type)){ce=E.stateNode,gn=!1;break t}break;case 5:ce=E.stateNode,gn=!1;break t;case 3:case 4:ce=E.stateNode.containerInfo,gn=!0;break t}E=E.return}if(ce===null)throw Error(s(160));uy(d,v,h),ce=null,gn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)hy(i,e),i=i.sibling}var Zn=null;function hy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(i,e),bn(e),o&4&&(Dr(3,e,e.return),tl(3,e),Dr(5,e,e.return));break;case 1:An(i,e),bn(e),o&512&&(ve||a===null||vi(a,a.return)),o&64&&nr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(An(i,e),bn(e),o&512&&(ve||a===null||vi(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[fs]||d[Ce]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Qe(d,o,a),d[Ce]=e,ye(d),o=d;break t;case"link":var v=s_("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(o),Qe(d,o,a),h.head.appendChild(d);break;case"meta":if(v=s_("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(o),Qe(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Ce]=e,ye(d),o=d}e.stateNode=o}else a_(h,e.type,e.stateNode);else e.stateNode=r_(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?a_(h,e.type,e.stateNode):r_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Df(e,e.memoizedProps,a.memoizedProps)}break;case 27:An(i,e),bn(e),o&512&&(ve||a===null||vi(a,a.return)),a!==null&&o&4&&Df(e,e.memoizedProps,a.memoizedProps);break;case 5:if(An(i,e),bn(e),o&512&&(ve||a===null||vi(a,a.return)),e.flags&32){h=e.stateNode;try{On(h,"")}catch(B){ne(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Df(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Mf=!0);break;case 6:if(An(i,e),bn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){ne(e,e.return,B)}}break;case 3:if(fc=null,h=Zn,Zn=cc(i.containerInfo),An(i,e),Zn=h,bn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{_l(i.containerInfo)}catch(B){ne(e,e.return,B)}Mf&&(Mf=!1,fy(e));break;case 4:o=Zn,Zn=cc(e.stateNode.containerInfo),An(i,e),bn(e),Zn=o;break;case 12:An(i,e),bn(e);break;case 13:An(i,e),bn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zf=Te()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vf(e,o)));break;case 22:h=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,j=nr,Q=ve;if(nr=j||h,ve=Q||S,An(i,e),ve=Q,nr=j,bn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||S||nr||ve||Ls(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){S=a=i;try{if(d=S.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=S.stateNode;var X=S.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){ne(S,S.return,B)}}}else if(i.tag===6){if(a===null){S=i;try{S.stateNode.nodeValue=h?"":S.memoizedProps}catch(B){ne(S,S.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Vf(e,a))));break;case 19:An(i,e),bn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vf(e,o)));break;case 30:break;case 21:break;default:An(i,e),bn(e)}}function bn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(ry(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=xf(e);Zu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(On(v,""),a.flags&=-33);var E=xf(e);Zu(e,E,v);break;case 3:case 4:var S=a.stateNode.containerInfo,j=xf(e);Of(e,j,S);break;default:throw Error(s(161))}}catch(Q){ne(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function fy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;fy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function xr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)oy(e,i.alternate,i),i=i.sibling}function Ls(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Dr(4,i,i.return),Ls(i);break;case 1:vi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ny(i,i.return,a),Ls(i);break;case 27:cl(i.stateNode);case 26:case 5:vi(i,i.return),Ls(i);break;case 22:i.memoizedState===null&&Ls(i);break;case 30:Ls(i);break;default:Ls(i)}e=e.sibling}}function Or(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Or(h,d,a),tl(4,d);break;case 1:if(Or(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ne(o,o.return,j)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var S=h.shared.hiddenCallbacks;if(S!==null)for(h.shared.hiddenCallbacks=null,h=0;h<S.length;h++)Bg(S[h],E)}catch(j){ne(o,o.return,j)}}a&&v&64&&ey(d),el(d,d.return);break;case 27:sy(d);case 26:case 5:Or(h,d,a),a&&o===null&&v&4&&iy(d),el(d,d.return);break;case 12:Or(h,d,a);break;case 13:Or(h,d,a),a&&v&4&&cy(h,d);break;case 22:d.memoizedState===null&&Or(h,d,a),el(d,d.return);break;case 30:break;default:Or(h,d,a)}i=i.sibling}}function Pf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&zo(a))}function kf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&zo(e))}function Ei(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dy(e,i,a,o),i=i.sibling}function dy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ei(e,i,a,o),h&2048&&tl(9,i);break;case 1:Ei(e,i,a,o);break;case 3:Ei(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Ei(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){ne(i,i.return,S)}}else Ei(e,i,a,o);break;case 13:Ei(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Ei(e,i,a,o):nl(e,i):d._visibility&2?Ei(e,i,a,o):(d._visibility|=2,Oa(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Pf(v,i);break;case 24:Ei(e,i,a,o),h&2048&&kf(i.alternate,i);break;default:Ei(e,i,a,o)}}function Oa(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,S=o,j=v.flags;switch(v.tag){case 0:case 11:case 15:Oa(d,v,E,S,h),tl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Oa(d,v,E,S,h):nl(d,v):(Q._visibility|=2,Oa(d,v,E,S,h)),h&&j&2048&&Pf(v.alternate,v);break;case 24:Oa(d,v,E,S,h),h&&j&2048&&kf(v.alternate,v);break;default:Oa(d,v,E,S,h)}i=i.sibling}}function nl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:nl(a,o),h&2048&&Pf(o.alternate,o);break;case 24:nl(a,o),h&2048&&kf(o.alternate,o);break;default:nl(a,o)}i=i.sibling}}var il=8192;function Ma(e){if(e.subtreeFlags&il)for(e=e.child;e!==null;)my(e),e=e.sibling}function my(e){switch(e.tag){case 26:Ma(e),e.flags&il&&e.memoizedState!==null&&WA(Zn,e.memoizedState,e.memoizedProps);break;case 5:Ma(e);break;case 3:case 4:var i=Zn;Zn=cc(e.stateNode.containerInfo),Ma(e),Zn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=il,il=16777216,Ma(e),il=i):Ma(e));break;default:Ma(e)}}function gy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function rl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];je=o,yy(o,e)}gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)py(e),e=e.sibling}function py(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Dr(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ju(e)):rl(e);break;default:rl(e)}}function Ju(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];je=o,yy(o,e)}gy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Dr(8,i,i.return),Ju(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ju(i));break;default:Ju(i)}e=e.sibling}}function yy(e,i){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:Dr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,je=o;else t:for(a=e;je!==null;){o=je;var h=o.sibling,d=o.return;if(ly(o),o===a){je=null;break t}if(h!==null){h.return=d,je=h;break t}je=d}}}var gA={getCacheForType:function(e){var i=We(xe),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},pA=typeof WeakMap=="function"?WeakMap:Map,$t=0,ie=null,Mt=null,qt=0,Zt=0,Sn=null,Mr=!1,Va=!1,Uf=!1,rr=0,pe=0,Vr=0,js=0,Lf=0,Bn=0,Pa=0,sl=null,pn=null,jf=!1,zf=0,Wu=1/0,tc=null,Pr=null,Ge=0,kr=null,ka=null,Ua=0,Bf=0,qf=null,_y=null,al=0,Hf=null;function wn(){if(($t&2)!==0&&qt!==0)return qt&-qt;if(q.T!==null){var e=Sa;return e!==0?e:$f()}return Kn()}function vy(){Bn===0&&(Bn=(qt&536870912)===0||Kt?G():536870912);var e=zn.current;return e!==null&&(e.flags|=32),Bn}function Rn(e,i,a){(e===ie&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(La(e,0),Ur(e,qt,Bn,!1)),re(e,a),(($t&2)===0||e!==ie)&&(e===ie&&(($t&2)===0&&(js|=a),pe===4&&Ur(e,qt,Bn,!1)),Ti(e))}function Ey(e,i,a){if(($t&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Pi(e,i),h=o?vA(e,i):Qf(e,i,!0),d=o;do{if(h===0){Va&&!o&&Ur(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!yA(a)){h=Qf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=sl;var S=E.current.memoizedState.isDehydrated;if(S&&(La(E,v).flags|=256),v=Qf(E,v,!1),v!==2){if(Uf&&!S){E.errorRecoveryDisabledLanes|=d,js|=d,h=4;break t}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){La(e,0),Ur(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ur(o,i,Bn,!Mr);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=zf+300-Te(),10<h)){if(Ur(o,i,Bn,!Mr),yr(o,0,!0)!==0)break t;o.timeoutHandle=Xy(Ty.bind(null,o,a,pn,tc,jf,i,Bn,js,Pa,Mr,d,2,-0,0),h);break t}Ty(o,a,pn,tc,jf,i,Bn,js,Pa,Mr,d,0,-0,0)}}break}while(!0);Ti(e)}function Ty(e,i,a,o,h,d,v,E,S,j,Q,X,z,B){if(e.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(dl={stylesheets:null,count:0,unsuspend:JA},my(i),X=tb(),X!==null)){e.cancelPendingCommit=X(Cy.bind(null,e,i,d,a,o,h,v,E,S,Q,1,z,B)),Ur(e,d,v,!j);return}Cy(e,i,d,a,o,h,v,E,S)}function yA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ur(e,i,a,o){i&=~Lf,i&=~js,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-Pe(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&se(e,a,i)}function ec(){return($t&6)===0?(ol(0),!1):!0}function Ff(){if(Mt!==null){if(Zt===0)var e=Mt.return;else e=Mt,$i=Ms=null,of(e),Da=null,Zo=0,e=Mt;for(;e!==null;)ty(e.alternate,e),e=e.return;Mt=null}}function La(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,PA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ff(),ie=e,Mt=a=Ki(e.current,null),qt=i,Zt=0,Sn=null,Mr=!1,Va=Pi(e,i),Uf=!1,Pa=Bn=Lf=js=Vr=pe=0,pn=sl=null,jf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Pe(o),d=1<<h;i|=e[h],o&=~d}return rr=i,bu(),a}function Ay(e,i){Nt=null,q.H=qu,i===qo||i===Ou?(i=jg(),Zt=3):i===kg?(i=jg(),Zt=4):Zt=i===zp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Mt===null&&(pe=1,Ku(e,kn(i,e.current)))}function by(){var e=q.H;return q.H=qu,e===null?qu:e}function Sy(){var e=q.A;return q.A=gA,e}function Gf(){pe=4,Mr||(qt&4194048)!==qt&&zn.current!==null||(Va=!0),(Vr&134217727)===0&&(js&134217727)===0||ie===null||Ur(ie,qt,Bn,!1)}function Qf(e,i,a){var o=$t;$t|=2;var h=by(),d=Sy();(ie!==e||qt!==i)&&(tc=null,La(e,i)),i=!1;var v=pe;t:do try{if(Zt!==0&&Mt!==null){var E=Mt,S=Sn;switch(Zt){case 8:Ff(),v=6;break t;case 3:case 2:case 9:case 6:zn.current===null&&(i=!0);var j=Zt;if(Zt=0,Sn=null,ja(e,E,S,j),a&&Va){v=0;break t}break;default:j=Zt,Zt=0,Sn=null,ja(e,E,S,j)}}_A(),v=pe;break}catch(Q){Ay(e,Q)}while(!0);return i&&e.shellSuspendCounter++,$i=Ms=null,$t=o,q.H=h,q.A=d,Mt===null&&(ie=null,qt=0,bu()),v}function _A(){for(;Mt!==null;)wy(Mt)}function vA(e,i){var a=$t;$t|=2;var o=by(),h=Sy();ie!==e||qt!==i?(tc=null,Wu=Te()+500,La(e,i)):Va=Pi(e,i);t:do try{if(Zt!==0&&Mt!==null){i=Mt;var d=Sn;e:switch(Zt){case 1:Zt=0,Sn=null,ja(e,i,d,1);break;case 2:case 9:if(Ug(d)){Zt=0,Sn=null,Ry(i);break}i=function(){Zt!==2&&Zt!==9||ie!==e||(Zt=7),Ti(e)},d.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Ug(d)?(Zt=0,Sn=null,Ry(i)):(Zt=0,Sn=null,ja(e,i,d,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var E=Mt;if(!v||o_(v)){Zt=0,Sn=null;var S=E.sibling;if(S!==null)Mt=S;else{var j=E.return;j!==null?(Mt=j,nc(j)):Mt=null}break e}}Zt=0,Sn=null,ja(e,i,d,5);break;case 6:Zt=0,Sn=null,ja(e,i,d,6);break;case 8:Ff(),pe=6;break t;default:throw Error(s(462))}}EA();break}catch(Q){Ay(e,Q)}while(!0);return $i=Ms=null,q.H=o,q.A=h,$t=a,Mt!==null?0:(ie=null,qt=0,bu(),pe)}function EA(){for(;Mt!==null&&!xi();)wy(Mt)}function wy(e){var i=Jp(e.alternate,e,rr);e.memoizedProps=e.pendingProps,i===null?nc(e):Mt=i}function Ry(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Qp(a,i,i.pendingProps,i.type,void 0,qt);break;case 11:i=Qp(a,i,i.pendingProps,i.type.render,i.ref,qt);break;case 5:of(i);default:ty(a,i),i=Mt=Ig(i,rr),i=Jp(a,i,rr)}e.memoizedProps=e.pendingProps,i===null?nc(e):Mt=i}function ja(e,i,a,o){$i=Ms=null,of(i),Da=null,Zo=0;var h=i.return;try{if(uA(e,h,i,a,qt)){pe=1,Ku(e,kn(a,e.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;pe=1,Ku(e,kn(a,e.current)),Mt=null;return}i.flags&32768?(Kt||o===1?e=!0:Va||(qt&536870912)!==0?e=!1:(Mr=e=!0,(o===2||o===9||o===3||o===6)&&(o=zn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Iy(i,e)):nc(i)}function nc(e){var i=e;do{if((i.flags&32768)!==0){Iy(i,Mr);return}e=i.return;var a=hA(i.alternate,i,rr);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);pe===0&&(pe=5)}function Iy(e,i){do{var a=fA(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);pe=6,Mt=null}function Cy(e,i,a,o,h,d,v,E,S){e.cancelPendingCommit=null;do ic();while(Ge!==0);if(($t&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Ph,me(e,a,d,v,E,S),e===ie&&(Mt=ie=null,qt=0),ka=i,kr=e,Ua=a,Bf=d,qf=h,_y=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,SA(an,function(){return My(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=rt.p,rt.p=2,v=$t,$t|=4;try{dA(e,i,a)}finally{$t=v,rt.p=h,q.T=o}}Ge=1,Ny(),Dy(),xy()}}function Ny(){if(Ge===1){Ge=0;var e=kr,i=ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var o=rt.p;rt.p=2;var h=$t;$t|=4;try{hy(i,e);var d=rd,v=yg(e.containerInfo),E=d.focusedElem,S=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&pg(E.ownerDocument.documentElement,E)){if(S!==null&&Dh(E)){var j=S.start,Q=S.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var B=z.getSelection(),bt=E.textContent.length,gt=Math.min(S.start,bt),ee=S.end===void 0?gt:Math.min(S.end,bt);!B.extend&&gt>ee&&(v=ee,ee=gt,gt=v);var P=gg(E,gt),x=gg(E,ee);if(P&&x&&(B.rangeCount!==1||B.anchorNode!==P.node||B.anchorOffset!==P.offset||B.focusNode!==x.node||B.focusOffset!==x.offset)){var L=X.createRange();L.setStart(P.node,P.offset),B.removeAllRanges(),gt>ee?(B.addRange(L),B.extend(x.node,x.offset)):(L.setEnd(x.node,x.offset),B.addRange(L))}}}}for(X=[],B=E;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}gc=!!id,rd=id=null}finally{$t=h,rt.p=o,q.T=a}}e.current=i,Ge=2}}function Dy(){if(Ge===2){Ge=0;var e=kr,i=ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var o=rt.p;rt.p=2;var h=$t;$t|=4;try{oy(e,i.alternate,i)}finally{$t=h,rt.p=o,q.T=a}}Ge=3}}function xy(){if(Ge===4||Ge===3){Ge=0,Gn();var e=kr,i=ka,a=Ua,o=_y;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ge=5:(Ge=0,ka=kr=null,Oy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Pr=null),ki(a),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(le,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=q.T,h=rt.p,rt.p=2,q.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];d(E.value,{componentStack:E.stack})}}finally{q.T=i,rt.p=h}}(Ua&3)!==0&&ic(),Ti(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Hf?al++:(al=0,Hf=e):al=0,ol(0)}}function Oy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,zo(i)))}function ic(e){return Ny(),Dy(),xy(),My()}function My(){if(Ge!==5)return!1;var e=kr,i=Bf;Bf=0;var a=ki(Ua),o=q.T,h=rt.p;try{rt.p=32>a?32:a,q.T=null,a=qf,qf=null;var d=kr,v=Ua;if(Ge=0,ka=kr=null,Ua=0,($t&6)!==0)throw Error(s(331));var E=$t;if($t|=4,py(d.current),dy(d,d.current,v,a),$t=E,ol(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(le,d)}catch{}return!0}finally{rt.p=h,q.T=o,Oy(e,i)}}function Vy(e,i,a){i=kn(a,i),i=Tf(e.stateNode,i,2),e=Rr(e,i,2),e!==null&&(re(e,2),Ti(e))}function ne(e,i,a){if(e.tag===3)Vy(e,e,a);else for(;i!==null;){if(i.tag===3){Vy(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Pr===null||!Pr.has(o))){e=kn(a,e),a=Lp(2),o=Rr(i,a,2),o!==null&&(jp(a,o,i,e),re(o,2),Ti(o));break}}i=i.return}}function Kf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new pA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Uf=!0,h.add(a),e=TA.bind(null,e,i,a),i.then(e,e))}function TA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ie===e&&(qt&a)===a&&(pe===4||pe===3&&(qt&62914560)===qt&&300>Te()-zf?($t&2)===0&&La(e,0):Lf|=a,Pa===qt&&(Pa=0)),Ti(e)}function Py(e,i){i===0&&(i=It()),e=Ea(e,i),e!==null&&(re(e,i),Ti(e))}function AA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Py(e,a)}function bA(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Py(e,a)}function SA(e,i){return Ni(e,i)}var rc=null,za=null,Yf=!1,sc=!1,Xf=!1,zs=0;function Ti(e){e!==za&&e.next===null&&(za===null?rc=za=e:za=za.next=e),sc=!0,Yf||(Yf=!0,RA())}function ol(e,i){if(!Xf&&sc){Xf=!0;do for(var a=!1,o=rc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-Pe(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,jy(o,d))}else d=qt,d=yr(o,o===ie?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Pi(o,d)||(a=!0,jy(o,d));o=o.next}while(a);Xf=!1}}function wA(){ky()}function ky(){sc=Yf=!1;var e=0;zs!==0&&(VA()&&(e=zs),zs=0);for(var i=Te(),a=null,o=rc;o!==null;){var h=o.next,d=Uy(o,i);d===0?(o.next=null,a===null?rc=h:a.next=h,h===null&&(za=a)):(a=o,(e!==0||(d&3)!==0)&&(sc=!0)),o=h}ol(e)}function Uy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Pe(d),E=1<<v,S=h[v];S===-1?((E&a)===0||(E&o)!==0)&&(h[v]=hs(E,i)):S<=i&&(e.expiredLanes|=E),d&=~E}if(i=ie,a=qt,a=yr(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Di(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Pi(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Di(o),ki(a)){case 2:case 8:a=Ze;break;case 32:a=an;break;case 268435456:a=pr;break;default:a=an}return o=Ly.bind(null,e),a=Ni(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Di(o),e.callbackPriority=2,e.callbackNode=null,2}function Ly(e,i){if(Ge!==0&&Ge!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ic()&&e.callbackNode!==a)return null;var o=qt;return o=yr(e,e===ie?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ey(e,o,i),Uy(e,Te()),e.callbackNode!=null&&e.callbackNode===a?Ly.bind(null,e):null)}function jy(e,i){if(ic())return null;Ey(e,i,!0)}function RA(){kA(function(){($t&6)!==0?Ni(ri,wA):ky()})}function $f(){return zs===0&&(zs=G()),zs}function zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function By(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function IA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=zy((h[Ae]||null).action),v=o.submitter;v&&(i=(i=v[Ae]||null)?zy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new ua("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(zs!==0){var S=v?By(h,v):new FormData(h);pf(a,{pending:!0,data:S,method:h.method,action:d},null,S)}}else typeof d=="function"&&(E.preventDefault(),S=v?By(h,v):new FormData(h),pf(a,{pending:!0,data:S,method:h.method,action:d},d,S))},currentTarget:h}]})}}for(var Zf=0;Zf<Vh.length;Zf++){var Jf=Vh[Zf],CA=Jf.toLowerCase(),NA=Jf[0].toUpperCase()+Jf.slice(1);$n(CA,"on"+NA)}$n(Eg,"onAnimationEnd"),$n(Tg,"onAnimationIteration"),$n(Ag,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(QT,"onTransitionRun"),$n(KT,"onTransitionStart"),$n(YT,"onTransitionCancel"),$n(bg,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function qy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],S=E.instance,j=E.currentTarget;if(E=E.listener,S!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(Q){Qu(Q)}h.currentTarget=null,d=S}else for(v=0;v<o.length;v++){if(E=o[v],S=E.instance,j=E.currentTarget,E=E.listener,S!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(Q){Qu(Q)}h.currentTarget=null,d=S}}}}function Vt(e,i){var a=i[vo];a===void 0&&(a=i[vo]=new Set);var o=e+"__bubble";a.has(o)||(Hy(i,e,2,!1),a.add(o))}function Wf(e,i,a){var o=0;i&&(o|=4),Hy(a,e,o,i)}var ac="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[ac]){e[ac]=!0,Eo.forEach(function(a){a!=="selectionchange"&&(DA.has(a)||Wf(a,!1,e),Wf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ac]||(i[ac]=!0,Wf("selectionchange",!1,i))}}function Hy(e,i,a,o){switch(d_(i)){case 2:var h=ib;break;case 8:h=rb;break;default:h=md}a=h.bind(null,i,a,e),h=void 0,!Vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function ed(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var S=v.tag;if((S===3||S===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Ui(E),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){o=d=v;continue t}E=E.parentNode}}o=o.return}lu(function(){var j=d,Q=Mn(a),X=[];t:{var z=Sg.get(e);if(z!==void 0){var B=ua,bt=e;switch(e){case"keypress":if(fi(a)===0)break t;case"keydown":case"keyup":B=ga;break;case"focusin":bt="focus",B=fa;break;case"focusout":bt="blur",B=fa;break;case"beforeblur":case"afterblur":B=fa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=pu;break;case Eg:case Tg:case Ag:B=da;break;case bg:B=_u;break;case"scroll":case"scrollend":B=uu;break;case"wheel":B=pa;break;case"copy":case"cut":case"paste":B=ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Oo;break;case"toggle":case"beforetoggle":B=Eu}var gt=(i&4)!==0,ee=!gt&&(e==="scroll"||e==="scrollend"),P=gt?z!==null?z+"Capture":null:z;gt=[];for(var x=j,L;x!==null;){var K=x;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||P===null||(K=vs(x,P),K!=null&&gt.push(ul(x,K,L))),ee)break;x=x.return}0<gt.length&&(z=new B(z,bt,null,a,Q),X.push({event:z,listeners:gt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Bi&&(bt=a.relatedTarget||a.fromElement)&&(Ui(bt)||bt[xn]))break t;if((B||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,B?(bt=a.relatedTarget||a.toElement,B=j,bt=bt?Ui(bt):null,bt!==null&&(ee=c(bt),gt=bt.tag,bt!==ee||gt!==5&&gt!==27&&gt!==6)&&(bt=null)):(B=null,bt=j),B!==bt)){if(gt=Pn,K="onMouseLeave",P="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Oo,K="onPointerLeave",P="onPointerEnter",x="pointer"),ee=B==null?z:li(B),L=bt==null?z:li(bt),z=new gt(K,x+"leave",B,a,Q),z.target=ee,z.relatedTarget=L,K=null,Ui(Q)===j&&(gt=new gt(P,x+"enter",bt,a,Q),gt.target=L,gt.relatedTarget=ee,K=gt),ee=K,B&&bt)e:{for(gt=B,P=bt,x=0,L=gt;L;L=Ba(L))x++;for(L=0,K=P;K;K=Ba(K))L++;for(;0<x-L;)gt=Ba(gt),x--;for(;0<L-x;)P=Ba(P),L--;for(;x--;){if(gt===P||P!==null&&gt===P.alternate)break e;gt=Ba(gt),P=Ba(P)}gt=null}else gt=null;B!==null&&Fy(X,z,B,gt,!1),bt!==null&&ee!==null&&Fy(X,ee,bt,gt,!0)}}t:{if(z=j?li(j):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var ot=ug;else if(De(z))if(cg)ot=HT;else{ot=BT;var xt=zT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&wo(j.elementType)&&(ot=ug):ot=qT;if(ot&&(ot=ot(e,j))){Qi(X,ot,a,Q);break t}xt&&xt(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Tr(z,"number",z.value)}switch(xt=j?li(j):window,e){case"focusin":(De(xt)||xt.contentEditable==="true")&&(ya=xt,xh=j,Po=null);break;case"focusout":Po=xh=ya=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,_g(X,a,Q);break;case"selectionchange":if(GT)break;case"keydown":case"keyup":_g(X,a,Q)}var ft;if(gi)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else zt?H(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(y&&a.locale!=="ko"&&(zt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&zt&&(ft=Io()):(hi=Q,Ar="value"in hi?hi.value:hi.textContent,zt=!0)),xt=oc(j,pt),0<xt.length&&(pt=new Do(pt,e,null,a,Q),X.push({event:pt,listeners:xt}),ft?pt.data=ft:(ft=et(a),ft!==null&&(pt.data=ft)))),(ft=m?Ne(e,a):Bt(e,a))&&(pt=oc(j,"onBeforeInput"),0<pt.length&&(xt=new Do("onBeforeInput","beforeinput",null,a,Q),X.push({event:xt,listeners:pt}),xt.data=ft)),IA(X,e,j,a,Q)}qy(X,i)})}function ul(e,i,a){return{instance:e,listener:i,currentTarget:a}}function oc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=vs(e,a),h!=null&&o.unshift(ul(e,h,d)),h=vs(e,i),h!=null&&o.push(ul(e,h,d))),e.tag===3)return o;e=e.return}return[]}function Ba(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fy(e,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var E=a,S=E.alternate,j=E.stateNode;if(E=E.tag,S!==null&&S===o)break;E!==5&&E!==26&&E!==27||j===null||(S=j,h?(j=vs(a,d),j!=null&&v.unshift(ul(a,j,S))):h||(j=vs(a,d),j!=null&&v.push(ul(a,j,S)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var xA=/\r\n?/g,OA=/\u0000|\uFFFD/g;function Gy(e){return(typeof e=="string"?e:""+e).replace(xA,`
`).replace(OA,"")}function Qy(e,i){return i=Gy(i),Gy(e)===i}function lc(){}function te(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||On(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&On(e,""+o);break;case"className":ui(e,"class",o);break;case"tabIndex":ui(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(e,a,o);break;case"style":So(e,o,d);break;case"data":if(i!=="object"){ui(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=la(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&te(e,i,"name",h.name,h,null),te(e,i,"formEncType",h.formEncType,h,null),te(e,i,"formMethod",h.formMethod,h,null),te(e,i,"formTarget",h.formTarget,h,null)):(te(e,i,"encType",h.encType,h,null),te(e,i,"method",h.method,h,null),te(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=la(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=lc);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=la(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),Er(e,"popover",o);break;case"xlinkActuate":qe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":qe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":qe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":qe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":qe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":qe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":qe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":qe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":qe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Er(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Sh.get(a)||a,Er(e,a,o))}}function nd(e,i,a,o,h,d){switch(a){case"style":So(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?On(e,o):(typeof o=="number"||typeof o=="bigint")&&On(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ia.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ae]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Er(e,a,o)}}}function Qe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(e,i,d,v,a,null)}}h&&te(e,i,"srcSet",a.srcSet,a,null),o&&te(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=d=v=h=null,S=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":v=Q;break;case"checked":S=Q;break;case"defaultChecked":j=Q;break;case"value":d=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:te(e,i,o,Q,a,null)}}ps(e,d,E,S,j,v,h,!1),oa(e);return;case"select":Vt("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:te(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!o,i!=null?zi(e,!!o,i,!1):a!=null&&zi(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:te(e,i,v,E,a,null)}ys(e,o,h,d),oa(e);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(o=a[S],o!=null))switch(S){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:te(e,i,S,o,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<ll.length;o++)Vt(ll[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(e,i,j,o,a,null)}return;default:if(wo(i)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&nd(e,i,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&te(e,i,E,o,a,null))}function MA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,S=null,j=null,Q=null;for(B in a){var X=a[B];if(a.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":S=X;default:o.hasOwnProperty(B)||te(e,i,B,null,o,X)}}for(var z in o){var B=o[z];if(X=a[z],o.hasOwnProperty(z)&&(B!=null||X!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":j=B;break;case"defaultChecked":Q=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==X&&te(e,i,z,B,o,X)}}vn(e,v,E,S,j,Q,d,h);return;case"select":B=v=E=z=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":B=S;default:o.hasOwnProperty(d)||te(e,i,d,null,o,S)}for(h in o)if(d=o[h],S=a[h],o.hasOwnProperty(h)&&(d!=null||S!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==S&&te(e,i,h,d,o,S)}i=E,a=v,o=B,z!=null?zi(e,!!a,z,!1):!!o!=!!a&&(i!=null?zi(e,!!a,i,!0):zi(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(e,i,E,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&te(e,i,v,h,o,d)}Jt(e,z,B);return;case"option":for(var bt in a)if(z=a[bt],a.hasOwnProperty(bt)&&z!=null&&!o.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:te(e,i,bt,null,o,z)}for(S in o)if(z=o[S],B=a[S],o.hasOwnProperty(S)&&z!==B&&(z!=null||B!=null))switch(S){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:te(e,i,S,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)z=a[gt],a.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt)&&te(e,i,gt,null,o,z);for(j in o)if(z=o[j],B=a[j],o.hasOwnProperty(j)&&z!==B&&(z!=null||B!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:te(e,i,j,z,o,B)}return;default:if(wo(i)){for(var ee in a)z=a[ee],a.hasOwnProperty(ee)&&z!==void 0&&!o.hasOwnProperty(ee)&&nd(e,i,ee,void 0,o,z);for(Q in o)z=o[Q],B=a[Q],!o.hasOwnProperty(Q)||z===B||z===void 0&&B===void 0||nd(e,i,Q,z,o,B);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!o.hasOwnProperty(P)&&te(e,i,P,null,o,z);for(X in o)z=o[X],B=a[X],!o.hasOwnProperty(X)||z===B||z==null&&B==null||te(e,i,X,z,o,B)}var id=null,rd=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function Ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function sd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ad=null;function VA(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,PA=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,kA=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(e){return $y.resolve(null).then(e).catch(UA)}:Xy;function UA(e){setTimeout(function(){throw e})}function Lr(e){return e==="head"}function Zy(e,i){var a=i,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&cl(v.documentElement),a&2&&cl(v.body),a&4)for(a=v.head,cl(a),v=a.firstChild;v;){var E=v.nextSibling,S=v.nodeName;v[fs]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),_l(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);_l(i)}function od(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":od(a),vr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function LA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[fs])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Jn(e.nextSibling),e===null)break}return null}function jA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Jn(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function zA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Jn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var ud=null;function Jy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Wy(e,i,a){switch(i=uc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function cl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);vr(e)}var qn=new Map,t_=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sr=rt.d;rt.d={f:BA,r:qA,D:HA,C:FA,L:GA,m:QA,X:YA,S:KA,M:XA};function BA(){var e=sr.f(),i=ec();return e||i}function qA(e){var i=oi(e);i!==null&&i.tag===5&&i.type==="form"?Ep(i):sr.r(e)}var qa=typeof document>"u"?null:document;function e_(e,i,a){var o=qa;if(o&&typeof i=="string"&&i){var h=be(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),t_.has(h)||(t_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Qe(i,"link",e),ye(i),o.head.appendChild(i)))}}function HA(e){sr.D(e),e_("dns-prefetch",e,null)}function FA(e,i){sr.C(e,i),e_("preconnect",e,i)}function GA(e,i,a){sr.L(e,i,a);var o=qa;if(o&&e&&i){var h='link[rel="preload"][as="'+be(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+be(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+be(a.imageSizes)+'"]')):h+='[href="'+be(e)+'"]';var d=h;switch(i){case"style":d=Ha(e);break;case"script":d=Fa(e)}qn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),qn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(hl(d))||i==="script"&&o.querySelector(fl(d))||(i=o.createElement("link"),Qe(i,"link",e),ye(i),o.head.appendChild(i)))}}function QA(e,i){sr.m(e,i);var a=qa;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+be(o)+'"][href="'+be(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Fa(e)}if(!qn.has(d)&&(e=T({rel:"modulepreload",href:e},i),qn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fl(d)))return}o=a.createElement("link"),Qe(o,"link",e),ye(o),a.head.appendChild(o)}}}function KA(e,i,a){sr.S(e,i,a);var o=qa;if(o&&e){var h=on(o).hoistableStyles,d=Ha(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(hl(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=qn.get(d))&&cd(e,a);var S=v=o.createElement("link");ye(S),Qe(S,"link",e),S._p=new Promise(function(j,Q){S.onload=j,S.onerror=Q}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function YA(e,i){sr.X(e,i);var a=qa;if(a&&e){var o=on(a).hoistableScripts,h=Fa(e),d=o.get(h);d||(d=a.querySelector(fl(h)),d||(e=T({src:e,async:!0},i),(i=qn.get(h))&&hd(e,i),d=a.createElement("script"),ye(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function XA(e,i){sr.M(e,i);var a=qa;if(a&&e){var o=on(a).hoistableScripts,h=Fa(e),d=o.get(h);d||(d=a.querySelector(fl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=qn.get(h))&&hd(e,i),d=a.createElement("script"),ye(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function n_(e,i,a,o){var h=(h=At.current)?cc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ha(a.href),a=on(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ha(a.href);var d=on(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(hl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(e,a),d||$A(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fa(a),a=on(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ha(e){return'href="'+be(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function i_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function $A(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Qe(i,"link",a),ye(i),e.head.appendChild(i))}function Fa(e){return'[src="'+be(e)+'"]'}function fl(e){return"script[async]"+e}function r_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+be(a.href)+'"]');if(o)return i.instance=o,ye(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ye(o),Qe(o,"style",h),hc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Ha(a.href);var d=e.querySelector(hl(h));if(d)return i.state.loading|=4,i.instance=d,ye(d),d;o=i_(a),(h=qn.get(h))&&cd(o,h),d=(e.ownerDocument||e).createElement("link"),ye(d);var v=d;return v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),Qe(d,"link",o),i.state.loading|=4,hc(d,a.precedence,e),i.instance=d;case"script":return d=Fa(a.src),(h=e.querySelector(fl(d)))?(i.instance=h,ye(h),h):(o=a,(h=qn.get(d))&&(o=T({},a),hd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ye(h),Qe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,hc(o,a.precedence,e));return i.instance}function hc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function cd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function hd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var fc=null;function s_(e,i,a){if(fc===null){var o=new Map,h=fc=new Map;h.set(a,o)}else h=fc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[fs]||d[Ce]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function a_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function ZA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function o_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var dl=null;function JA(){}function WA(e,i,a){if(dl===null)throw Error(s(475));var o=dl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ha(a.href),d=e.querySelector(hl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=dc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=d,ye(d);return}d=e.ownerDocument||e,a=i_(a),(h=qn.get(h))&&cd(a,h),d=d.createElement("link"),ye(d);var v=d;v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),Qe(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=dc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function tb(){if(dl===null)throw Error(s(475));var e=dl;return e.stylesheets&&e.count===0&&fd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&fd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function dc(){if(this.count--,this.count===0){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function fd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,i.forEach(eb,e),mc=null,dc.call(e))}function eb(e,i){if(!(i.state.loading&4)){var a=mc.get(e);if(a)var o=a.get(null);else{a=new Map,mc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var ml={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function nb(e,i,a,o,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ft(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.hiddenUpdates=Ft(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function l_(e,i,a,o,h,d,v,E,S,j,Q,X){return e=new nb(e,i,a,v,E,S,j,X),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),e.current=d,d.stateNode=e,i=Qh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},$h(d),e}function u_(e){return e?(e=Ta,e):Ta}function c_(e,i,a,o,h,d){h=u_(h),o.context===null?o.context=h:o.pendingContext=h,o=wr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Rr(e,o,i),a!==null&&(Rn(a,e,i),Fo(a,e,i))}function h_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function dd(e,i){h_(e,i),(e=e.alternate)&&h_(e,i)}function f_(e){if(e.tag===13){var i=Ea(e,67108864);i!==null&&Rn(i,e,67108864),dd(e,67108864)}}var gc=!0;function ib(e,i,a,o){var h=q.T;q.T=null;var d=rt.p;try{rt.p=2,md(e,i,a,o)}finally{rt.p=d,q.T=h}}function rb(e,i,a,o){var h=q.T;q.T=null;var d=rt.p;try{rt.p=8,md(e,i,a,o)}finally{rt.p=d,q.T=h}}function md(e,i,a,o){if(gc){var h=gd(o);if(h===null)ed(e,i,o,pc,a),m_(e,o);else if(ab(h,e,i,a,o))o.stopPropagation();else if(m_(e,o),i&4&&-1<sb.indexOf(e)){for(;h!==null;){var d=oi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=dn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var S=1<<31-Pe(v);E.entanglements[1]|=S,v&=~S}Ti(d),($t&6)===0&&(Wu=Te()+500,ol(0))}}break;case 13:E=Ea(d,2),E!==null&&Rn(E,d,2),ec(),dd(d,2)}if(d=gd(o),d===null&&ed(e,i,o,pc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else ed(e,i,o,null,a)}}function gd(e){return e=Mn(e),pd(e)}var pc=null;function pd(e){if(pc=null,e=Ui(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return pc=e,null}function d_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qn()){case ri:return 2;case Ze:return 8;case an:case us:return 32;case pr:return 268435456;default:return 32}default:return 32}}var yd=!1,jr=null,zr=null,Br=null,gl=new Map,pl=new Map,qr=[],sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m_(e,i){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(i.pointerId)}}function yl(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=oi(i),i!==null&&f_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function ab(e,i,a,o,h){switch(i){case"focusin":return jr=yl(jr,e,i,a,o,h),!0;case"dragenter":return zr=yl(zr,e,i,a,o,h),!0;case"mouseover":return Br=yl(Br,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return gl.set(d,yl(gl.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,pl.set(d,yl(pl.get(d)||null,e,i,a,o,h)),!0}return!1}function g_(e){var i=Ui(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,eu(e.priority,function(){if(a.tag===13){var o=wn();o=ai(o);var h=Ea(a,o);h!==null&&Rn(h,a,o),dd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=gd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Bi=o,a.target.dispatchEvent(o),Bi=null}else return i=oi(a),i!==null&&f_(i),e.blockedOn=a,!1;i.shift()}return!0}function p_(e,i,a){yc(e)&&a.delete(i)}function ob(){yd=!1,jr!==null&&yc(jr)&&(jr=null),zr!==null&&yc(zr)&&(zr=null),Br!==null&&yc(Br)&&(Br=null),gl.forEach(p_),pl.forEach(p_)}function _c(e,i){e.blockedOn===i&&(e.blockedOn=null,yd||(yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ob)))}var vc=null;function y_(e){vc!==e&&(vc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vc===e&&(vc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(pd(o||a)===null)continue;break}var d=oi(a);d!==null&&(e.splice(i,3),i-=3,pf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function _l(e){function i(S){return _c(S,e)}jr!==null&&_c(jr,e),zr!==null&&_c(zr,e),Br!==null&&_c(Br,e),gl.forEach(i),pl.forEach(i);for(var a=0;a<qr.length;a++){var o=qr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)g_(a),a.blockedOn===null&&qr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[Ae]||null;if(typeof d=="function")v||y_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ae]||null)E=v.formAction;else if(pd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),y_(a)}}}function _d(e){this._internalRoot=e}Ec.prototype.render=_d.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=wn();c_(a,o,e,i,null,null)},Ec.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;c_(e.current,2,null,e,null,null),ec(),i[xn]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var i=Kn();e={blockedOn:null,target:e,priority:i};for(var a=0;a<qr.length&&i!==0&&i<qr[a].priority;a++);qr.splice(a,0,e),a===0&&g_(e)}};var __=t.version;if(__!=="19.1.0")throw Error(s(527,__,"19.1.0"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var lb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{le=Tc.inject(lb),Qt=Tc}catch{}}return El.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Vp,d=Pp,v=kp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=l_(e,1,!1,null,null,a,o,h,d,v,E,null),e[xn]=i.current,td(e),new _d(i)},El.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=Vp,v=Pp,E=kp,S=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=l_(e,1,!0,i,a??null,o,h,d,v,E,S,j),i.context=u_(null),a=i.current,o=wn(),o=ai(o),h=wr(o),h.callback=null,Rr(a,h,o),a=o,i.current.lanes=a,re(i,a),Ti(i),e[xn]=i.current,td(e),new Ec(i)},El.version="19.1.0",El}var C_;function vb(){if(C_)return Td.exports;C_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Td.exports=_b(),Td.exports}var Eb=vb();const Tb=c0(Eb),Ab=()=>{};var N_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},bb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],f=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},f0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,T=c>>2,w=(c&3)<<4|g>>4;let C=(g&15)<<2|_>>6,F=_&63;p||(F=64,f||(C=64)),s.push(n[T],n[w],n[C],n[F])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(h0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):bb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const w=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||w==null)throw new Sb;const C=c<<2|g>>4;if(s.push(C),_!==64){const F=g<<4&240|_>>2;if(s.push(F),w!==64){const J=_<<6&192|w;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Sb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wb=function(r){const t=h0(r);return f0.encodeByteArray(t,!0)},Lc=function(r){return wb(r).replace(/\./g,"")},d0=function(r){try{return f0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=()=>Rb().__FIREBASE_DEFAULTS__,Cb=()=>{if(typeof process>"u"||typeof N_>"u")return;const r=N_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Nb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&d0(r[1]);return t&&JSON.parse(t)},ih=()=>{try{return Ab()||Ib()||Cb()||Nb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},m0=r=>{var t,n;return(n=(t=ih())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},Db=r=>{const t=m0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},g0=()=>{var r;return(r=ih())===null||r===void 0?void 0:r.config},p0=r=>{var t;return(t=ih())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(r){return r.endsWith(".cloudworkstations.dev")}async function y0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Lc(JSON.stringify(n)),Lc(JSON.stringify(f)),""].join(".")}const Nl={};function Mb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Nl))Nl[t]?r.emulator.push(t):r.prod.push(t);return r}function Vb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let D_=!1;function _0(r,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Nl[r]===t||Nl[r]||D_)return;Nl[r]=t;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=Mb().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,F){C.setAttribute("width","24"),C.setAttribute("id",F),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{D_=!0,f()},C}function T(C,F){C.setAttribute("id",F),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function w(){const C=Vb(s),F=n("text"),J=document.getElementById(F)||document.createElement("span"),it=n("learnmore"),tt=document.getElementById(it)||document.createElement("a"),Tt=n("preprendIcon"),ct=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ht=C.element;g(ht),T(tt,it);const Ot=_();p(ct,Tt),ht.append(ct,J,tt,Ot),document.body.appendChild(ht)}c?(J.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function kb(){var r;const t=(r=ih())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ub(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function jb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zb(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Bb(){return!kb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qb(){try{return typeof indexedDB=="object"}catch{return!1}}function Hb(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="FirebaseError";class mr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Fb,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?Gb(c,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new mr(l,g,s)}}function Gb(r,t){return r.replace(Qb,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const Qb=/\{\$([^}]+)}/g;function Kb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Gs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],f=t[l];if(x_(c)&&x_(f)){if(!Gs(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function x_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Al(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function bl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function Yb(r,t){const n=new Xb(r,t);return n.subscribe.bind(n)}class Xb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");$b(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=wd),l.error===void 0&&(l.error=wd),l.complete===void 0&&(l.complete=wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $b(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(r){return r&&r._delegate?r._delegate:r}class Qs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new xb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Wb(t))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=qs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qs){return this.instances.has(t)}getOptions(t=qs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&t(f,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Jb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=qs){return this.component?this.component.multipleInstances?t:qs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jb(r){return r===qs?void 0:r}function Wb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Zb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const eS={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},nS=kt.INFO,iS={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},rS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=iS[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fm{constructor(t){this.name=t,this._logLevel=nS,this._logHandler=rS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const sS=(r,t)=>t.some(n=>r instanceof n);let O_,M_;function aS(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oS(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v0=new WeakMap,Ld=new WeakMap,E0=new WeakMap,Rd=new WeakMap,dm=new WeakMap;function lS(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(Xr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&v0.set(n,r)}).catch(()=>{}),dm.set(t,r),t}function uS(r){if(Ld.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Ld.set(r,t)}let jd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Ld.get(r);if(t==="objectStoreNames")return r.objectStoreNames||E0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function cS(r){jd=r(jd)}function hS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Id(this),t,...n);return E0.set(s,t.sort?t.sort():[t]),Xr(s)}:oS().includes(r)?function(...t){return r.apply(Id(this),t),Xr(v0.get(this))}:function(...t){return Xr(r.apply(Id(this),t))}}function fS(r){return typeof r=="function"?hS(r):(r instanceof IDBTransaction&&uS(r),sS(r,aS())?new Proxy(r,jd):r)}function Xr(r){if(r instanceof IDBRequest)return lS(r);if(Rd.has(r))return Rd.get(r);const t=fS(r);return t!==r&&(Rd.set(r,t),dm.set(t,r)),t}const Id=r=>dm.get(r);function dS(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,t),g=Xr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Xr(f.result),p.oldVersion,p.newVersion,Xr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const mS=["get","getKey","getAll","getAllKeys","count"],gS=["put","add","delete","clear"],Cd=new Map;function V_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Cd.get(t))return Cd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=gS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||mS.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Cd.set(t,c),c}cS(r=>({...r,get:(t,n,s)=>V_(t,n)||r.get(t,n,s),has:(t,n)=>!!V_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function yS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const zd="@firebase/app",P_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new fm("@firebase/app"),_S="@firebase/app-compat",vS="@firebase/analytics-compat",ES="@firebase/analytics",TS="@firebase/app-check-compat",AS="@firebase/app-check",bS="@firebase/auth",SS="@firebase/auth-compat",wS="@firebase/database",RS="@firebase/data-connect",IS="@firebase/database-compat",CS="@firebase/functions",NS="@firebase/functions-compat",DS="@firebase/installations",xS="@firebase/installations-compat",OS="@firebase/messaging",MS="@firebase/messaging-compat",VS="@firebase/performance",PS="@firebase/performance-compat",kS="@firebase/remote-config",US="@firebase/remote-config-compat",LS="@firebase/storage",jS="@firebase/storage-compat",zS="@firebase/firestore",BS="@firebase/ai",qS="@firebase/firestore-compat",HS="firebase",FS="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="[DEFAULT]",GS={[zd]:"fire-core",[_S]:"fire-core-compat",[ES]:"fire-analytics",[vS]:"fire-analytics-compat",[AS]:"fire-app-check",[TS]:"fire-app-check-compat",[bS]:"fire-auth",[SS]:"fire-auth-compat",[wS]:"fire-rtdb",[RS]:"fire-data-connect",[IS]:"fire-rtdb-compat",[CS]:"fire-fn",[NS]:"fire-fn-compat",[DS]:"fire-iid",[xS]:"fire-iid-compat",[OS]:"fire-fcm",[MS]:"fire-fcm-compat",[VS]:"fire-perf",[PS]:"fire-perf-compat",[kS]:"fire-rc",[US]:"fire-rc-compat",[LS]:"fire-gcs",[jS]:"fire-gcs-compat",[zS]:"fire-fst",[qS]:"fire-fst-compat",[BS]:"fire-vertex","fire-js":"fire-js",[HS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,QS=new Map,qd=new Map;function k_(r,t){try{r.container.addComponent(t)}catch(n){cr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function to(r){const t=r.name;if(qd.has(t))return cr.debug(`There were multiple attempts to register component ${t}.`),!1;qd.set(t,r);for(const n of jc.values())k_(n,r);for(const n of QS.values())k_(n,r);return!0}function mm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function In(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new Fl("app","Firebase",KS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=FS;function T0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Bd,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw $r.create("bad-app-name",{appName:String(l)});if(n||(n=g0()),!n)throw $r.create("no-options");const c=jc.get(l);if(c){if(Gs(n,c.options)&&Gs(s,c.config))return c;throw $r.create("duplicate-app",{appName:l})}const f=new tS(l);for(const p of qd.values())f.addComponent(p);const g=new YS(n,s,f);return jc.set(l,g),g}function A0(r=Bd){const t=jc.get(r);if(!t&&r===Bd&&g0())return T0();if(!t)throw $r.create("no-app",{appName:r});return t}function Zr(r,t,n){var s;let l=(s=GS[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cr.warn(g.join(" "));return}to(new Qs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="firebase-heartbeat-database",$S=1,Pl="firebase-heartbeat-store";let Nd=null;function b0(){return Nd||(Nd=dS(XS,$S,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(r=>{throw $r.create("idb-open",{originalErrorMessage:r.message})})),Nd}async function ZS(r){try{const n=(await b0()).transaction(Pl),s=await n.objectStore(Pl).get(S0(r));return await n.done,s}catch(t){if(t instanceof mr)cr.warn(t.message);else{const n=$r.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});cr.warn(n.message)}}}async function U_(r,t){try{const s=(await b0()).transaction(Pl,"readwrite");await s.objectStore(Pl).put(t,S0(r)),await s.done}catch(n){if(n instanceof mr)cr.warn(n.message);else{const s=$r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cr.warn(s.message)}}}function S0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=1024,WS=30;class t1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new n1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=L_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>WS){const f=i1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){cr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=L_(),{heartbeatsToSend:s,unsentEntries:l}=e1(this._heartbeatsCache.heartbeats),c=Lc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return cr.warn(n),""}}}function L_(){return new Date().toISOString().substring(0,10)}function e1(r,t=JS){const n=[];let s=r.slice();for(const l of r){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),j_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),j_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class n1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qb()?Hb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return U_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return U_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function j_(r){return Lc(JSON.stringify({version:2,heartbeats:r})).length}function i1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(r){to(new Qs("platform-logger",t=>new pS(t),"PRIVATE")),to(new Qs("heartbeat",t=>new t1(t),"PRIVATE")),Zr(zd,P_,r),Zr(zd,P_,"esm2017"),Zr("fire-js","")}r1("");var s1="firebase",a1="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(s1,a1,"app");function gm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function w0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o1=w0,R0=new Fl("auth","Firebase",w0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new fm("@firebase/auth");function l1(r,...t){zc.logLevel<=kt.WARN&&zc.warn(`Auth (${co}): ${r}`,...t)}function Cc(r,...t){zc.logLevel<=kt.ERROR&&zc.error(`Auth (${co}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(r,...t){throw ym(r,...t)}function ei(r,...t){return ym(r,...t)}function pm(r,t,n){const s=Object.assign(Object.assign({},o1()),{[t]:n});return new Fl("auth","Firebase",s).create(t,{appName:r.name})}function ur(r){return pm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u1(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Fn(r,"argument-error"),pm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ym(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return R0.create(r,...t)}function vt(r,t,...n){if(!r)throw ym(t,...n)}function or(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Cc(t),new Error(t)}function hr(r,t){r||or(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function c1(){return z_()==="http:"||z_()==="https:"}function z_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c1()||Lb()||"connection"in navigator)?navigator.onLine:!0}function f1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,n){this.shortDelay=t,this.longDelay=n,hr(n>t,"Short delay should be less than long delay!"),this.isMobile=Pb()||jb()}get(){return h1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(r,t){hr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g1=new Ql(3e4,6e4);function os(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function gr(r,t,n,s,l={}){return C0(r,l,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const g=Gl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return Ub()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(_.credentials="include"),I0.fetch()(await N0(r,r.config.apiHost,n,g),_)})}async function C0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},d1),t);try{const l=new y1(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Ac(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Ac(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw pm(r,T,_);Fn(r,T)}}catch(l){if(l instanceof mr)throw l;Fn(r,"network-request-failed",{message:String(l)})}}async function Kl(r,t,n,s,l={}){const c=await gr(r,t,n,s,l);return"mfaPendingCredential"in c&&Fn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function N0(r,t,n,s){const l=`${t}${n}?${s}`,c=r,f=c.config.emulator?_m(r.config,l):`${r.config.apiScheme}://${l}`;return m1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function p1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class y1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ei(this.auth,"network-request-failed")),g1.get())})}}function Ac(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=ei(r,t,s);return l.customData._tokenResponse=n,l}function B_(r){return r!==void 0&&r.enterprise!==void 0}class _1{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return p1(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function v1(r,t){return gr(r,"GET","/v2/recaptchaConfig",os(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(r,t){return gr(r,"POST","/v1/accounts:delete",t)}async function Bc(r,t){return gr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function T1(r,t=!1){const n=Xe(r),s=await n.getIdToken(t),l=vm(s);vt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:Dl(Dd(l.auth_time)),issuedAtTime:Dl(Dd(l.iat)),expirationTime:Dl(Dd(l.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Dd(r){return Number(r)*1e3}function vm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const l=d0(n);return l?JSON.parse(l):(Cc("Failed to decode base64 JWT payload"),null)}catch(l){return Cc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function q_(r){const t=vm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof mr&&A1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function A1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await eo(r,Bc(n,{idToken:s}));vt(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?D0(c.providerUserInfo):[],g=w1(r.providerData,f),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),T=p?_:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Fd(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,w)}async function S1(r){const t=Xe(r);await qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function w1(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function D0(r){return r.map(t=>{var{providerId:n}=t,s=gm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(r,t){const n=await C0(r,{},async()=>{const s=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=await N0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(p.credentials="include"),I0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function I1(r,t){return gr(r,"POST","/v2/accounts:revokeToken",os(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):q_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=q_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await R1(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,f=new $a;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(vt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=gm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new b1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Fd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await eo(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return T1(this,t)}reload(){return S1(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Wn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await qc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(ur(this.auth));const t=await this.getIdToken();return await eo(this,E1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,f,g,p,_,T;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(l=n.email)!==null&&l!==void 0?l:void 0,F=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,J=(f=n.photoURL)!==null&&f!==void 0?f:void 0,it=(g=n.tenantId)!==null&&g!==void 0?g:void 0,tt=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Tt=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ct=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ht,emailVerified:Ot,isAnonymous:_t,providerData:wt,stsTokenManager:M}=n;vt(ht&&M,t,"internal-error");const b=$a.fromJSON(this.name,M);vt(typeof ht=="string",t,"internal-error"),Fr(w,t.name),Fr(C,t.name),vt(typeof Ot=="boolean",t,"internal-error"),vt(typeof _t=="boolean",t,"internal-error"),Fr(F,t.name),Fr(J,t.name),Fr(it,t.name),Fr(tt,t.name),Fr(Tt,t.name),Fr(ct,t.name);const R=new Wn({uid:ht,auth:t,email:C,emailVerified:Ot,displayName:w,isAnonymous:_t,photoURL:J,phoneNumber:F,tenantId:it,stsTokenManager:b,createdAt:Tt,lastLoginAt:ct});return wt&&Array.isArray(wt)&&(R.providerData=wt.map(O=>Object.assign({},O))),tt&&(R._redirectEventId=tt),R}static async _fromIdTokenResponse(t,n,s=!1){const l=new $a;l.updateFromServerResponse(n);const c=new Wn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await qc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?D0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new $a;g.updateFromIdToken(s);const p=new Wn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Fd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new Map;function lr(r){hr(r instanceof Function,"Expected a class definition");let t=H_.get(r);return t?(hr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,H_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}x0.type="NONE";const F_=x0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(r,t,n){return`firebase:${r}:${t}:${n}`}class Za{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Nc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Nc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Bc(this.auth,{idToken:t}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Za(lr(F_),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||lr(F_);const f=Nc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const T=await _._get(f);if(T){let w;if(typeof T=="string"){const C=await Bc(t,{idToken:T}).catch(()=>{});if(!C)break;w=await Wn._fromGetAccountInfoResponse(t,C,T)}else w=Wn._fromJSON(t,T);_!==c&&(g=w),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Za(c,t,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new Za(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(P0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(O0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(U0(t))return"Blackberry";if(L0(t))return"Webos";if(M0(t))return"Safari";if((t.includes("chrome/")||V0(t))&&!t.includes("edge/"))return"Chrome";if(k0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function O0(r=sn()){return/firefox\//i.test(r)}function M0(r=sn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function V0(r=sn()){return/crios\//i.test(r)}function P0(r=sn()){return/iemobile/i.test(r)}function k0(r=sn()){return/android/i.test(r)}function U0(r=sn()){return/blackberry/i.test(r)}function L0(r=sn()){return/webos/i.test(r)}function Em(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function C1(r=sn()){var t;return Em(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function N1(){return zb()&&document.documentMode===10}function j0(r=sn()){return Em(r)||k0(r)||L0(r)||U0(r)||/windows phone/i.test(r)||P0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r,t=[]){let n;switch(r){case"Browser":n=G_(sn());break;case"Worker":n=`${G_(sn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(r,t={}){return gr(r,"GET","/v2/passwordPolicy",os(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=6;class M1{constructor(t){var n,s,l,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:O1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q_(this),this.idTokenSubscription=new Q_(this),this.beforeStateQueue=new D1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Bc(this,{idToken:t}),s=await Wn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(In(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await qc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=f1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(In(this.app))return Promise.reject(ur(this));const n=t?Xe(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return In(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await x1(this),n=new M1(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await I1(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&lr(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&l1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ls(r){return Xe(r)}class Q_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Yb(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P1(r){rh=r}function B0(r){return rh.loadJS(r)}function k1(){return rh.recaptchaEnterpriseScript}function U1(){return rh.gapiScript}function L1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class j1{constructor(){this.enterprise=new z1}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class z1{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const B1="recaptcha-enterprise",q0="NO_RECAPTCHA";class q1{constructor(t){this.type=B1,this.auth=ls(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,g)=>{v1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new _1(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,f(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,f,g){const p=window.grecaptcha;B_(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(_=>{f(_)}).catch(()=>{f(q0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new j1().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(g=>{if(!n&&B_(window.grecaptcha))l(g,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=k1();p.length!==0&&(p+=g),B0(p).then(()=>{l(g,c,f)}).catch(_=>{f(_)})}}).catch(g=>{f(g)})})}}async function K_(r,t,n,s=!1,l=!1){const c=new q1(r);let f;if(l)f=q0;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const g=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Gd(r,t,n,s,l){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await K_(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await K_(r,t,n,n==="getOobCode");return s(r,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(r,t){const n=mm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Gs(c,t??{}))return l;Fn(l,"already-initialized")}return n.initialize({options:t})}function F1(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(lr);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function G1(r,t,n){const s=ls(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=H0(t),{host:f,port:g}=Q1(t),p=g===null?"":`:${g}`,_={url:`${c}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(Gs(_,s.config.emulator)&&Gs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,uo(f)?(y0(`${c}//${f}${p}`),_0("Auth",!0)):K1()}function H0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Q1(r){const t=H0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Y_(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:Y_(f)}}}function Y_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function K1(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(t){return or("not implemented")}_linkToIdToken(t,n){return or("not implemented")}_getReauthenticationResolver(t){return or("not implemented")}}async function Y1(r,t){return gr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(r,t){return Kl(r,"POST","/v1/accounts:signInWithPassword",os(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(r,t){return Kl(r,"POST","/v1/accounts:signInWithEmailLink",os(r,t))}async function Z1(r,t){return Kl(r,"POST","/v1/accounts:signInWithEmailLink",os(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Tm{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new kl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new kl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gd(t,n,"signInWithPassword",X1);case"emailLink":return $1(t,{email:this._email,oobCode:this._password});default:Fn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gd(t,s,"signUpPassword",Y1);case"emailLink":return Z1(t,{idToken:n,email:this._email,oobCode:this._password});default:Fn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(r,t){return Kl(r,"POST","/v1/accounts:signInWithIdp",os(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="http://localhost";class Ks extends Tm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ks(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=gm(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new Ks(s,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ja(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ja(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ja(t,n)}buildRequest(){const t={requestUri:J1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Gl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tw(r){const t=Al(bl(r)).link,n=t?Al(bl(t)).deep_link_id:null,s=Al(bl(r)).deep_link_id;return(s?Al(bl(s)).link:null)||s||n||t||r}class Am{constructor(t){var n,s,l,c,f,g;const p=Al(bl(t)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,w=W1((l=p.mode)!==null&&l!==void 0?l:null);vt(_&&T&&w,"argument-error"),this.apiKey=_,this.operation=w,this.code=T,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const n=tw(t);try{return new Am(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(t,n){return kl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Am.parseLink(n);return vt(s,"argument-error"),kl._fromEmailAndCode(t,s.code,s.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends bm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Yl{constructor(){super("facebook.com")}static credential(t){return Ks._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ks._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ar.credential(n,s)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Yl{constructor(){super("github.com")}static credential(t){return Ks._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qr.credential(t.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Yl{constructor(){super("twitter.com")}static credential(t,n){return Ks._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(r,t){return Kl(r,"POST","/v1/accounts:signUp",os(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Wn._fromIdTokenResponse(t,s,l),f=X_(s);return new Ys({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=X_(s);return new Ys({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function X_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends mr{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Hc(t,n,s,l)}}function F0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(r,c,t,s):c})}async function nw(r,t,n=!1){const s=await eo(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ys._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(r,t,n=!1){const{auth:s}=r;if(In(s.app))return Promise.reject(ur(s));const l="reauthenticate";try{const c=await eo(r,F0(s,l,t,r),n);vt(c.idToken,s,"internal-error");const f=vm(c.idToken);vt(f,s,"internal-error");const{sub:g}=f;return vt(r.uid===g,s,"user-mismatch"),Ys._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Fn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G0(r,t,n=!1){if(In(r.app))return Promise.reject(ur(r));const s="signIn",l=await F0(r,s,t),c=await Ys._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function rw(r,t){return G0(ls(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q0(r){const t=ls(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function sw(r,t,n){if(In(r.app))return Promise.reject(ur(r));const s=ls(r),f=await Gd(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ew).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Q0(r),p}),g=await Ys._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function aw(r,t,n){return In(r.app)?Promise.reject(ur(r)):rw(Xe(r),ho.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Q0(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(r,t){return gr(r,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $_(r,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const s=Xe(r),c={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},f=await eo(s,ow(s.auth,c));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const g=s.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=s.displayName,g.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function lw(r,t,n,s){return Xe(r).onIdTokenChanged(t,n,s)}function uw(r,t,n){return Xe(r).beforeAuthStateChanged(t,n)}function cw(r,t,n,s){return Xe(r).onAuthStateChanged(t,n,s)}function hw(r){return Xe(r).signOut()}const Fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=1e3,dw=10;class Y0 extends K0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);N1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,dw):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},fw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Y0.type="LOCAL";const mw=Y0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends K0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}X0.type="SESSION";const $0=X0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new sh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async _=>_(n.origin,c)),p=await gw(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const _=Sm("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(w){const C=w;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(C.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function yw(r){Si().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function _w(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Ew(){return Z0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="firebaseLocalStorageDb",Tw=1,Gc="firebaseLocalStorage",W0="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ah(r,t){return r.transaction([Gc],t?"readwrite":"readonly").objectStore(Gc)}function Aw(){const r=indexedDB.deleteDatabase(J0);return new Xl(r).toPromise()}function Qd(){const r=indexedDB.open(J0,Tw);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Gc,{keyPath:W0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Gc)?t(s):(s.close(),await Aw(),t(await Qd()))})})}async function Z_(r,t,n){const s=ah(r,!0).put({[W0]:t,value:n});return new Xl(s).toPromise()}async function bw(r,t){const n=ah(r,!1).get(t),s=await new Xl(n).toPromise();return s===void 0?null:s.value}function J_(r,t){const n=ah(r,!0).delete(t);return new Xl(n).toPromise()}const Sw=800,ww=3;class tE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>ww)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(Ew()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await _w(),!this.activeServiceWorker)return;this.sender=new pw(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||vw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qd();return await Z_(t,Fc,"1"),await J_(t,Fc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Z_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>bw(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>J_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ah(l,!1).getAll();return new Xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tE.type="LOCAL";const Rw=tE;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(r,t){return t?lr(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends Tm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ja(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Iw(r){return G0(r.auth,new wm(r),r.bypassAuthState)}function Cw(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),iw(n,new wm(r),r.bypassAuthState)}async function Nw(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),nw(n,new wm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Iw;case"linkViaPopup":case"linkViaRedirect":return Nw;case"reauthViaPopup":case"reauthViaRedirect":return Cw;default:Fn(this.auth,"internal-error")}}resolve(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Ql(2e3,1e4);async function xw(r,t,n){if(In(r.app))return Promise.reject(ei(r,"operation-not-supported-in-this-environment"));const s=ls(r);u1(r,t,bm);const l=eE(s,n);return new Hs(s,"signInViaPopup",t,l).executeNotNull()}class Hs extends nE{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Hs.currentPopupAction&&Hs.currentPopupAction.cancel(),Hs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const t=Sm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Dw.get())};t()}}Hs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="pendingRedirect",Dc=new Map;class Mw extends nE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Dc.get(this.auth._key());if(!t){try{const s=await Vw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Dc.set(this.auth._key(),t)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vw(r,t){const n=Uw(t),s=kw(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function Pw(r,t){Dc.set(r._key(),t)}function kw(r){return lr(r._redirectPersistence)}function Uw(r){return Nc(Ow,r.config.apiKey,r.name)}async function Lw(r,t,n=!1){if(In(r.app))return Promise.reject(ur(r));const s=ls(r),l=eE(s,t),f=await new Mw(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=10*60*1e3;class zw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Bw(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!iE(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ei(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=jw&&this.cachedEventUids.clear(),this.cachedEventUids.has(W_(t))}saveEventToCache(t){this.cachedEventUids.add(W_(t)),this.lastProcessedEventTime=Date.now()}}function W_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function iE({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Bw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qw(r,t={}){return gr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fw=/^https?/;async function Gw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await qw(r);for(const n of t)try{if(Qw(n))return}catch{}Fn(r,"unauthorized-domain")}function Qw(r){const t=Hd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Fw.test(n))return!1;if(Hw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=new Ql(3e4,6e4);function tv(){const r=Si().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Yw(r){return new Promise((t,n)=>{var s,l,c;function f(){tv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tv(),n(ei(r,"network-request-failed"))},timeout:Kw.get()})}if(!((l=(s=Si().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=Si().gapi)===null||c===void 0)&&c.load)f();else{const g=L1("iframefcb");return Si()[g]=()=>{gapi.load?f():n(ei(r,"network-request-failed"))},B0(`${U1()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw xc=null,t})}let xc=null;function Xw(r){return xc=xc||Yw(r),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=new Ql(5e3,15e3),Zw="__/auth/iframe",Jw="emulator/auth/iframe",Ww={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eR(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?_m(t,Jw):`https://${r.config.authDomain}/${Zw}`,s={apiKey:t.apiKey,appName:r.name,v:co},l=tR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Gl(s).slice(1)}`}async function nR(r){const t=await Xw(r),n=Si().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:eR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ww,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const f=ei(r,"network-request-failed"),g=Si().setTimeout(()=>{c(f)},$w.get());function p(){Si().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rR=500,sR=600,aR="_blank",oR="http://localhost";class ev{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lR(r,t,n,s=rR,l=sR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},iR),{width:s.toString(),height:l.toString(),top:c,left:f}),_=sn().toLowerCase();n&&(g=V0(_)?aR:n),O0(_)&&(t=t||oR,p.scrollbars="yes");const T=Object.entries(p).reduce((C,[F,J])=>`${C}${F}=${J},`,"");if(C1(_)&&g!=="_self")return uR(t||"",g),new ev(null);const w=window.open(t||"",g,T);vt(w,r,"popup-blocked");try{w.focus()}catch{}return new ev(w)}function uR(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="__/auth/handler",hR="emulator/auth/handler",fR=encodeURIComponent("fac");async function nv(r,t,n,s,l,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:co,eventId:l};if(t instanceof bm){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",Kb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(t instanceof Yl){const T=t.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),_=p?`#${fR}=${encodeURIComponent(p)}`:"";return`${dR(r)}?${Gl(g).slice(1)}${_}`}function dR({config:r}){return r.emulator?_m(r,hR):`https://${r.authDomain}/${cR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="webStorageSupport";class mR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$0,this._completeRedirectFn=Lw,this._overrideRedirectResult=Pw}async _openPopup(t,n,s,l){var c;hr((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await nv(t,n,s,Hd(),l);return lR(t,f,Sm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await nv(t,n,s,Hd(),l);return yw(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(hr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await nR(t),s=new zw(t);return n.register("authEvent",l=>(vt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(xd,{type:xd},l=>{var c;const f=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[xd];f!==void 0&&n(!!f),Fn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Gw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return j0()||M0()||Em()}}const gR=mR;var iv="@firebase/auth",rv="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _R(r){to(new Qs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z0(r)},_=new V1(s,l,c,p);return F1(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),to(new Qs("auth-internal",t=>{const n=ls(t.getProvider("auth").getImmediate());return(s=>new pR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(iv,rv,yR(r)),Zr(iv,rv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=5*60,ER=p0("authIdTokenMaxAge")||vR;let sv=null;const TR=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ER)return;const l=n==null?void 0:n.token;sv!==l&&(sv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function AR(r=A0()){const t=mm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=H1(r,{popupRedirectResolver:gR,persistence:[Rw,mw,$0]}),s=p0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=TR(c.toString());uw(n,f,()=>f(n.currentUser)),lw(n,g=>f(g))}}const l=m0("auth");return l&&G1(n,`http://${l}`),n}function bR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}P1({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=ei("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",bR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_R("Browser");var av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jr,rE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,b){function R(){}R.prototype=b.prototype,M.D=b.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(O,V,k){for(var I=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)I[Pt-2]=arguments[Pt];return b.prototype[V].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,b,R){R||(R=0);var O=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)O[V]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=M.g[0],R=M.g[1],V=M.g[2];var k=M.g[3],I=b+(k^R&(V^k))+O[0]+3614090360&4294967295;b=R+(I<<7&4294967295|I>>>25),I=k+(V^b&(R^V))+O[1]+3905402710&4294967295,k=b+(I<<12&4294967295|I>>>20),I=V+(R^k&(b^R))+O[2]+606105819&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(b^V&(k^b))+O[3]+3250441966&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(k^R&(V^k))+O[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(V^b&(R^V))+O[5]+1200080426&4294967295,k=b+(I<<12&4294967295|I>>>20),I=V+(R^k&(b^R))+O[6]+2821735955&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(b^V&(k^b))+O[7]+4249261313&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(k^R&(V^k))+O[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(V^b&(R^V))+O[9]+2336552879&4294967295,k=b+(I<<12&4294967295|I>>>20),I=V+(R^k&(b^R))+O[10]+4294925233&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(b^V&(k^b))+O[11]+2304563134&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(k^R&(V^k))+O[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(V^b&(R^V))+O[13]+4254626195&4294967295,k=b+(I<<12&4294967295|I>>>20),I=V+(R^k&(b^R))+O[14]+2792965006&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(b^V&(k^b))+O[15]+1236535329&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(V^k&(R^V))+O[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(b^R))+O[6]+3225465664&4294967295,k=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(k^b))+O[11]+643717713&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(V^k))+O[0]+3921069994&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(V^k&(R^V))+O[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(b^R))+O[10]+38016083&4294967295,k=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(k^b))+O[15]+3634488961&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(V^k))+O[4]+3889429448&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(V^k&(R^V))+O[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(b^R))+O[14]+3275163606&4294967295,k=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(k^b))+O[3]+4107603335&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(V^k))+O[8]+1163531501&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(V^k&(R^V))+O[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(b^R))+O[2]+4243563512&4294967295,k=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(k^b))+O[7]+1735328473&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(V^k))+O[12]+2368359562&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(R^V^k)+O[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^V)+O[8]+2272392833&4294967295,k=b+(I<<11&4294967295|I>>>21),I=V+(k^b^R)+O[11]+1839030562&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^b)+O[14]+4259657740&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(R^V^k)+O[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^V)+O[4]+1272893353&4294967295,k=b+(I<<11&4294967295|I>>>21),I=V+(k^b^R)+O[7]+4139469664&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^b)+O[10]+3200236656&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(R^V^k)+O[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^V)+O[0]+3936430074&4294967295,k=b+(I<<11&4294967295|I>>>21),I=V+(k^b^R)+O[3]+3572445317&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^b)+O[6]+76029189&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(R^V^k)+O[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^V)+O[12]+3873151461&4294967295,k=b+(I<<11&4294967295|I>>>21),I=V+(k^b^R)+O[15]+530742520&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^b)+O[2]+3299628645&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(V^(R|~k))+O[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~V))+O[7]+1126891415&4294967295,k=b+(I<<10&4294967295|I>>>22),I=V+(b^(k|~R))+O[14]+2878612391&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~b))+O[5]+4237533241&4294967295,R=V+(I<<21&4294967295|I>>>11),I=b+(V^(R|~k))+O[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~V))+O[3]+2399980690&4294967295,k=b+(I<<10&4294967295|I>>>22),I=V+(b^(k|~R))+O[10]+4293915773&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~b))+O[1]+2240044497&4294967295,R=V+(I<<21&4294967295|I>>>11),I=b+(V^(R|~k))+O[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~V))+O[15]+4264355552&4294967295,k=b+(I<<10&4294967295|I>>>22),I=V+(b^(k|~R))+O[6]+2734768916&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~b))+O[13]+1309151649&4294967295,R=V+(I<<21&4294967295|I>>>11),I=b+(V^(R|~k))+O[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~V))+O[11]+3174756917&4294967295,k=b+(I<<10&4294967295|I>>>22),I=V+(b^(k|~R))+O[2]+718787259&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~b))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+k&4294967295}s.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var R=b-this.blockSize,O=this.B,V=this.h,k=0;k<b;){if(V==0)for(;k<=R;)l(this,M,k),k+=this.blockSize;if(typeof M=="string"){for(;k<b;)if(O[V++]=M.charCodeAt(k++),V==this.blockSize){l(this,O),V=0;break}}else for(;k<b;)if(O[V++]=M[k++],V==this.blockSize){l(this,O),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var R=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=R&255,R/=256;for(this.u(M),M=Array(16),b=R=0;4>b;++b)for(var O=0;32>O;O+=8)M[R++]=this.g[b]>>>O&255;return M};function c(M,b){var R=g;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=b(M)}function f(M,b){this.h=b;for(var R=[],O=!0,V=M.length-1;0<=V;V--){var k=M[V]|0;O&&k==b||(R[V]=k,O=!1)}this.g=R}var g={};function p(M){return-128<=M&&128>M?c(M,function(b){return new f([b|0],0>b?-1:0)}):new f([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return tt(_(-M));for(var b=[],R=1,O=0;M>=R;O++)b[O]=M/R|0,R*=4294967296;return new f(b,0)}function T(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return tt(T(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(b,8)),O=w,V=0;V<M.length;V+=8){var k=Math.min(8,M.length-V),I=parseInt(M.substring(V,V+k),b);8>k?(k=_(Math.pow(b,k)),O=O.j(k).add(_(I))):(O=O.j(R),O=O.add(_(I)))}return O}var w=p(0),C=p(1),F=p(16777216);r=f.prototype,r.m=function(){if(it(this))return-tt(this).m();for(var M=0,b=1,R=0;R<this.g.length;R++){var O=this.i(R);M+=(0<=O?O:4294967296+O)*b,b*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(J(this))return"0";if(it(this))return"-"+tt(this).toString(M);for(var b=_(Math.pow(M,6)),R=this,O="";;){var V=Ot(R,b).g;R=Tt(R,V.j(b));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=V,J(R))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function J(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function it(M){return M.h==-1}r.l=function(M){return M=Tt(this,M),it(M)?-1:J(M)?0:1};function tt(M){for(var b=M.g.length,R=[],O=0;O<b;O++)R[O]=~M.g[O];return new f(R,~M.h).add(C)}r.abs=function(){return it(this)?tt(this):this},r.add=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],O=0,V=0;V<=b;V++){var k=O+(this.i(V)&65535)+(M.i(V)&65535),I=(k>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);O=I>>>16,k&=65535,I&=65535,R[V]=I<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Tt(M,b){return M.add(tt(b))}r.j=function(M){if(J(this)||J(M))return w;if(it(this))return it(M)?tt(this).j(tt(M)):tt(tt(this).j(M));if(it(M))return tt(this.j(tt(M)));if(0>this.l(F)&&0>M.l(F))return _(this.m()*M.m());for(var b=this.g.length+M.g.length,R=[],O=0;O<2*b;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<M.g.length;V++){var k=this.i(O)>>>16,I=this.i(O)&65535,Pt=M.i(V)>>>16,oe=M.i(V)&65535;R[2*O+2*V]+=I*oe,ct(R,2*O+2*V),R[2*O+2*V+1]+=k*oe,ct(R,2*O+2*V+1),R[2*O+2*V+1]+=I*Pt,ct(R,2*O+2*V+1),R[2*O+2*V+2]+=k*Pt,ct(R,2*O+2*V+2)}for(O=0;O<b;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=b;O<2*b;O++)R[O]=0;return new f(R,0)};function ct(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function ht(M,b){this.g=M,this.h=b}function Ot(M,b){if(J(b))throw Error("division by zero");if(J(M))return new ht(w,w);if(it(M))return b=Ot(tt(M),b),new ht(tt(b.g),tt(b.h));if(it(b))return b=Ot(M,tt(b)),new ht(tt(b.g),b.h);if(30<M.g.length){if(it(M)||it(b))throw Error("slowDivide_ only works with positive integers.");for(var R=C,O=b;0>=O.l(M);)R=_t(R),O=_t(O);var V=wt(R,1),k=wt(O,1);for(O=wt(O,2),R=wt(R,2);!J(O);){var I=k.add(O);0>=I.l(M)&&(V=V.add(R),k=I),O=wt(O,1),R=wt(R,1)}return b=Tt(M,V.j(b)),new ht(V,b)}for(V=w;0<=M.l(b);){for(R=Math.max(1,Math.floor(M.m()/b.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=_(R),I=k.j(b);it(I)||0<I.l(M);)R-=O,k=_(R),I=k.j(b);J(k)&&(k=C),V=V.add(k),M=Tt(M,I)}return new ht(V,M)}r.A=function(M){return Ot(this,M).h},r.and=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],O=0;O<b;O++)R[O]=this.i(O)&M.i(O);return new f(R,this.h&M.h)},r.or=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],O=0;O<b;O++)R[O]=this.i(O)|M.i(O);return new f(R,this.h|M.h)},r.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),R=[],O=0;O<b;O++)R[O]=this.i(O)^M.i(O);return new f(R,this.h^M.h)};function _t(M){for(var b=M.g.length+1,R=[],O=0;O<b;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new f(R,M.h)}function wt(M,b){var R=b>>5;b%=32;for(var O=M.g.length-R,V=[],k=0;k<O;k++)V[k]=0<b?M.i(k+R)>>>b|M.i(k+R+1)<<32-b:M.i(k+R);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,rE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,Jr=f}).apply(typeof av<"u"?av:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sE,Sl,aE,Oc,Kd,oE,lE,uE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in y))break t;y=y[U]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,A=!1,U={next:function(){if(!A&&y<u.length){var H=y++;return{value:m(H,u[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,y){return u.call.apply(u.bind,arguments)}function w(u,m,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function C(u,m,y){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,C.apply(null,arguments)}function F(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function J(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,U,H){for(var et=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)et[zt-2]=arguments[zt];return m.prototype[U].apply(A,et)}}function it(u){const m=u.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function tt(u,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const U=u.length||0,H=A.length||0;u.length=U+H;for(let et=0;et<H;et++)u[U+et]=A[et]}else u.push(A)}}class Tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ct(u){return/^[\s\xa0]*$/.test(u)}function ht(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Ot(u){return Ot[" "](u),u}Ot[" "]=function(){};var _t=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function wt(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function M(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function b(u){const m={};for(const y in u)m[y]=u[y];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let y,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(y in A)u[y]=A[y];for(let H=0;H<R.length;H++)y=R[H],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function V(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function k(u){g.setTimeout(()=>{throw u},0)}function I(){var u=Lt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Pt{constructor(){this.h=this.g=null}add(m,y){const A=oe.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var oe=new Tt(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ut=!1,Lt=new Pt,N=()=>{const u=g.Promise.resolve(void 0);rt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(y){k(y)}var m=oe;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ut=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function mt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{Ot(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:At[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&mt.aa.h.call(this)}}J(mt,W);var At={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),jt=0;function _n(u,m,y,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=U,this.key=++jt,this.da=this.fa=!1}function fn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Cn(u){this.src=u,this.g={},this.h=0}Cn.prototype.add=function(u,m,y,A,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var et=Ni(u,m,A,U);return-1<et?(m=u[et],y||(m.fa=!1)):(m=new _n(m,this.src,H,!!A,U),m.fa=y,u.push(m)),m};function Nn(u,m){var y=m.type;if(y in u.g){var A=u.g[y],U=Array.prototype.indexOf.call(A,m,void 0),H;(H=0<=U)&&Array.prototype.splice.call(A,U,1),H&&(fn(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Ni(u,m,y,A){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==m&&H.capture==!!y&&H.ha==A)return U}return-1}var Di="closure_lm_"+(1e6*Math.random()|0),xi={};function Gn(u,m,y,A,U){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Gn(u,m[H],y,A,U);return null}return y=Dn(y),u&&u[de]?u.K(m,y,_(A)?!!A.capture:!1,U):Te(u,m,y,!1,A,U)}function Te(u,m,y,A,U,H){if(!m)throw Error("Invalid event type");var et=_(U)?!!U.capture:!!U,zt=pr(u);if(zt||(u[Di]=zt=new Cn(u)),y=zt.add(m,y,A,et,H),y.proxy)return y;if(A=Qn(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)at||(U=et),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(an(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Qn(){function u(y){return m.call(u.src,u.listener,y)}const m=us;return u}function ri(u,m,y,A,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)ri(u,m[H],y,A,U);else A=_(A)?!!A.capture:!!A,y=Dn(y),u&&u[de]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],y=Ni(H,y,A,U),-1<y&&(fn(H[y]),Array.prototype.splice.call(H,y,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=pr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ni(m,y,A,U)),(y=-1<u?m[u]:null)&&Ze(y))}function Ze(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])Nn(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(an(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=pr(m))?(Nn(y,u),y.h==0&&(y.src=null,m[Di]=null)):fn(u)}}}function an(u){return u in xi?xi[u]:xi[u]="on"+u}function us(u,m){if(u.da)u=!0;else{m=new mt(m,this);var y=u.listener,A=u.ha||u.src;u.fa&&Ze(u),u=y.call(A,m)}return u}function pr(u){return u=u[Di],u instanceof Cn?u:null}var cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dn(u){return typeof u=="function"?u:(u[cs]||(u[cs]=function(m){return u.handleEvent(m)}),u[cs])}function le(){nt.call(this),this.i=new Cn(this),this.M=this,this.F=null}J(le,nt),le.prototype[de]=!0,le.prototype.removeEventListener=function(u,m,y,A){ri(this,u,m,y,A)};function Qt(u,m){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var U=m;m=new W(A,u),O(m,U)}if(U=!0,y)for(var H=y.length-1;0<=H;H--){var et=m.g=y[H];U=Je(et,A,!0,m)&&U}if(et=m.g=u,U=Je(et,A,!0,m)&&U,U=Je(et,A,!1,m)&&U,y)for(H=0;H<y.length;H++)et=m.g=y[H],U=Je(et,A,!1,m)&&U}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],A=0;A<y.length;A++)fn(y[A]);delete u.g[m],u.h--}}this.F=null},le.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},le.prototype.L=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function Je(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,H=0;H<m.length;++H){var et=m[H];if(et&&!et.da&&et.capture==y){var zt=et.listener,Ne=et.ha||et.src;et.fa&&Nn(u.i,et),U=zt.call(Ne,A)!==!1&&U}}return U&&!A.defaultPrevented}function Pe(u,m,y){if(typeof u=="function")y&&(u=C(u,y));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function na(u){u.g=Pe(()=>{u.g=null,u.i&&(u.i=!1,na(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class _o extends nt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:na(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oi(u){nt.call(this),this.h=u,this.g={}}J(Oi,nt);var Mi=[];function Vi(u){wt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ze(m)},u),u.g={}}Oi.prototype.N=function(){Oi.aa.N.call(this),Vi(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=g.JSON.stringify,yr=g.JSON.parse,Pi=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function hs(){}hs.prototype.h=null;function G(u){return u.h||(u.h=u.i())}function It(){}var Ft={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function re(){W.call(this,"d")}J(re,W);function me(){W.call(this,"c")}J(me,W);var se={},si=null;function ai(){return si=si||new le}se.La="serverreachability";function ki(u){W.call(this,se.La,u)}J(ki,W);function Kn(u){const m=ai();Qt(m,new ki(m))}se.STAT_EVENT="statevent";function eu(u,m){W.call(this,se.STAT_EVENT,u),this.stat=m}J(eu,W);function ue(u){const m=ai();Qt(m,new eu(m,u))}se.Ma="timingevent";function Ce(u,m){W.call(this,se.Ma,u),this.size=m}J(Ce,W);function Ae(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function xn(){this.g=!0}xn.prototype.xa=function(){this.g=!1};function vo(u,m,y,A,U,H){u.info(function(){if(u.g)if(H)for(var et="",zt=H.split("&"),Ne=0;Ne<zt.length;Ne++){var Bt=zt[Ne].split("=");if(1<Bt.length){var Ue=Bt[0];Bt=Bt[1];var De=Ue.split("_");et=2<=De.length&&De[1]=="type"?et+(Ue+"="+Bt+"&"):et+(Ue+"=redacted&")}}else et=null;else et=H;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+y+`
`+et})}function Th(u,m,y,A,U,H,et){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+y+`
`+H+" "+et})}function _r(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+fs(u,y)+(A?" "+A:"")})}function nu(u,m){u.info(function(){return"TIMEOUT: "+m})}xn.prototype.info=function(){};function fs(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var et=1;et<U.length;et++)U[et]=""}}}}return dn(y)}catch{return m}}var vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oi;function li(){}J(li,hs),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},oi=new li;function on(u,m,y,A){this.j=u,this.i=m,this.l=y,this.R=A||1,this.U=new Oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var Eo={},ia={};function Yn(u,m,y){u.L=1,u.v=ys(vn(m)),u.m=y,u.P=!0,Li(u,null)}function Li(u,m){u.F=Date.now(),ds(u),u.A=vn(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Ro(y.i,"t",A),u.C=0,y=u.j.J,u.h=new ye,u.g=_u(u.j,y?m:null,!u.m),0<u.O&&(u.M=new _o(C(u.Y,u,u.g),u.O)),m=u.U,y=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Mi[0]=U.toString()),U=Mi);for(var H=0;H<U.length;H++){var et=Gn(y,U[H],A||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Kn(),vo(u.i,u.u,u.A,u.l,u.R,u.m)}on.prototype.ca=function(u){u=u.target;const m=this.M;m&&Pn(u)==3?m.j():this.Y(u)},on.prototype.Y=function(u){try{if(u==this.g)t:{const De=Pn(this.g);var m=this.g.Ba();const Qi=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||cu(this.g)))){this.J||De!=4||m==7||(m==8||0>=Qi?Kn(3):Kn(2)),Er(this);var y=this.g.Z();this.X=y;e:if(iu(this)){var A=cu(this.g);u="";var U=A.length,H=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),ui(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(H&&m==U-1)});A.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=y==200,Th(this.i,this.u,this.A,this.l,this.R,De,y),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Ne=this.g;if((zt=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(zt)){var Bt=zt;break e}}Bt=null}if(y=Bt)_r(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ms(this,y);else{this.o=!1,this.s=3,ue(12),qe(this),ui(this);break t}}if(this.P){y=!0;let He;for(;!this.J&&this.C<et.length;)if(He=ru(this,et),He==ia){De==4&&(this.s=4,ue(14),y=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(He==Eo){this.s=4,ue(15),_r(this.i,this.l,et,"[Invalid Chunk]"),y=!1;break}else _r(this.i,this.l,He,null),ms(this,He);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||et.length!=0||this.h.h||(this.s=1,ue(16),y=!1),this.o=this.o&&y,!y)_r(this.i,this.l,et,"[Invalid Chunked Response]"),qe(this),ui(this);else if(0<et.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),ws(Ue),Ue.M=!0,ue(11))}}else _r(this.i,this.l,et,null),ms(this,et);De==4&&qe(this),this.o&&!this.J&&(De==4?gu(this.j,this):(this.o=!1,ds(this)))}else Rh(this.g),y==400&&0<et.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),qe(this),ui(this)}}}catch{}finally{}};function iu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ru(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?ia:(y=Number(m.substring(y,A)),isNaN(y)?Eo:(A+=1,A+y>m.length?ia:(m=m.slice(A,A+y),u.C=A+y,m)))}on.prototype.cancel=function(){this.J=!0,qe(this)};function ds(u){u.S=Date.now()+u.I,su(u,u.I)}function su(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ae(C(u.ba,u),m)}function Er(u){u.B&&(g.clearTimeout(u.B),u.B=null)}on.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(nu(this.i,this.A),this.L!=2&&(Kn(),ue(17)),qe(this),this.s=2,ui(this)):su(this,this.S-u)};function ui(u){u.j.G==0||u.J||gu(u.j,u)}function qe(u){Er(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Vi(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ms(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||To(y.h,u))){if(!u.K&&To(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)ga(y),da(y);else break t;xo(y),ue(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=Ae(C(y.Za,y),6e3));if(1>=sa(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Gi(y,11)}else if((u.K||y.g==u)&&ga(y),!ct(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];if(y.T=Bt[0],Bt=Bt[1],y.G==2)if(Bt[0]=="c"){y.K=Bt[1],y.ia=Bt[2];const Ue=Bt[3];Ue!=null&&(y.la=Ue,y.j.info("VER="+y.la));const De=Bt[4];De!=null&&(y.Aa=De,y.j.info("SVER="+y.Aa));const Qi=Bt[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(A=1.5*Qi,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const He=u.g;if(He){const pi=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var H=A.h;H.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(aa(H,H.h),H.h=null))}if(A.D){const Mo=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(A.ya=Mo,Jt(A.I,A.D,Mo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var et=u;if(A.qa=yu(A,A.J?A.ia:null,A.W),et.K){ln(A.h,et);var zt=et,Ne=A.L;Ne&&(zt.I=Ne),zt.B&&(Er(zt),ds(zt)),A.g=et}else du(A);0<y.i.length&&ma(y)}else Bt[0]!="stop"&&Bt[0]!="close"||Gi(y,7);else y.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Gi(y,7):No(y):Bt[0]!="noop"&&y.l&&y.l.ta(Bt),y.v=0)}}Kn(4)}catch{}}var au=class{constructor(u,m){this.g=u,this.map=m}};function ji(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ra(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function sa(u){return u.h?1:u.g?u.g.size:0}function To(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function aa(u,m){u.g?u.g.add(m):u.h=m}function ln(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ji.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return it(u.i)}function Ah(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,A=0;A<y;A++)m.push(u[A]);return m}m=[],y=0;for(A in u)m[y++]=u[A];return m}function oa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const A in u)m[y++]=A;return m}}}function bo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=oa(u),A=Ah(u),U=A.length,H=0;H<U;H++)m.call(void 0,A[H],y&&y[H],u)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),U=null;if(0<=A){var H=u[y].substring(0,A);U=u[y].substring(A+1)}else H=u[y];m(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function be(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof be){this.h=u.h,ps(this,u.j),this.o=u.o,this.g=u.g,Tr(this,u.s),this.l=u.l;var m=u.i,y=new Bi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),zi(this,y),this.m=u.m}else u&&(m=String(u).match(gs))?(this.h=!1,ps(this,m[1]||"",!0),this.o=On(m[2]||""),this.g=On(m[3]||"",!0),Tr(this,m[4]),this.l=On(m[5]||"",!0),zi(this,m[6]||"",!0),this.m=On(m[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}be.prototype.toString=function(){var u=[],m=this.j;m&&u.push(_s(m,So,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(_s(m,So,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(_s(y,y.charAt(0)=="/"?Sh:wo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",_s(y,la)),u.join("")};function vn(u){return new be(u)}function ps(u,m,y){u.j=y?On(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Tr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function zi(u,m,y){m instanceof Bi?(u.i=m,lu(u.i,u.h)):(y||(m=_s(m,wh)),u.i=new Bi(m,u.h))}function Jt(u,m,y){u.i.set(m,y)}function ys(u){return Jt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function On(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _s(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,ou),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ou(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var So=/[#\/\?@]/g,wo=/[#\?:]/g,Sh=/[#\?]/g,wh=/[#\?@]/g,la=/#/g;function Bi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Mn(u){u.g||(u.g=new Map,u.h=0,u.i&&bh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Bi.prototype,r.add=function(u,m){Mn(this),this.i=null,u=ci(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function qi(u,m){Mn(u),m=ci(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Hi(u,m){return Mn(u),m=ci(u,m),u.g.has(m)}r.forEach=function(u,m){Mn(this),this.g.forEach(function(y,A){y.forEach(function(U){u.call(m,U,A,this)},this)},this)},r.na=function(){Mn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const U=u[A];for(let H=0;H<U.length;H++)y.push(m[A])}return y},r.V=function(u){Mn(this);let m=[];if(typeof u=="string")Hi(this,u)&&(m=m.concat(this.g.get(ci(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return Mn(this),this.i=null,u=ci(this,u),Hi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ro(u,m,y){qi(u,m),0<y.length&&(u.i=null,u.g.set(ci(u,m),it(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const H=encodeURIComponent(String(A)),et=this.V(A);for(A=0;A<et.length;A++){var U=H;et[A]!==""&&(U+="="+encodeURIComponent(String(et[A]))),u.push(U)}}return this.i=u.join("&")};function ci(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function lu(u,m){m&&!u.j&&(Mn(u),u.i=null,u.g.forEach(function(y,A){var U=A.toLowerCase();A!=U&&(qi(this,A),Ro(this,U,y))},u)),u.j=m}function vs(u,m){const y=new xn;if(g.Image){const A=new Image;A.onload=F(Vn,y,"TestLoadImage: loaded",!0,m,A),A.onerror=F(Vn,y,"TestLoadImage: error",!1,m,A),A.onabort=F(Vn,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=F(Vn,y,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Xn(u,m){const y=new xn,A=new AbortController,U=setTimeout(()=>{A.abort(),Vn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(H=>{clearTimeout(U),H.ok?Vn(y,"TestPingServer: ok",!0,m):Vn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Vn(y,"TestPingServer: error",!1,m)})}function Vn(u,m,y,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(y)}catch{}}function Es(){this.g=new Pi}function hi(u,m,y){const A=y||"";try{bo(u,function(U,H){let et=U;_(U)&&(et=dn(U)),m.push(A+H+"="+encodeURIComponent(et))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function Ar(u){this.l=u.Ub||null,this.j=u.eb||!1}J(Ar,hs),Ar.prototype.g=function(){return new Fi(this.l,this.j)},Ar.prototype.i=function(u){return function(){return u}}({});function Fi(u,m){le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(Fi,le),r=Fi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,di(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Io(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Io(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fi(this):di(this),this.readyState==3&&Io(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,fi(this))},r.Qa=function(u){this.g&&(this.response=u,fi(this))},r.ga=function(){this.g&&fi(this)};function fi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,di(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Co(u){let m="";return wt(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function ke(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=Co(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Jt(u,m,y))}function Yt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(Yt,le);var ua=/^https?$/i,Ts=["POST","PUT"];r=Yt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oi.g(),this.v=this.o?G(this.o):G(oi),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){uu(this,H);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)y.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())y.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ts,m,void 0))||A||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,et]of y)this.g.setRequestHeader(H,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){uu(this,H)}};function uu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ca(u),mi(u)}function ca(u){u.A||(u.A=!0,Qt(u,"complete"),Qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Qt(this,"complete"),Qt(this,"abort"),mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),Yt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},r.bb=function(){ha(this)};function ha(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Pn(u)!=4||u.Z()!=2)){if(u.u&&Pn(u)==4)Pe(u.Ea,0,u);else if(Qt(u,"readystatechange"),Pn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=et===0){var U=String(u.D).match(gs)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),A=!ua.test(U?U.toLowerCase():"")}y=A}if(y)Qt(u,"complete"),Qt(u,"success");else{u.m=6;try{var H=2<Pn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",ca(u)}}finally{mi(u)}}}}function mi(u,m){if(u.g){As(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Qt(u,"ready");try{y.onreadystatechange=A}catch{}}}function As(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Pn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),yr(m)}};function cu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Rh(u){const m={};u=(u.g&&2<=Pn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ct(u[A]))continue;var y=V(u[A]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const H=m[U]||[];m[U]=H,H.push(y)}M(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function fa(u){this.Aa=0,this.i=[],this.j=new xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,u),this.cb=bs("retryDelaySeedMs",1e4,u),this.Wa=bs("forwardChannelMaxRetries",2,u),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(u&&u.concurrentRequestLimit),this.Da=new Es,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=fa.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,A){ue(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=yu(this,null,this.W),ma(this)};function No(u){if(hu(u),u.G==3){var m=u.U++,y=vn(u.I);if(Jt(y,"SID",u.K),Jt(y,"RID",m),Jt(y,"TYPE","terminate"),Ss(u,y),m=new on(u,u.j,m),m.L=2,m.v=ys(vn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=_u(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ds(m)}pu(u)}function da(u){u.g&&(ws(u),u.g.cancel(),u.g=null)}function hu(u){da(u),u.u&&(g.clearTimeout(u.u),u.u=null),ga(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ma(u){if(!ra(u.h)&&!u.s){u.s=!0;var m=u.Ga;rt||N(),ut||(rt(),ut=!0),Lt.add(m,u),u.B=0}}function Ih(u,m){return sa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ae(C(u.Ga,u,m),Oo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new on(this,this.j,u);let H=this.o;if(this.S&&(H?(H=b(H),O(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=fu(this,U,m),y=vn(this.I),Jt(y,"RID",u),Jt(y,"CVER",22),this.D&&Jt(y,"X-HTTP-Session-Id",this.D),Ss(this,y),H&&(this.O?m="headers="+encodeURIComponent(String(Co(H)))+"&"+m:this.m&&ke(y,this.m,H)),aa(this.h,U),this.Ua&&Jt(y,"TYPE","init"),this.P?(Jt(y,"$req",m),Jt(y,"SID","null"),U.T=!0,Yn(U,y,null)):Yn(U,y,m),this.G=2}}else this.G==3&&(u?Do(this,u):this.i.length==0||ra(this.h)||Do(this))};function Do(u,m){var y;m?y=m.l:y=u.U++;const A=vn(u.I);Jt(A,"SID",u.K),Jt(A,"RID",y),Jt(A,"AID",u.T),Ss(u,A),u.m&&u.o&&ke(A,u.m,u.o),y=new on(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=fu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),aa(u.h,y),Yn(y,A,m)}function Ss(u,m){u.H&&wt(u.H,function(y,A){Jt(m,A,y)}),u.l&&bo({},function(y,A){Jt(m,A,y)})}function fu(u,m,y){y=Math.min(u.i.length,y);var A=u.l?C(u.l.Na,u.l,u):null;t:{var U=u.i;let H=-1;for(;;){const et=["count="+y];H==-1?0<y?(H=U[0].g,et.push("ofs="+H)):H=0:et.push("ofs="+H);let zt=!0;for(let Ne=0;Ne<y;Ne++){let Bt=U[Ne].g;const Ue=U[Ne].map;if(Bt-=H,0>Bt)H=Math.max(0,U[Ne].g-100),zt=!1;else try{hi(Ue,et,"req"+Bt+"_")}catch{A&&A(Ue)}}if(zt){A=et.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,A}function du(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;rt||N(),ut||(rt(),ut=!0),Lt.add(m,u),u.v=0}}function xo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ae(C(u.Fa,u),Oo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ae(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),da(this),mu(this))};function ws(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function mu(u){u.g=new on(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=vn(u.qa);Jt(m,"RID","rpc"),Jt(m,"SID",u.K),Jt(m,"AID",u.T),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Jt(m,"TO",u.ja),Jt(m,"TYPE","xmlhttp"),Ss(u,m),u.m&&u.o&&ke(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=ys(vn(m)),y.m=null,y.P=!0,Li(y,u)}r.Za=function(){this.C!=null&&(this.C=null,da(this),xo(this),ue(19))};function ga(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function gu(u,m){var y=null;if(u.g==m){ga(u),ws(u),u.g=null;var A=2}else if(To(u.h,m))y=m.D,ln(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;A=ai(),Qt(A,new Ce(A,y)),ma(u)}else du(u);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&Ih(u,m)||A==2&&xo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:Gi(u,5);break;case 4:Gi(u,10);break;case 3:Gi(u,6);break;default:Gi(u,2)}}}function Oo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Gi(u,m){if(u.j.info("Error code "+m),m==2){var y=C(u.fb,u),A=u.Xa;const U=!A;A=new be(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ps(A,"https"),ys(A),U?vs(A.toString(),y):Xn(A.toString(),y)}else ue(2);u.G=0,u.l&&u.l.sa(m),pu(u),hu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function pu(u){if(u.G=0,u.ka=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ka,m),tt(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function yu(u,m,y){var A=y instanceof be?vn(y):new be(y);if(A.g!="")m&&(A.g=m+"."+A.g),Tr(A,A.s);else{var U=g.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var H=new be(null);A&&ps(H,A),m&&(H.g=m),U&&Tr(H,U),y&&(H.l=y),A=H}return y=u.D,m=u.ya,y&&m&&Jt(A,y,m),Jt(A,"VER",u.la),Ss(u,A),A}function _u(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Yt(new Ar({eb:y})):new Yt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function pa(){}pa.prototype.g=function(u,m){return new un(u,m)};function un(u,m){le.call(this),this.g=new fa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ct(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ct(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new gi(this)}J(un,le),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){No(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=dn(u),u=y);m.i.push(new au(m.Ya++,u)),m.G==3&&ma(m)},un.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,un.aa.N.call(this)};function Eu(u){re.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(Eu,re);function Tu(){me.call(this),this.status=1}J(Tu,me);function gi(u){this.g=u}J(gi,vu),gi.prototype.ua=function(){Qt(this.g,"a")},gi.prototype.ta=function(u){Qt(this.g,new Eu(u))},gi.prototype.sa=function(u){Qt(this.g,new Tu)},gi.prototype.ra=function(){Qt(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,uE=function(){return new pa},lE=function(){return ai()},oE=se,Kd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,Oc=vr,Ui.COMPLETE="complete",aE=Ui,It.EventType=Ft,Ft.OPEN="a",Ft.CLOSE="b",Ft.ERROR="c",Ft.MESSAGE="d",le.prototype.listen=le.prototype.K,Sl=It,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,sE=Yt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const ov="@firebase/firestore",lv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new fm("@firebase/firestore");function Qa(){return Xs.logLevel}function st(r,...t){if(Xs.logLevel<=kt.DEBUG){const n=t.map(Rm);Xs.debug(`Firestore (${fo}): ${r}`,...n)}}function fr(r,...t){if(Xs.logLevel<=kt.ERROR){const n=t.map(Rm);Xs.error(`Firestore (${fo}): ${r}`,...n)}}function no(r,...t){if(Xs.logLevel<=kt.WARN){const n=t.map(Rm);Xs.warn(`Firestore (${fo}): ${r}`,...n)}}function Rm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,cE(r,s,n)}function cE(r,t,n){let s=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function Xt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||cE(t,l,s)}function Rt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends mr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class wR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RR{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Xt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Wr,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Wr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xt(typeof s.accessToken=="string",31837,{l:s}),new hE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class IR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new IR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Xt(this.o===void 0,3512);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=DR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Dt(r,t){return r<t?-1:r>t?1:0}function Yd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return Dt(s,l);{const c=fE(),f=xR(c.encode(cv(r,n)),c.encode(cv(t,n)));return f!==0?f:Dt(s,l)}}n+=s>65535?2:1}return Dt(r.length,t.length)}function cv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function xR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Dt(r[n],t[n]);return Dt(r.length,t.length)}function io(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=-62135596800,fv=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(t){return Me.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*fv);return new Me(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<hv)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-hv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new Me(0,0))}static max(){return new St(new Me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="__name__";class bi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return bi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof bi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=bi.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Dt(t.length,n.length)}static compareSegments(t,n){const s=bi.isNumericId(t),l=bi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?bi.extractNumericId(t).compare(bi.extractNumericId(n)):Yd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Jr.fromString(t.substring(4,t.length-2))}}class ae extends bi{construct(t,n,s){return new ae(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new ae(n)}static emptyPath(){return new ae([])}}const OR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends bi{construct(t,n,s){return new Ye(t,n,s)}static isValidIdentifier(t){return OR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dv}static keyField(){return new Ye([dv])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(c(),l++)}if(c(),f)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(n)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ae.fromString(t))}static fromName(t){return new dt(ae.fromString(t).popFirst(5))}static empty(){return new dt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function MR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(s===1e9?new Me(n+1,0):new Me(n,s));return new es(l,dt.empty(),t)}function VR(r){return new es(r.readTime,r.key,Ul)}class es{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new es(St.min(),dt.empty(),Ul)}static max(){return new es(St.max(),dt.empty(),Ul)}}function PR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:Dt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==kR)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$.reject(n)}static resolve(t){return new $((n,s)=>{n(t)})}static reject(t){return new $((n,s)=>{s(t)})}static waitFor(t){return new $((n,s)=>{let l=0,c=0,f=!1;t.forEach(g=>{++l,g.next(()=>{++c,f&&c===l&&n()},p=>s(p))}),f=!0,c===l&&n()})}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next(l=>l?$.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new $((s,l)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(T=>{f[_]=T,++g,g===c&&s(f)},T=>l(T))}})}static doWhile(t,n){return new $((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function LR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function go(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}oh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=-1;function lh(r){return r==null}function Qc(r){return r===0&&1/r==-1/0}function jR(r){return typeof r=="number"&&Number.isInteger(r)&&!Qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="";function zR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=mv(t)),t=BR(r.get(n),t);return mv(t)}function BR(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case mE:n+="";break;default:n+=c}}return n}function mv(r){return r+mE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Js(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function gE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??Ke.RED,this.left=l??Ke.EMPTY,this.right=c??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new Ke(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new pv(this.data.getIterator())}getIteratorFrom(t){return new pv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class pv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new ti([])}unionWith(t){let n=new Ve(Ye.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new ti(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pE("Invalid base64 string: "+c):c}}(t);return new $e(n)}static fromUint8Array(t){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(t);return new $e(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const qR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(r){if(Xt(!!r,39018),typeof r=="string"){let t=0;const n=qR.exec(r);if(Xt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(r.seconds),nanos:Ee(r.nanos)}}function Ee(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function is(r){return typeof r=="string"?$e.fromBase64String(r):$e.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="server_timestamp",_E="__type__",vE="__previous_value__",EE="__local_write_time__";function Cm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[_E])===null||n===void 0?void 0:n.stringValue)===yE}function uh(r){const t=r.mapValue.fields[vE];return Cm(t)?uh(t):t}function Ll(r){const t=ns(r.mapValue.fields[EE].timestampValue);return new Me(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,n,s,l,c,f,g,p,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const Kc="(default)";class jl{constructor(t,n){this.projectId=t,this.database=n||Kc}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof jl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="__type__",FR="__max__",wc={mapValue:{}},AE="__vector__",Yc="value";function rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cm(r)?4:QR(r)?9007199254740991:GR(r)?10:11:Et(28295,{value:r})}function Ci(r,t){if(r===t)return!0;const n=rs(r);if(n!==rs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ll(r).isEqual(Ll(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=ns(l.timestampValue),g=ns(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return is(l.bytesValue).isEqual(is(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return Ee(l.geoPointValue.latitude)===Ee(c.geoPointValue.latitude)&&Ee(l.geoPointValue.longitude)===Ee(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return Ee(l.integerValue)===Ee(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=Ee(l.doubleValue),g=Ee(c.doubleValue);return f===g?Qc(f)===Qc(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return io(r.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(gv(f)!==gv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Ci(f[p],g[p])))return!1;return!0}(r,t);default:return Et(52216,{left:r})}}function zl(r,t){return(r.values||[]).find(n=>Ci(n,t))!==void 0}function ro(r,t){if(r===t)return 0;const n=rs(r),s=rs(t);if(n!==s)return Dt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return function(c,f){const g=Ee(c.integerValue||c.doubleValue),p=Ee(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return yv(r.timestampValue,t.timestampValue);case 4:return yv(Ll(r),Ll(t));case 5:return Yd(r.stringValue,t.stringValue);case 6:return function(c,f){const g=is(c),p=is(f);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Dt(g[_],p[_]);if(T!==0)return T}return Dt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const g=Dt(Ee(c.latitude),Ee(f.latitude));return g!==0?g:Dt(Ee(c.longitude),Ee(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return _v(r.arrayValue,t.arrayValue);case 10:return function(c,f){var g,p,_,T;const w=c.fields||{},C=f.fields||{},F=(g=w[Yc])===null||g===void 0?void 0:g.arrayValue,J=(p=C[Yc])===null||p===void 0?void 0:p.arrayValue,it=Dt(((_=F==null?void 0:F.values)===null||_===void 0?void 0:_.length)||0,((T=J==null?void 0:J.values)===null||T===void 0?void 0:T.length)||0);return it!==0?it:_v(F,J)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===wc.mapValue&&f===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(f===wc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const C=Yd(p[w],T[w]);if(C!==0)return C;const F=ro(g[p[w]],_[T[w]]);if(F!==0)return F}return Dt(p.length,T.length)}(r.mapValue,t.mapValue);default:throw Et(23264,{Pe:n})}}function yv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const n=ns(r),s=ns(t),l=Dt(n.seconds,s.seconds);return l!==0?l:Dt(n.nanos,s.nanos)}function _v(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=ro(n[l],s[l]);if(c)return c}return Dt(n.length,s.length)}function so(r){return Xd(r)}function Xd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ns(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return is(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return dt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Xd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Xd(n.fields[f])}`;return l+"}"}(r.mapValue):Et(61005,{value:r})}function Mc(r){switch(rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=uh(r);return t?16+Mc(t):16;case 5:return 2*r.stringValue.length;case 6:return is(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Mc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Js(s.fields,(c,f)=>{l+=c.length+Mc(f)}),l}(r.mapValue);default:throw Et(13486,{value:r})}}function vv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function $d(r){return!!r&&"integerValue"in r}function Nm(r){return!!r&&"arrayValue"in r}function Ev(r){return!!r&&"nullValue"in r}function Tv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Vc(r){return!!r&&"mapValue"in r}function GR(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[TE])===null||n===void 0?void 0:n.stringValue)===AE}function xl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Js(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=xl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=xl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function QR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===FR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.value=t}static empty(){return new Hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Vc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=xl(n)}setAll(t){let n=Ye.emptyPath(),s={},l=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=xl(f):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Js(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Hn(xl(this.value))}}function bE(r){const t=[];return Js(r.fields,(n,s)=>{const l=new Ye([n]);if(Vc(s)){const c=bE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)}),new ti(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t,n,s,l,c,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new rn(t,0,St.min(),St.min(),St.min(),Hn.empty(),0)}static newFoundDocument(t,n,s,l){return new rn(t,1,n,St.min(),s,l,0)}static newNoDocument(t,n){return new rn(t,2,n,St.min(),St.min(),Hn.empty(),0)}static newUnknownDocument(t,n){return new rn(t,3,n,St.min(),St.min(),Hn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n){this.position=t,this.inclusive=n}}function Av(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],f=r.position[l];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(f.referenceValue),n.key):s=ro(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function bv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ci(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n="asc"){this.field=t,this.dir=n}}function KR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{}class Ie extends SE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new XR(t,n,s):n==="array-contains"?new JR(t,s):n==="in"?new WR(t,s):n==="not-in"?new tI(t,s):n==="array-contains-any"?new eI(t,s):new Ie(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new $R(t,s):new ZR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ro(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends SE{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new ii(t,n)}matches(t){return wE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function wE(r){return r.op==="and"}function RE(r){return YR(r)&&wE(r)}function YR(r){for(const t of r.filters)if(t instanceof ii)return!1;return!0}function Zd(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+so(r.value);if(RE(r))return r.filters.map(t=>Zd(t)).join(",");{const t=r.filters.map(n=>Zd(n)).join(",");return`${r.op}(${t})`}}function IE(r,t){return r instanceof Ie?function(s,l){return l instanceof Ie&&s.op===l.op&&s.field.isEqual(l.field)&&Ci(s.value,l.value)}(r,t):r instanceof ii?function(s,l){return l instanceof ii&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,f,g)=>c&&IE(f,l.filters[g]),!0):!1}(r,t):void Et(19439)}function CE(r){return r instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${so(n.value)}`}(r):r instanceof ii?function(n){return n.op.toString()+" {"+n.getFilters().map(CE).join(" ,")+"}"}(r):"Filter"}class XR extends Ie{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class $R extends Ie{constructor(t,n){super(t,"in",n),this.keys=NE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class ZR extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=NE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function NE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>dt.fromName(s.referenceValue))}class JR extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Nm(n)&&zl(n.arrayValue,this.value)}}class WR extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class tI extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zl(this.value.arrayValue,n)}}class eI extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Nm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>zl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,n=null,s=[],l=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Ie=null}}function Sv(r,t=null,n=[],s=[],l=null,c=null,f=null){return new nI(r,t,n,s,l,c,f)}function Dm(r){const t=Rt(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Zd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),lh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>so(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>so(s)).join(",")),t.Ie=n}return t.Ie}function xm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!KR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!IE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!bv(r.startAt,t.startAt)&&bv(r.endAt,t.endAt)}function Jd(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(t,n=null,s=[],l=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function iI(r,t,n,s,l,c,f,g){return new $l(r,t,n,s,l,c,f,g)}function ch(r){return new $l(r)}function wv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function DE(r){return r.collectionGroup!==null}function Ol(r){const t=Rt(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ve(Ye.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new $c(c,s))}),n.has(Ye.keyField().canonicalString())||t.Ee.push(new $c(Ye.keyField(),s))}return t.Ee}function wi(r){const t=Rt(r);return t.de||(t.de=rI(t,Ol(r))),t.de}function rI(r,t){if(r.limitType==="F")return Sv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new $c(l.field,c)});const n=r.endAt?new Xc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Xc(r.startAt.position,r.startAt.inclusive):null;return Sv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Wd(r,t){const n=r.filters.concat([t]);return new $l(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function tm(r,t,n){return new $l(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function hh(r,t){return xm(wi(r),wi(t))&&r.limitType===t.limitType}function xE(r){return`${Dm(wi(r))}|lt:${r.limitType}`}function Ka(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>CE(l)).join(", ")}]`),lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>so(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>so(l)).join(",")),`Target(${s})`}(wi(r))}; limitType=${r.limitType})`}function fh(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of Ol(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(f,g,p){const _=Av(f,g,p);return f.inclusive?_<=0:_<0}(s.startAt,Ol(s),l)||s.endAt&&!function(f,g,p){const _=Av(f,g,p);return f.inclusive?_>=0:_>0}(s.endAt,Ol(s),l))}(r,t)}function sI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function OE(r){return(t,n)=>{let s=!1;for(const l of Ol(r)){const c=aI(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function aI(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):function(c,f,g){const p=f.data.field(c),_=g.data.field(c);return p!==null&&_!==null?ro(p,_):Et(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Js(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return gE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=new fe(dt.comparator);function dr(){return oI}const ME=new fe(dt.comparator);function wl(...r){let t=ME;for(const n of r)t=t.insert(n.key,n);return t}function VE(r){let t=ME;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Fs(){return Ml()}function PE(){return Ml()}function Ml(){return new Ws(r=>r.toString(),(r,t)=>r.isEqual(t))}const lI=new fe(dt.comparator),uI=new Ve(dt.comparator);function Ut(...r){let t=uI;for(const n of r)t=t.add(n);return t}const cI=new Ve(Dt);function hI(){return cI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function kE(r){return{integerValue:""+r}}function fI(r,t){return jR(t)?kE(t):Om(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function dI(r,t,n){return r instanceof Bl?function(l,c){const f={fields:{[_E]:{stringValue:yE},[EE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Cm(c)&&(c=uh(c)),c&&(f.fields[vE]=c),{mapValue:f}}(n,t):r instanceof ql?LE(r,t):r instanceof Hl?jE(r,t):function(l,c){const f=UE(l,c),g=Rv(f)+Rv(l.Re);return $d(f)&&$d(l.Re)?kE(g):Om(l.serializer,g)}(r,t)}function mI(r,t,n){return r instanceof ql?LE(r,t):r instanceof Hl?jE(r,t):n}function UE(r,t){return r instanceof Zc?function(s){return $d(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Bl extends dh{}class ql extends dh{constructor(t){super(),this.elements=t}}function LE(r,t){const n=zE(t);for(const s of r.elements)n.some(l=>Ci(l,s))||n.push(s);return{arrayValue:{values:n}}}class Hl extends dh{constructor(t){super(),this.elements=t}}function jE(r,t){let n=zE(t);for(const s of r.elements)n=n.filter(l=>!Ci(l,s));return{arrayValue:{values:n}}}class Zc extends dh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Rv(r){return Ee(r.integerValue||r.doubleValue)}function zE(r){return Nm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n){this.field=t,this.transform=n}}function pI(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof ql&&l instanceof ql||s instanceof Hl&&l instanceof Hl?io(s.elements,l.elements,Ci):s instanceof Zc&&l instanceof Zc?Ci(s.Re,l.Re):s instanceof Bl&&l instanceof Bl}(r.transform,t.transform)}class yI{constructor(t,n){this.version=t,this.transformResults=n}}class ni{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ni}static exists(t){return new ni(void 0,t)}static updateTime(t){return new ni(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class mh{}function BE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Mm(r.key,ni.none()):new Zl(r.key,r.data,ni.none());{const n=r.data,s=Hn.empty();let l=new Ve(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new ta(r.key,s,new ti(l.toArray()),ni.none())}}function _I(r,t,n){r instanceof Zl?function(l,c,f){const g=l.value.clone(),p=Cv(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof ta?function(l,c,f){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=Cv(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(qE(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Vl(r,t,n,s){return r instanceof Zl?function(c,f,g,p){if(!Pc(c.precondition,f))return g;const _=c.value.clone(),T=Nv(c.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof ta?function(c,f,g,p){if(!Pc(c.precondition,f))return g;const _=Nv(c.fieldTransforms,p,f),T=f.data;return T.setAll(qE(c)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(r,t,n,s):function(c,f,g){return Pc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function vI(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=UE(s.transform,l||null);c!=null&&(n===null&&(n=Hn.empty()),n.set(s.field,c))}return n||null}function Iv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&io(s,l,(c,f)=>pI(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Zl extends mh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ta extends mh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function qE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Cv(r,t,n){const s=new Map;Xt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let l=0;l<n.length;l++){const c=r[l],f=c.transform,g=t.data.field(c.field);s.set(c.field,mI(f,g,n[l]))}return s}function Nv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,f=n.data.field(l.field);s.set(l.field,dI(c,f,t))}return s}class Mm extends mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EI extends mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&_I(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Vl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Vl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=PE();return this.mutations.forEach(l=>{const c=t.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=BE(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ut())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,(n,s)=>Iv(n,s))&&io(this.baseMutations,t.baseMutations,(n,s)=>Iv(n,s))}}class Vm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Xt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return lI}();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new Vm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Ht;function SI(r){switch(r){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function HE(r){if(r===void 0)return fr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Re.OK:return Z.OK;case Re.CANCELLED:return Z.CANCELLED;case Re.UNKNOWN:return Z.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Z.INTERNAL;case Re.UNAVAILABLE:return Z.UNAVAILABLE;case Re.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Re.NOT_FOUND:return Z.NOT_FOUND;case Re.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Re.ABORTED:return Z.ABORTED;case Re.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Re.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:r})}}(Ht=Re||(Re={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new Jr([4294967295,4294967295],0);function Dv(r){const t=fE().encode(r),n=new rE;return n.update(t),new Uint8Array(n.digest())}function xv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Jr([n,s],0),new Jr([l,c],0)]}class Pm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Rl(`Invalid padding: ${n}`);if(s<0)throw new Rl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Jr.fromNumber(this.pe)}we(t,n,s){let l=t.add(n.multiply(Jr.fromNumber(s)));return l.compare(wI)===1&&(l=new Jr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Dv(t),[s,l]=xv(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,l,c);if(!this.be(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Pm(c,l,n);return s.forEach(g=>f.insert(g)),f}insert(t){if(this.pe===0)return;const n=Dv(t),[s,l]=xv(n);for(let c=0;c<this.hashCount;c++){const f=this.we(s,l,c);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new gh(St.min(),l,new fe(Dt),dr(),Ut())}}class Jl{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Jl(s,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,n,s,l){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=l}}class FE{constructor(t,n){this.targetId=t,this.Ce=n}}class GE{constructor(t,n,s=$e.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Ov{constructor(){this.Fe=0,this.Me=Mv(),this.xe=$e.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ut(),n=Ut(),s=Ut();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Et(38017,{changeType:c})}}),new Jl(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=Mv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class RI{constructor(t){this.ze=t,this.je=new Map,this.He=dr(),this.Je=Rc(),this.Ye=Rc(),this.Ze=new fe(Dt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,l)=>{this.it(l)&&n(l)})}ot(t){const n=t.targetId,s=t.Ce.count,l=this._t(n);if(l){const c=l.target;if(Jd(c))if(s===0){const f=new dt(c.path);this.tt(n,f,rn.newNoDocument(f,St.min()))}else Xt(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const g=this.ct(t),p=g?this.lt(g,t,f):1;if(p!==0){this.st(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=is(s).toUint8Array()}catch(p){if(p instanceof pE)return no("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Pm(f,l,c)}catch(p){return no(p instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const f=this.ze.Pt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(n,c,null),l++)}),l}It(t){const n=new Map;this.je.forEach((c,f)=>{const g=this._t(f);if(g){if(c.current&&Jd(g.target)){const p=new dt(g.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,rn.newNoDocument(p,t))}c.Le&&(n.set(f,c.qe()),c.Qe())}});let s=Ut();this.Ye.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const _=this._t(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,f)=>f.setReadTime(t));const l=new gh(t,n,this.Ze,this.He,s);return this.He=dr(),this.Je=Rc(),this.Ye=Rc(),this.Ze=new fe(Dt),l}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new Ov,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Ve(Dt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Ve(Dt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||st("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Ov),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Rc(){return new fe(dt.comparator)}function Mv(){return new fe(dt.comparator)}const II={asc:"ASCENDING",desc:"DESCENDING"},CI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NI={and:"AND",or:"OR"};class DI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function em(r,t){return r.useProto3Json||lh(t)?t:{value:t}}function Jc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function QE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function xI(r,t){return Jc(r,t.toTimestamp())}function Ri(r){return Xt(!!r,49232),St.fromTimestamp(function(n){const s=ns(n);return new Me(s.seconds,s.nanos)}(r))}function km(r,t){return nm(r,t).canonicalString()}function nm(r,t){const n=function(l){return new ae(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function KE(r){const t=ae.fromString(r);return Xt(JE(t),10190,{key:t.toString()}),t}function im(r,t){return km(r.databaseId,t.path)}function Od(r,t){const n=KE(t);if(n.get(1)!==r.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(XE(n))}function YE(r,t){return km(r.databaseId,t)}function OI(r){const t=KE(r);return t.length===4?ae.emptyPath():XE(t)}function rm(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function XE(r){return Xt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Vv(r,t,n){return{name:im(r,t),fields:n.value.mapValue.fields}}function MI(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,T){return _.useProto3Json?(Xt(T===void 0||typeof T=="string",58123),$e.fromBase64String(T||"")):(Xt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),$e.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(_){const T=_.code===void 0?Z.UNKNOWN:HE(_.code);return new lt(T,_.message||"")}(f);n=new GE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Od(r,s.document.name),c=Ri(s.document.updateTime),f=s.document.createTime?Ri(s.document.createTime):St.min(),g=new Hn({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(l,c,f,g),_=s.targetIds||[],T=s.removedTargetIds||[];n=new kc(_,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Od(r,s.document),c=s.readTime?Ri(s.readTime):St.min(),f=rn.newNoDocument(l,c),g=s.removedTargetIds||[];n=new kc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Od(r,s.document),c=s.removedTargetIds||[];n=new kc([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new bI(l,c),g=s.targetId;n=new FE(g,f)}}return n}function VI(r,t){let n;if(t instanceof Zl)n={update:Vv(r,t.key,t.value)};else if(t instanceof Mm)n={delete:im(r,t.key)};else if(t instanceof ta)n={update:Vv(r,t.key,t.data),updateMask:HI(t.fieldMask)};else{if(!(t instanceof EI))return Et(16599,{ft:t.type});n={verify:im(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof Bl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Hl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Zc)return{fieldPath:f.field.canonicalString(),increment:g.Re};throw Et(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:xI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)}(r,t.precondition)),n}function PI(r,t){return r&&r.length>0?(Xt(t!==void 0,14353),r.map(n=>function(l,c){let f=l.updateTime?Ri(l.updateTime):Ri(c);return f.isEqual(St.min())&&(f=Ri(c)),new yI(f,l.transformResults||[])}(n,t))):[]}function kI(r,t){return{documents:[YE(r,t.path)]}}function UI(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=YE(r,l);const c=function(_){if(_.length!==0)return ZE(ii.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(T=>function(C){return{field:Ya(C.field),direction:zI(C.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=em(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{gt:n,parent:l}}function LI(r){let t=OI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Xt(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];n.where&&(c=function(w){const C=$E(w);return C instanceof ii&&RE(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(C=>function(J){return new $c(Xa(J.field),function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(C))}(n.orderBy));let g=null;n.limit&&(g=function(w){let C;return C=typeof w=="object"?w.value:w,lh(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(w){const C=!!w.before,F=w.values||[];return new Xc(F,C)}(n.startAt));let _=null;return n.endAt&&(_=function(w){const C=!w.before,F=w.values||[];return new Xc(F,C)}(n.endAt)),iI(t,l,f,c,g,"F",p,_)}function jI(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function $E(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Xa(n.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Xa(n.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Xa(n.unaryFilter.field);return Ie.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xa(n.unaryFilter.field);return Ie.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ie.create(Xa(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ii.create(n.compositeFilter.filters.map(s=>$E(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(n.compositeFilter.op))}(r):Et(30097,{filter:r})}function zI(r){return II[r]}function BI(r){return CI[r]}function qI(r){return NI[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function Xa(r){return Ye.fromServerFormat(r.fieldPath)}function ZE(r){return r instanceof Ie?function(n){if(n.op==="=="){if(Tv(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if(Ev(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Tv(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if(Ev(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:BI(n.op),value:n.value}}}(r):r instanceof ii?function(n){const s=n.getFilters().map(l=>ZE(l));return s.length===1?s[0]:{compositeFilter:{op:qI(n.op),filters:s}}}(r):Et(54877,{filter:r})}function HI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function JE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,n,s,l,c=St.min(),f=St.min(),g=$e.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.wt=t}}function GI(r){const t=LI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?tm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.Cn=new KI}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(es.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(es.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class KI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Ve(ae.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ve(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WE=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(WE,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new ao(0)}static lr(){return new ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="LruGarbageCollector",YI=1048576;function Uv([r,t],[n,s]){const l=Dt(r,n);return l===0?Dt(t,s):l}class XI{constructor(t){this.Er=t,this.buffer=new Ve(Uv),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Uv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $I{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){st(kv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?st(kv,"Ignoring IndexedDB error during garbage collection: ",n):await mo(n)}await this.mr(3e5)})}}class ZI{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return $.resolve(oh.le);const s=new XI(n);return this.gr.forEachTarget(t,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Pv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pv):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,l,c,f,g,p,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,f=Date.now(),this.nthSequenceNumber(t,l))).next(w=>(s=w,g=Date.now(),this.removeTargets(t,s,n))).next(w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(w=>(_=Date.now(),Qa()<=kt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${w} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w})))}}function JI(r,t){return new ZI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.changes=new Ws(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&Vl(s.mutation,l,ti.empty(),Me.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Ut()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Ut()){const l=Fs();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let f=wl();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Fs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Ut()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,s,l){let c=dr();const f=Ml(),g=function(){return Ml()}();return n.forEach((p,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof ta)?c=c.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Vl(T.mutation,_,T.mutation.getFieldMask(),Me.now())):f.set(_.key,ti.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var w;return g.set(_,new t2(T,(w=f.get(_))!==null&&w!==void 0?w:null))}),g))}recalculateAndSaveOverlays(t,n){const s=Ml();let l=new fe((f,g)=>f-g),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||ti.empty();T=g.applyToLocalView(_,T),s.set(p,T);const w=(l.get(g.batchId)||Ut()).add(p);l=l.insert(g.batchId,w)})}).next(()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,w=PE();T.forEach(C=>{if(!c.has(C)){const F=BE(n.get(C),s.get(C));F!==null&&w.set(C,F),c=c.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,w))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(f){return dt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):DE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):$.resolve(Fs());let g=Ul,p=c;return f.next(_=>$.forEach(_,(T,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(t,T).next(C=>{p=p.insert(T,C)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Ut())).next(T=>({batchId:g,changes:VE(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next(s=>{let l=wl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let f=wl();return this.indexManager.getCollectionParents(t,c).next(g=>$.forEach(g,p=>{const _=function(w,C){return new $l(C,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(T=>{T.forEach((w,C)=>{f=f.insert(w,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(f=>{c.forEach((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,rn.newInvalidDocument(T)))});let g=wl();return f.forEach((p,_)=>{const T=c.get(p);T!==void 0&&Vl(T.mutation,_,ti.empty(),Me.now()),fh(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return $.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Ri(l.createTime)}}(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(l){return{name:l.name,query:GI(l.bundledQuery),readTime:Ri(l.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.overlays=new fe(dt.comparator),this.Qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Fs();return $.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.St(t,n,c)}),$.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const l=Fs(),c=n.length+1,f=new dt(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return $.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new fe((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=c.get(_.largestBatchId);T===null&&(T=Fs(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Fs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>g.set(_,T)),!(g.size()>=l)););return $.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new AI(n,s));let c=this.Qr.get(n);c===void 0&&(c=Ut(),this.Qr.set(n,c)),this.Qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this.$r=new Ve(Be.Ur),this.Kr=new Ve(Be.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Be(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Be(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new dt(new ae([])),s=new Be(n,t),l=new Be(n,t+1),c=[];return this.Kr.forEachInRange([s,l],f=>{this.zr(f),c.push(f.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new dt(new ae([])),s=new Be(n,t),l=new Be(n,t+1);let c=Ut();return this.Kr.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new Be(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Be{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return dt.comparator(t.key,n.key)||Dt(t.Zr,n.Zr)}static Wr(t,n){return Dt(t.Zr,n.Zr)||dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ve(Be.Ur)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new TI(c,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Xr=this.Xr.add(new Be(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ti(s),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Im:this.nr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Be(n,0),l=new Be(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,l],f=>{const g=this.ei(f.Zr);c.push(g)}),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ve(Dt);return n.forEach(l=>{const c=new Be(l,0),f=new Be(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,f],g=>{s=s.add(g.Zr)})}),$.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const f=new Be(new dt(c),0);let g=new Ve(Dt);return this.Xr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Zr)),!0)},f),$.resolve(this.ni(g))}ni(t){const n=[];return t.forEach(s=>{const l=this.ei(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Xt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return $.forEach(n.mutations,l=>{const c=new Be(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Be(n,0),l=this.Xr.firstAfterOrEqual(s);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.ii=t,this.docs=function(){return new fe(dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(t,n){let s=dr();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():rn.newInvalidDocument(l))}),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=dr();const f=n.path,g=new dt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||PR(VR(T),s)<=0||(l.has(T.key)||fh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,n,s,l){Et(9500)}si(t,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new o2(this)}getSize(t){return $.resolve(this.size)}}class o2 extends WI{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(t,l)):this.Br.removeEntry(s)}),$.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t){this.persistence=t,this.oi=new Ws(n=>Dm(n),xm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this._i=0,this.ai=new Um,this.targetCount=0,this.ui=ao.cr()}forEachTarget(t,n){return this.oi.forEach((s,l)=>n(l)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),$.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new ao(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Tr(n),$.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.oi.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.oi.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),$.waitFor(c).next(()=>l)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(t,f))}),$.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(t,n){this.ci={},this.overlays={},this.li=new oh(0),this.hi=!1,this.hi=!0,this.Pi=new r2,this.referenceDelegate=t(this),this.Ti=new l2(this),this.indexManager=new QI,this.remoteDocumentCache=function(l){return new a2(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new FI(n),this.Ei=new n2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new i2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new s2(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){st("MemoryPersistence","Starting transaction:",t);const l=new u2(this.li.next());return this.referenceDelegate.di(),s(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(t,n){return $.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class u2 extends UR{constructor(t){super(),this.currentSequenceNumber=t}}class Lm{constructor(t){this.persistence=t,this.Vi=new Um,this.mi=null}static fi(t){return new Lm(t)}get gi(){if(this.mi)return this.mi;throw Et(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.gi,s=>{const l=dt.fromPath(s);return this.pi(t,l).next(c=>{c||n.removeEntry(l,St.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return $.or([()=>$.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Wc{constructor(t,n){this.persistence=t,this.yi=new Ws(s=>zR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=JI(this,n)}static fi(t,n){return new Wc(t,n)}di(){}Ai(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return $.forEach(this.yi,(s,l)=>this.Dr(t,s,l).next(c=>c?$.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(t,f=>this.Dr(t,f,n).next(g=>{g||(s++,c.removeEntry(f,St.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),$.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Mc(t.data.value)),n}Dr(t,n,s){return $.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.yi.get(n);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.ds=s,this.As=l}static Rs(t,n){let s=Ut(),l=Ut();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new jm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Bb()?8:LR(sn())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ws(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.bs(t,n,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new c2;return this.Ss(t,n,f).next(g=>{if(c.result=g,this.fs)return this.Ds(t,n,f,g.size)})}).next(()=>c.result)}Ds(t,n,s,l){return s.documentReadCount<this.gs?(Qa()<=kt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$.resolve()):(Qa()<=kt.DEBUG&&st("QueryEngine","Query:",Ka(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(Qa()<=kt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wi(n))):$.resolve())}ws(t,n){if(wv(n))return $.resolve(null);let s=wi(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=tm(n,null,"F"),s=wi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Ut(...c);return this.ys.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.vs(n,g);return this.Cs(n,_,f,p.readTime)?this.ws(t,tm(n,null,"F")):this.Fs(t,_,n,p)}))})))}bs(t,n,s,l){return wv(n)||l.isEqual(St.min())?$.resolve(null):this.ys.getDocuments(t,s).next(c=>{const f=this.vs(n,c);return this.Cs(n,f,s,l)?$.resolve(null):(Qa()<=kt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ka(n)),this.Fs(t,f,n,MR(l,Ul)).next(g=>g))})}vs(t,n){let s=new Ve(OE(t));return n.forEach((l,c)=>{fh(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,s){return Qa()<=kt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.ys.getDocumentsMatchingQuery(t,n,es.min(),s)}Fs(t,n,s,l){return this.ys.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="LocalStore",f2=3e8;class d2{constructor(t,n,s,l){this.persistence=t,this.Ms=n,this.serializer=l,this.xs=new fe(Dt),this.Os=new Ws(c=>Dm(c),xm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new e2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function m2(r,t,n,s){return new d2(r,t,n,s)}async function eT(r,t){const n=Rt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let p=Ut();for(const _ of l){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({ks:_,removedBatchIds:f,addedBatchIds:g}))})})}function g2(r,t){const n=Rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,_,T){const w=_.batch,C=w.keys();let F=$.resolve();return C.forEach(J=>{F=F.next(()=>T.getEntry(p,J)).next(it=>{const tt=_.docVersions.get(J);Xt(tt!==null,48541),it.version.compareTo(tt)<0&&(w.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),T.addEntry(it)))})}),F.next(()=>g.mutationQueue.removeMutationBatch(p,w))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Ut();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function nT(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function p2(r,t){const n=Rt(r),s=t.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const g=[];t.targetChanges.forEach((T,w)=>{const C=l.get(w);if(!C)return;g.push(n.Ti.removeMatchingKeys(c,T.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(c,T.addedDocuments,w)));let F=C.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?F=F.withResumeToken($e.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,s)),l=l.insert(w,F),function(it,tt,Tt){return it.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=f2?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(C,F,T)&&g.push(n.Ti.updateTargetData(c,F))});let p=dr(),_=Ut();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(y2(c,f,t.documentUpdates).next(T=>{p=T.qs,_=T.Qs})),!s.isEqual(St.min())){const T=n.Ti.getLastRemoteSnapshotVersion(c).next(w=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(T)}return $.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.xs=l,c))}function y2(r,t,n){let s=Ut(),l=Ut();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=dr();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):st(zm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{qs:f,Qs:l}})}function _2(r,t){const n=Rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Im),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function v2(r,t){const n=Rt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Ti.getTargetData(s,t).next(c=>c?(l=c,$.resolve(l)):n.Ti.allocateTargetId(s).next(f=>(l=new Yr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function sm(r,t,n){const s=Rt(r),l=s.xs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!go(f))throw f;st(zm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.xs=s.xs.remove(t),s.Os.delete(l.target)}function Lv(r,t,n){const s=Rt(r);let l=St.min(),c=Ut();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,T){const w=Rt(p),C=w.Os.get(T);return C!==void 0?$.resolve(w.xs.get(C)):w.Ti.getTargetData(_,T)}(s,f,wi(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,t,n?l:St.min(),n?c:Ut())).next(g=>(E2(s,sI(t),g),{documents:g,$s:c})))}function E2(r,t,n){let s=r.Ns.get(t)||St.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ns.set(t,s)}class jv{constructor(){this.activeTargetIds=hI()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class T2{constructor(){this.xo=new jv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new jv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="ConnectivityMonitor";class Bv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){st(zv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){st(zv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function am(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="RestConnection",b2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S2{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===Kc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(t,n,s,l,c){const f=am(),g=this.jo(t,n.toUriEncodedString());st(Md,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,l,c);const{host:_}=new URL(g),T=uo(_);return this.Jo(t,g,p,s,T).then(w=>(st(Md,`Received RPC '${t}' ${f}: `,w),w),w=>{throw no(Md,`RPC '${t}' ${f} failed with error: `,w,"url: ",g,"request:",s),w})}Yo(t,n,s,l,c,f){return this.zo(t,n,s,l,c)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}jo(t,n){const s=b2[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class R2 extends S2{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const f=am();return new Promise((g,p)=>{const _=new sE;_.setWithCredentials(!0),_.listenOnce(aE.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Oc.NO_ERROR:const w=_.getResponseJson();st(en,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(w)),g(w);break;case Oc.TIMEOUT:st(en,`RPC '${t}' ${f} timed out`),p(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const C=_.getStatus();if(st(en,`RPC '${t}' ${f} failed with status:`,C,"response text:",_.getResponseText()),C>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F==null?void 0:F.error;if(J&&J.status&&J.message){const it=function(Tt){const ct=Tt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ct)>=0?ct:Z.UNKNOWN}(J.status);p(new lt(it,J.message))}else p(new lt(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{h_:t,streamId:f,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{st(en,`RPC '${t}' ${f} completed.`)}});const T=JSON.stringify(l);st(en,`RPC '${t}' ${f} sending request:`,l),_.send(n,"POST",T,s,15)})}I_(t,n,s){const l=am(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=uE(),g=lE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=c.join("");st(en,`Creating RPC '${t}' stream ${l}: ${T}`,p);const w=f.createWebChannel(T,p);this.E_(w);let C=!1,F=!1;const J=new w2({Zo:tt=>{F?st(en,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(C||(st(en,`Opening RPC '${t}' stream ${l} transport.`),w.open(),C=!0),st(en,`RPC '${t}' stream ${l} sending:`,tt),w.send(tt))},Xo:()=>w.close()}),it=(tt,Tt,ct)=>{tt.listen(Tt,ht=>{try{ct(ht)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return it(w,Sl.EventType.OPEN,()=>{F||(st(en,`RPC '${t}' stream ${l} transport opened.`),J.__())}),it(w,Sl.EventType.CLOSE,()=>{F||(F=!0,st(en,`RPC '${t}' stream ${l} transport closed`),J.u_(),this.d_(w))}),it(w,Sl.EventType.ERROR,tt=>{F||(F=!0,no(en,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),J.u_(new lt(Z.UNAVAILABLE,"The operation could not be completed")))}),it(w,Sl.EventType.MESSAGE,tt=>{var Tt;if(!F){const ct=tt.data[0];Xt(!!ct,16349);const ht=ct,Ot=(ht==null?void 0:ht.error)||((Tt=ht[0])===null||Tt===void 0?void 0:Tt.error);if(Ot){st(en,`RPC '${t}' stream ${l} received error:`,Ot);const _t=Ot.status;let wt=function(R){const O=Re[R];if(O!==void 0)return HE(O)}(_t),M=Ot.message;wt===void 0&&(wt=Z.INTERNAL,M="Unknown error status: "+_t+" with message "+Ot.message),F=!0,J.u_(new lt(wt,M)),w.close()}else st(en,`RPC '${t}' stream ${l} received:`,ct),J.c_(ct)}}),it(g,oE.STAT_EVENT,tt=>{tt.stat===Kd.PROXY?st(en,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===Kd.NOPROXY&&st(en,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{J.a_()},0),J}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r){return new DI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t,n,s=1e3,l=1.5,c=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=l,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),l=Math.max(0,n-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="PersistentStream";class rT{constructor(t,n,s,l,c,f,g,p){this.xi=t,this.S_=s,this.D_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new iT(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.v_===n&&this.z_(s,l)},s=>{t(()=>{const l=new lt(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(l)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.j_(l))}),this.stream.onMessage(l=>{s(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return st(qv,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(st(qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class I2 extends rT{constructor(t,n,s,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=MI(this.serializer,t),s=function(c){if(!("targetChange"in c))return St.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?Ri(f.readTime):St.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=rm(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=Jd(p)?{documents:kI(c,p)}:{query:UI(c,p).gt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=QE(c,f.resumeToken);const _=em(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(St.min())>0){g.readTime=Jc(c,f.snapshotVersion.toTimestamp());const _=em(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=jI(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=rm(this.serializer),n.removeTarget=t,this.Q_(n)}}class C2 extends rT{constructor(t,n,s,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=PI(t.writeResults,t.commitTime),s=Ri(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=rm(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>VI(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{}class D2 extends N2{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.zo(t,nm(n,s),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(Z.UNKNOWN,c.toString())})}Yo(t,n,s,l,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Yo(t,nm(n,s),l,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(Z.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class x2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(fr(n),this.ua=!1):st("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="RemoteStore";class O2{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(f=>{s.enqueueAndForget(async()=>{ea(this)&&(st($s,"Restarting streams for network reachability change."),await async function(p){const _=Rt(p);_.da.add(4),await Wl(_),_.Va.set("Unknown"),_.da.delete(4),await yh(_)}(this))})}),this.Va=new x2(s,l)}}async function yh(r){if(ea(r))for(const t of r.Aa)await t(!0)}async function Wl(r){for(const t of r.Aa)await t(!1)}function sT(r,t){const n=Rt(r);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Fm(n)?Hm(n):po(n).N_()&&qm(n,t))}function Bm(r,t){const n=Rt(r),s=po(n);n.Ea.delete(t),s.N_()&&aT(n,t),n.Ea.size===0&&(s.N_()?s.k_():ea(n)&&n.Va.set("Unknown"))}function qm(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}po(r).Z_(t)}function aT(r,t){r.ma.Ke(t),po(r).X_(t)}function Hm(r){r.ma=new RI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Va.ca()}function Fm(r){return ea(r)&&!po(r).O_()&&r.Ea.size>0}function ea(r){return Rt(r).da.size===0}function oT(r){r.ma=void 0}async function M2(r){r.Va.set("Online")}async function V2(r){r.Ea.forEach((t,n)=>{qm(r,t)})}async function P2(r,t){oT(r),Fm(r)?(r.Va.Pa(t),Hm(r)):r.Va.set("Unknown")}async function k2(r,t,n){if(r.Va.set("Online"),t instanceof GE&&t.state===2&&t.cause)try{await async function(l,c){const f=c.cause;for(const g of c.targetIds)l.Ea.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ea.delete(g),l.ma.removeTarget(g))}(r,t)}catch(s){st($s,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await th(r,s)}else if(t instanceof kc?r.ma.Xe(t):t instanceof FE?r.ma.ot(t):r.ma.nt(t),!n.isEqual(St.min()))try{const s=await nT(r.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.ma.It(f);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ea.get(_);T&&c.Ea.set(_,T.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,_)=>{const T=c.Ea.get(p);if(!T)return;c.Ea.set(p,T.withResumeToken($e.EMPTY_BYTE_STRING,T.snapshotVersion)),aT(c,p);const w=new Yr(T.target,p,_,T.sequenceNumber);qm(c,w)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){st($s,"Failed to raise snapshot:",s),await th(r,s)}}async function th(r,t,n){if(!go(t))throw t;r.da.add(1),await Wl(r),r.Va.set("Offline"),n||(n=()=>nT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{st($s,"Retrying IndexedDB access"),await n(),r.da.delete(1),await yh(r)})}function lT(r,t){return t().catch(n=>th(r,n,t))}async function _h(r){const t=Rt(r),n=ss(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Im;for(;U2(t);)try{const l=await _2(t.localStore,s);if(l===null){t.Ia.length===0&&n.k_();break}s=l.batchId,L2(t,l)}catch(l){await th(t,l)}uT(t)&&cT(t)}function U2(r){return ea(r)&&r.Ia.length<10}function L2(r,t){r.Ia.push(t);const n=ss(r);n.N_()&&n.ea&&n.ta(t.mutations)}function uT(r){return ea(r)&&!ss(r).O_()&&r.Ia.length>0}function cT(r){ss(r).start()}async function j2(r){ss(r).ia()}async function z2(r){const t=ss(r);for(const n of r.Ia)t.ta(n.mutations)}async function B2(r,t,n){const s=r.Ia.shift(),l=Vm.from(s,t,n);await lT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await _h(r)}async function q2(r,t){t&&ss(r).ea&&await async function(s,l){if(function(f){return SI(f)&&f!==Z.ABORTED}(l.code)){const c=s.Ia.shift();ss(s).L_(),await lT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await _h(s)}}(r,t),uT(r)&&cT(r)}async function Hv(r,t){const n=Rt(r);n.asyncQueue.verifyOperationInProgress(),st($s,"RemoteStore received new credentials");const s=ea(n);n.da.add(3),await Wl(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await yh(n)}async function H2(r,t){const n=Rt(r);t?(n.da.delete(2),await yh(n)):t||(n.da.add(2),await Wl(n),n.Va.set("Unknown"))}function po(r){return r.fa||(r.fa=function(n,s,l){const c=Rt(n);return c.oa(),new I2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:M2.bind(null,r),n_:V2.bind(null,r),i_:P2.bind(null,r),Y_:k2.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),Fm(r)?Hm(r):r.Va.set("Unknown")):(await r.fa.stop(),oT(r))})),r.fa}function ss(r){return r.ga||(r.ga=function(n,s,l){const c=Rt(n);return c.oa(),new C2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:j2.bind(null,r),i_:q2.bind(null,r),na:z2.bind(null,r),ra:B2.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await _h(r)):(await r.ga.stop(),r.Ia.length>0&&(st($s,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const f=Date.now()+s,g=new Gm(t,n,f,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qm(r,t){if(fr("AsyncQueue",`${t}: ${r}`),go(r))return new lt(Z.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=wl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Wa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.pa=new fe(dt.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):Et(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class oo{constructor(t,n,s,l,c,f,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new oo(t,n,Wa.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class G2{constructor(){this.queries=Gv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Rt(n),c=l.queries;l.queries=Gv(),c.forEach((f,g)=>{for(const p of g.Sa)p.onError(s)})})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function Gv(){return new Ws(r=>xE(r),hh)}async function hT(r,t){const n=Rt(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Da()&&t.va()&&(s=2):(c=new F2,s=t.va()?0:1);try{switch(s){case 0:c.ba=await n.onListen(l,!0);break;case 1:c.ba=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=Qm(f,`Initialization of query '${Ka(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Sa.push(t),t.Fa(n.onlineState),c.ba&&t.Ma(c.ba)&&Km(n)}async function fT(r,t){const n=Rt(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(t);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?l=t.va()?0:1:!c.Da()&&t.va()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Q2(r,t){const n=Rt(r);let s=!1;for(const l of t){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Ma(l)&&(s=!0);f.ba=l}}s&&Km(n)}function K2(r,t,n){const s=Rt(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(t)}function Km(r){r.Ca.forEach(t=>{t.next()})}var om,Qv;(Qv=om||(om={})).xa="default",Qv.Cache="cache";class dT{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new oo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t){this.key=t}}class gT{constructor(t){this.key=t}}class Y2{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.Za=OE(t),this.Xa=new Wa(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new Fv,l=n?n.Xa:this.Xa;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((T,w)=>{const C=l.get(T),F=fh(this.query,w)?w:null,J=!!C&&this.mutatedKeys.has(C.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let tt=!1;C&&F?C.data.isEqual(F.data)?J!==it&&(s.track({type:3,doc:F}),tt=!0):this.ru(C,F)||(s.track({type:2,doc:F}),tt=!0,(p&&this.Za(F,p)>0||_&&this.Za(F,_)<0)&&(g=!0)):!C&&F?(s.track({type:0,doc:F}),tt=!0):C&&!F&&(s.track({type:1,doc:C}),tt=!0,(p||_)&&(g=!0)),tt&&(F?(f=f.add(F),c=it?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{Xa:f,nu:s,Cs:g,mutatedKeys:c}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((T,w)=>function(F,J){const it=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:tt})}};return it(F)-it(J)}(T.type,w.type)||this.Za(T.doc,w.doc)),this.iu(s),l=l!=null&&l;const g=n&&!l?this.su():[],p=this.Ya.size===0&&this.current&&!l?1:0,_=p!==this.Ja;return this.Ja=p,f.length!==0||_?{snapshot:new oo(this.query,t.Xa,c,f,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Fv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new gT(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new mT(s))}),n}au(t){this.Ha=t.$s,this.Ya=Ut();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return oo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Ym="SyncEngine";class X2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class $2{constructor(t){this.key=t,this.cu=!1}}class Z2{constructor(t,n,s,l,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Ws(g=>xE(g),hh),this.Pu=new Map,this.Tu=new Set,this.Iu=new fe(dt.comparator),this.Eu=new Map,this.du=new Um,this.Au={},this.Ru=new Map,this.Vu=ao.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function J2(r,t,n=!0){const s=TT(r);let l;const c=s.hu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.uu()):l=await pT(s,t,n,!0),l}async function W2(r,t){const n=TT(r);await pT(n,t,!0,!1)}async function pT(r,t,n,s){const l=await v2(r.localStore,wi(t)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await tC(r,t,c,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&sT(r.remoteStore,l),g}async function tC(r,t,n,s,l){r.fu=(w,C,F)=>async function(it,tt,Tt,ct){let ht=tt.view.tu(Tt);ht.Cs&&(ht=await Lv(it.localStore,tt.query,!1).then(({documents:M})=>tt.view.tu(M,ht)));const Ot=ct&&ct.targetChanges.get(tt.targetId),_t=ct&&ct.targetMismatches.get(tt.targetId)!=null,wt=tt.view.applyChanges(ht,it.isPrimaryClient,Ot,_t);return Yv(it,tt.targetId,wt.ou),wt.snapshot}(r,w,C,F);const c=await Lv(r.localStore,t,!0),f=new Y2(t,c.$s),g=f.tu(c.documents),p=Jl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=f.applyChanges(g,r.isPrimaryClient,p);Yv(r,n,_.ou);const T=new X2(t,n,f);return r.hu.set(t,T),r.Pu.has(n)?r.Pu.get(n).push(t):r.Pu.set(n,[t]),_.snapshot}async function eC(r,t,n){const s=Rt(r),l=s.hu.get(t),c=s.Pu.get(l.targetId);if(c.length>1)return s.Pu.set(l.targetId,c.filter(f=>!hh(f,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await sm(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Bm(s.remoteStore,l.targetId),lm(s,l.targetId)}).catch(mo)):(lm(s,l.targetId),await sm(s.localStore,l.targetId,!0))}async function nC(r,t){const n=Rt(r),s=n.hu.get(t),l=n.Pu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Bm(n.remoteStore,s.targetId))}async function iC(r,t,n){const s=cC(r);try{const l=await function(f,g){const p=Rt(f),_=Me.now(),T=g.reduce((F,J)=>F.add(J.key),Ut());let w,C;return p.persistence.runTransaction("Locally write mutations","readwrite",F=>{let J=dr(),it=Ut();return p.Bs.getEntries(F,T).next(tt=>{J=tt,J.forEach((Tt,ct)=>{ct.isValidDocument()||(it=it.add(Tt))})}).next(()=>p.localDocuments.getOverlayedDocuments(F,J)).next(tt=>{w=tt;const Tt=[];for(const ct of g){const ht=vI(ct,w.get(ct.key).overlayedDocument);ht!=null&&Tt.push(new ta(ct.key,ht,bE(ht.value.mapValue),ni.exists(!0)))}return p.mutationQueue.addMutationBatch(F,_,Tt,g)}).next(tt=>{C=tt;const Tt=tt.applyToLocalDocumentSet(w,it);return p.documentOverlayCache.saveOverlays(F,tt.batchId,Tt)})}).then(()=>({batchId:C.batchId,changes:VE(w)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,g,p){let _=f.Au[f.currentUser.toKey()];_||(_=new fe(Dt)),_=_.insert(g,p),f.Au[f.currentUser.toKey()]=_}(s,l.batchId,n),await tu(s,l.changes),await _h(s.remoteStore)}catch(l){const c=Qm(l,"Failed to persist write");n.reject(c)}}async function yT(r,t){const n=Rt(r);try{const s=await p2(n.localStore,t);t.targetChanges.forEach((l,c)=>{const f=n.Eu.get(c);f&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.cu=!0:l.modifiedDocuments.size>0?Xt(f.cu,14607):l.removedDocuments.size>0&&(Xt(f.cu,42227),f.cu=!1))}),await tu(n,s,t)}catch(s){await mo(s)}}function Kv(r,t,n){const s=Rt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.hu.forEach((c,f)=>{const g=f.view.Fa(t);g.snapshot&&l.push(g.snapshot)}),function(f,g){const p=Rt(f);p.onlineState=g;let _=!1;p.queries.forEach((T,w)=>{for(const C of w.Sa)C.Fa(g)&&(_=!0)}),_&&Km(p)}(s.eventManager,t),l.length&&s.lu.Y_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function rC(r,t,n){const s=Rt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Eu.get(t),c=l&&l.key;if(c){let f=new fe(dt.comparator);f=f.insert(c,rn.newNoDocument(c,St.min()));const g=Ut().add(c),p=new gh(St.min(),new Map,new fe(Dt),f,g);await yT(s,p),s.Iu=s.Iu.remove(c),s.Eu.delete(t),Xm(s)}else await sm(s.localStore,t,!1).then(()=>lm(s,t,n)).catch(mo)}async function sC(r,t){const n=Rt(r),s=t.batch.batchId;try{const l=await g2(n.localStore,t);vT(n,s,null),_T(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await tu(n,l)}catch(l){await mo(l)}}async function aC(r,t,n){const s=Rt(r);try{const l=await function(f,g){const p=Rt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next(w=>(Xt(w!==null,37113),T=w.keys(),p.mutationQueue.removeMutationBatch(_,w))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,t);vT(s,t,n),_T(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await tu(s,l)}catch(l){await mo(l)}}function _T(r,t){(r.Ru.get(t)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(t)}function vT(r,t,n){const s=Rt(r);let l=s.Au[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Au[s.currentUser.toKey()]=l}}function lm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||ET(r,s)})}function ET(r,t){r.Tu.delete(t.path.canonicalString());const n=r.Iu.get(t);n!==null&&(Bm(r.remoteStore,n),r.Iu=r.Iu.remove(t),r.Eu.delete(n),Xm(r))}function Yv(r,t,n){for(const s of n)s instanceof mT?(r.du.addReference(s.key,t),oC(r,s)):s instanceof gT?(st(Ym,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||ET(r,s.key)):Et(19791,{pu:s})}function oC(r,t){const n=t.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(st(Ym,"New document in limbo: "+n),r.Tu.add(s),Xm(r))}function Xm(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const n=new dt(ae.fromString(t)),s=r.Vu.next();r.Eu.set(s,new $2(n)),r.Iu=r.Iu.insert(n,s),sT(r.remoteStore,new Yr(wi(ch(n.path)),s,"TargetPurposeLimboResolution",oh.le))}}async function tu(r,t,n){const s=Rt(r),l=[],c=[],f=[];s.hu.isEmpty()||(s.hu.forEach((g,p)=>{f.push(s.fu(p,t,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const w=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(_){l.push(_);const w=jm.Rs(p.targetId,_);c.push(w)}}))}),await Promise.all(f),s.lu.Y_(l),await async function(p,_){const T=Rt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>$.forEach(_,C=>$.forEach(C.ds,F=>T.persistence.referenceDelegate.addReference(w,C.targetId,F)).next(()=>$.forEach(C.As,F=>T.persistence.referenceDelegate.removeReference(w,C.targetId,F)))))}catch(w){if(!go(w))throw w;st(zm,"Failed to update sequence numbers: "+w)}for(const w of _){const C=w.targetId;if(!w.fromCache){const F=T.xs.get(C),J=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion(J);T.xs=T.xs.insert(C,it)}}}(s.localStore,c))}async function lC(r,t){const n=Rt(r);if(!n.currentUser.isEqual(t)){st(Ym,"User change. New user:",t.toKey());const s=await eT(n.localStore,t);n.currentUser=t,function(c,f){c.Ru.forEach(g=>{g.forEach(p=>{p.reject(new lt(Z.CANCELLED,f))})}),c.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await tu(n,s.ks)}}function uC(r,t){const n=Rt(r),s=n.Eu.get(t);if(s&&s.cu)return Ut().add(s.key);{let l=Ut();const c=n.Pu.get(t);if(!c)return l;for(const f of c){const g=n.hu.get(f);l=l.unionWith(g.view.eu)}return l}}function TT(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=yT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rC.bind(null,t),t.lu.Y_=Q2.bind(null,t.eventManager),t.lu.gu=K2.bind(null,t.eventManager),t}function cC(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aC.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ph(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return m2(this.persistence,new h2,t.initialUser,this.serializer)}Su(t){return new tT(Lm.fi,this.serializer)}bu(t){return new T2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class hC extends eh{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Xt(this.persistence.referenceDelegate instanceof Wc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $I(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new tT(s=>Wc.fi(s,n),this.serializer)}}class um{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Kv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lC.bind(null,this.syncEngine),await H2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new G2}()}createDatastore(t){const n=ph(t.databaseInfo.databaseId),s=function(c){return new R2(c)}(t.databaseInfo);return function(c,f,g,p){return new D2(c,f,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,f,g){return new O2(s,l,c,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>Kv(this.syncEngine,n,0),function(){return Bv.C()?new Bv:new A2}())}createSyncEngine(t,n){return function(l,c,f,g,p,_,T){const w=new Z2(l,c,f,g,p,_);return T&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=Rt(l);st($s,"RemoteStore shutting down."),c.da.add(5),await Wl(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}um.provider={build:()=>new um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):fr("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="FirestoreClient";class fC{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=dE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{st(as,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(st(as,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Qm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Pd(r,t){r.asyncQueue.verifyOperationInProgress(),st(as,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await eT(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Xv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await dC(r);st(as,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Hv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>Hv(t.remoteStore,l)),r._onlineComponents=t}async function dC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(as,"Using user provided OfflineComponentProvider");try{await Pd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await Pd(r,new eh)}}else st(as,"Using default OfflineComponentProvider"),await Pd(r,new hC(void 0));return r._offlineComponents}async function bT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(as,"Using user provided OnlineComponentProvider"),await Xv(r,r._uninitializedComponentsProvider._online)):(st(as,"Using default OnlineComponentProvider"),await Xv(r,new um))),r._onlineComponents}function mC(r){return bT(r).then(t=>t.syncEngine)}async function cm(r){const t=await bT(r),n=t.eventManager;return n.onListen=J2.bind(null,t.syncEngine),n.onUnlisten=eC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=W2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=nC.bind(null,t.syncEngine),n}function gC(r,t,n={}){const s=new Wr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,g,p,_){const T=new AT({next:C=>{T.xu(),f.enqueueAndForget(()=>fT(c,w));const F=C.docs.has(g);!F&&C.fromCache?_.reject(new lt(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&C.fromCache&&p&&p.source==="server"?_.reject(new lt(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(C)},error:C=>_.reject(C)}),w=new dT(ch(g.path),T,{includeMetadataChanges:!0,Qa:!0});return hT(c,w)}(await cm(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(r,t,n){if(!n)throw new lt(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function pC(r,t,n,s){if(t===!0&&s===!0)throw new lt(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Zv(r){if(!dt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Jv(r){if(dt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Ii(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vh(r);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="firestore.googleapis.com",Wv=!0;class t0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RT,this.ssl=Wv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Wv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=WE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<YI)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ST((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new SR;switch(s.type){case"firstParty":return new CR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=$v.get(n);s&&(st("ComponentProvider","Removing Datastore"),$v.delete(n),s.terminate())}(this),Promise.resolve()}}function yC(r,t,n,s={}){var l;r=Ii(r,Eh);const c=uo(t),f=r._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c&&(y0(`https://${p}`),_0("Firestore",!0)),f.host!==RT&&f.host!==p&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},f),{host:p,ssl:c,emulatorOptions:s});if(!Gs(_,g)&&(r._setSettings(_),s.mockUserToken)){let T,w;if(typeof s.mockUserToken=="string")T=s.mockUserToken,w=nn.MOCK_USER;else{T=Ob(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new nn(C)}r._authCredentials=new wR(new hE(T,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new yo(this.firestore,t,this._query)}}class hn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hn(this.firestore,t,this._key)}}class ts extends yo{constructor(t,n,s){super(t,n,ch(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hn(this.firestore,null,new dt(t))}withConverter(t){return new ts(this.firestore,t,this._path)}}function kd(r,t,...n){if(r=Xe(r),wT("collection","path",t),r instanceof Eh){const s=ae.fromString(t,...n);return Jv(s),new ts(r,null,s)}{if(!(r instanceof hn||r instanceof ts))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...n));return Jv(s),new ts(r.firestore,null,s)}}function Il(r,t,...n){if(r=Xe(r),arguments.length===1&&(t=dE.newId()),wT("doc","path",t),r instanceof Eh){const s=ae.fromString(t,...n);return Zv(s),new hn(r,null,new dt(s))}{if(!(r instanceof hn||r instanceof ts))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...n));return Zv(s),new hn(r.firestore,r instanceof ts?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="AsyncQueue";class n0{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new iT(this,"async_queue_retry"),this.rc=()=>{const s=Vd();s&&st(e0,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=Vd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Vd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Wr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!go(t))throw t;st(e0,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,fr("INTERNAL UNHANDLED ERROR: ",i0(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const l=Gm.createAndSchedule(this,t,n,s,c=>this.uc(c));return this.Zu.push(l),l}oc(){this.Xu&&Et(47125,{cc:i0(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function i0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Zs extends Eh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new n0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new n0(t),this._firestoreClient=void 0,await t}}}function _C(r,t){const n=typeof r=="object"?r:A0(),s=typeof r=="string"?r:Kc,l=mm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=Db("firestore");c&&yC(l,...c)}return l}function $m(r){if(r._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vC(r),r._firestoreClient}function vC(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,_,T){return new HR(g,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,ST(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new fC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new lo($e.fromBase64String(t))}catch(n){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new lo($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=/^__.*__$/;class TC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ta(t,this.data,this.fieldMask,n,this.fieldTransforms):new Zl(t,this.data,n,this.fieldTransforms)}}function IT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ic:r})}}class eg{constructor(t,n,s,l,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new eg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Vc(t),l}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return nh(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(IT(this.Ic)&&EC.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class AC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||ph(t)}bc(t,n,s,l=!1){return new eg({Ic:t,methodName:n,wc:s,path:Ye.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ng(r){const t=r._freezeSettings(),n=ph(r._databaseId);return new AC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function CT(r,t,n,s,l,c={}){const f=r.bc(c.merge||c.mergeFields?2:0,t,n,l);xT("Data must be an object, but it was:",f,s);const g=NT(s,f);let p,_;if(c.merge)p=new ti(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const C=SC(t,w,n);if(!f.contains(C))throw new lt(Z.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);RC(T,C)||T.push(C)}p=new ti(T),_=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,_=f.fieldTransforms;return new TC(new Hn(g),p,_)}class ig extends Jm{_toFieldTransform(t){return new gI(t.path,new Bl)}isEqual(t){return t instanceof ig}}function bC(r,t,n,s=!1){return rg(n,r.bc(s?4:3,t))}function rg(r,t){if(DT(r=Xe(r)))return xT("Unsupported field value:",t,r),NT(r,t);if(r instanceof Jm)return function(s,l){if(!IT(l.Ic))throw l.gc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const g of s){let p=rg(g,l.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=Xe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Me.fromDate(s);return{timestampValue:Jc(l.serializer,c)}}if(s instanceof Me){const c=new Me(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jc(l.serializer,c)}}if(s instanceof Wm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof lo)return{bytesValue:QE(l.serializer,s._byteString)};if(s instanceof hn){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:km(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof tg)return function(f,g){return{mapValue:{fields:{[TE]:{stringValue:AE},[Yc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw g.gc("VectorValues must only contain numeric values.");return Om(g.serializer,_)})}}}}}}(s,l);throw l.gc(`Unsupported field value: ${vh(s)}`)}(r,t)}function NT(r,t){const n={};return gE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Js(r,(s,l)=>{const c=rg(l,t.Ac(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function DT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Me||r instanceof Wm||r instanceof lo||r instanceof hn||r instanceof Jm||r instanceof tg)}function xT(r,t,n){if(!DT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=vh(n);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function SC(r,t,n){if((t=Xe(t))instanceof Zm)return t._internalPath;if(typeof t=="string")return OT(r,t);throw nh("Field path arguments must be of type string or ",r,!1,void 0,n)}const wC=new RegExp("[~\\*/\\[\\]]");function OT(r,t,n){if(t.search(wC)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Zm(...t.split("."))._internalPath}catch{throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function nh(r,t,n,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new lt(Z.INVALID_ARGUMENT,g+r+p)}function RC(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new IC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(VT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IC extends MT{data(){return super.data()}}function VT(r,t){return typeof t=="string"?OT(r,t):t instanceof Zm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class NC extends sg{}function DC(r,t,...n){let s=[];t instanceof sg&&s.push(t),s=s.concat(n),function(c){const f=c.filter(p=>p instanceof og).length,g=c.filter(p=>p instanceof ag).length;if(f>1||f>0&&g>0)throw new lt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class ag extends NC{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ag(t,n,s)}_apply(t){const n=this._parse(t);return PT(t._query,n),new yo(t.firestore,t.converter,Wd(t._query,n))}_parse(t){const n=ng(t.firestore);return function(c,f,g,p,_,T,w){let C;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){a0(w,T);const J=[];for(const it of w)J.push(s0(p,c,it));C={arrayValue:{values:J}}}else C=s0(p,c,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||a0(w,T),C=bC(g,f,w,T==="in"||T==="not-in");return Ie.create(_,T,C)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class og extends sg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new og(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let f=l;const g=c.getFlattenedFilters();for(const p of g)PT(f,p),f=Wd(f,p)}(t._query,n),new yo(t.firestore,t.converter,Wd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function s0(r,t,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new lt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DE(t)&&n.indexOf("/")!==-1)throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ae.fromString(n));if(!dt.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vv(r,new dt(s))}if(n instanceof hn)return vv(r,n._key);throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(n)}.`)}function a0(r,t){if(!Array.isArray(r)||r.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function PT(r,t){const n=function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class xC{convertValue(t,n="none"){switch(rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(is(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Js(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Yc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>Ee(f.doubleValue));return new tg(c)}convertGeoPoint(t){return new Wm(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=uh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const n=ns(t);return new Me(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ae.fromString(t);Xt(JE(s),9688,{name:t});const l=new jl(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return l.isEqual(n)||fr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class UT extends MT{constructor(t,n,s,l,c,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(VT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Uc extends UT{data(t={}){return super.data(t)}}class OC{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Uc(this._firestore,this._userDataWriter,s.key,s,new Cl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(g=>{const p=new Uc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Uc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:MC(g.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(r){r=Ii(r,hn);const t=Ii(r.firestore,Zs);return gC($m(t),r._key).then(n=>jT(t,r,n))}class LT extends xC{constructor(t){super(),this.firestore=t}convertBytes(t){return new lo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function Ud(r,t,n){r=Ii(r,hn);const s=Ii(r.firestore,Zs),l=kT(r.converter,t,n);return lg(s,[CT(ng(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,ni.none())])}function PC(r){return lg(Ii(r.firestore,Zs),[new Mm(r._key,ni.none())])}function kC(r,t){const n=Ii(r.firestore,Zs),s=Il(r),l=kT(r.converter,t);return lg(n,[CT(ng(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ni.exists(!1))]).then(()=>s)}function UC(r,...t){var n,s,l;r=Xe(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||r0(t[f])||(c=t[f],f++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(r0(t[f])){const w=t[f];t[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),t[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),t[f+2]=(l=w.complete)===null||l===void 0?void 0:l.bind(w)}let p,_,T;if(r instanceof hn)_=Ii(r.firestore,Zs),T=ch(r._key.path),p={next:w=>{t[f]&&t[f](jT(_,r,w))},error:t[f+1],complete:t[f+2]};else{const w=Ii(r,yo);_=Ii(w.firestore,Zs),T=w._query;const C=new LT(_);p={next:F=>{t[f]&&t[f](new OC(_,C,w,F))},error:t[f+1],complete:t[f+2]},CC(r._query)}return function(C,F,J,it){const tt=new AT(it),Tt=new dT(F,tt,J);return C.asyncQueue.enqueueAndForget(async()=>hT(await cm(C),Tt)),()=>{tt.xu(),C.asyncQueue.enqueueAndForget(async()=>fT(await cm(C),Tt))}}($m(_),T,g,p)}function lg(r,t){return function(s,l){const c=new Wr;return s.asyncQueue.enqueueAndForget(async()=>iC(await mC(s),l,c)),c.promise}($m(r),t)}function jT(r,t,n){const s=n.docs.get(t._key),l=new LT(r);return new UT(r,l,t._key,s,new Cl(n.hasPendingWrites,n.fromCache),t.converter)}function o0(){return new ig("serverTimestamp")}(function(t,n=!0){(function(l){fo=l})(co),to(new Qs("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new Zs(new RR(s.getProvider("auth-internal")),new NR(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(_.options.projectId,T)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Zr(ov,lv,t),Zr(ov,lv,"esm2017")})();const Ai="booking-app-1af02",LC={apiKey:"AIzaSyBWmkv8YDOAtSqrehqEkO1vWNbBvmhs65A",authDomain:"booking-app-1af02.firebaseapp.com",projectId:"booking-app-1af02",storageBucket:"booking-app-1af02.firebasestorage.app",messagingSenderId:"909871533345",appId:"1:909871533345:web:939fa5b6c8203ad4308260",measurementId:"G-NF4XH5S2QC"},l0=[{id:1,name:"Pioneer CDJ-3000",type:"CDJ Player",icon:"",category:"player"},{id:2,name:"Technics SL-1200",type:"Turntable",icon:"",category:"player"},{id:3,name:"DJM A9",type:"DJ Mixer",icon:"",category:"mixer"},{id:4,name:"DJM V10",type:"DJ Mixer",icon:"",category:"mixer"}],u0=2e5,Bs=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r),Tl=r=>r?new Date(r).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",Ga=r=>{if(!r)return"";const[t,n]=r.split(":"),s=parseInt(t),l=s>=12?"PM":"AM";return`${s>12?s-12:s===0?12:s}:${n.padStart(2,"0")} ${l}`},jC=(r,t)=>{if(!r||isNaN(t))return"";const[n,s]=r.split(":"),l=new Date;return l.setHours(parseInt(n),parseInt(s),0,0),l.setHours(l.getHours()+t),`${l.getHours().toString().padStart(2,"0")}:${l.getMinutes().toString().padStart(2,"0")}`};function zC(){const[r,t]=yt.useState(""),[n,s]=yt.useState(""),[l,c]=yt.useState(2),[f,g]=yt.useState([]),[p,_]=yt.useState([]),[T,w]=yt.useState(!1),[C,F]=yt.useState(null),[J,it]=yt.useState("cash"),[tt,Tt]=yt.useState(!1),[ct,ht]=yt.useState(null),[Ot,_t]=yt.useState(!1),[wt,M]=yt.useState(null),[b,R]=yt.useState(null),[O,V]=yt.useState(""),[k,I]=yt.useState(null),[Pt,oe]=yt.useState(null),[q,rt]=yt.useState(null),[ut,Lt]=yt.useState(!0),[N,Y]=yt.useState(!1),[nt,W]=yt.useState(null),[at,mt]=yt.useState(null),[At,de]=yt.useState(!1),[jt,_n]=yt.useState(""),[fn,Cn]=yt.useState(""),[Nn,Ni]=yt.useState(!0),[Di,xi]=yt.useState(!1),[Gn,Te]=yt.useState(""),[Qn,ri]=yt.useState(!1),[Ze,an]=yt.useState(null),us=yt.useRef(null);yt.useEffect(()=>{try{console.log("Initializing Firebase app...");const G=T0(LC),It=_C(G),Ft=AR(G);I(G),oe(It),rt(Ft),console.log("Firebase app, DB, Auth instances set.")}catch(G){console.error("Firebase Initialization Error:",G),W(`Firebase Initialization Error: ${G.message}`),Lt(!1)}},[]),yt.useEffect(()=>{if(!q||!Pt){console.log("Auth or DB instance not ready, skipping auth state listener.");return}console.log("Setting up auth state listener...");const G=cw(q,async It=>{if(It){R(It.uid),mt(null),de(!1);try{ri(!0),an(null);const Ft=Il(Pt,`artifacts/${Ai}/users/${It.uid}/profiles/userProfile`),re=await VC(Ft);let me=It.displayName||It.email;re.exists()?(me=re.data().displayName||me,V(me),Te(me)):(await Ud(Ft,{userId:It.uid,displayName:me,createdAt:o0()},{merge:!0}),V(me),Te(me),console.log("Created new user profile in Firestore.")),console.log("Auth state changed: User is signed in. UID:",It.uid,"Name:",me)}catch(Ft){console.error("Error fetching/creating user profile:",Ft),an(`Failed to load profile: ${Ft.message}`),V(It.uid)}finally{ri(!1)}}else console.log("Auth state changed: User is signed out. No automatic anonymous sign-in."),R(null),V(""),Te(""),mt(null),an(null);Lt(!1)});return()=>{console.log("Cleaning up auth state listener."),G()}},[q,Pt,Ai]),yt.useEffect(()=>{if(!Pt||b===null||ut||at){console.log("Firestore listener skipped: DB instance, userId, auth loading, or auth error not ready.",{dbInstance:Pt,userId:b,isLoadingAuth:ut,authError:at}),_([]),Y(!1);return}Y(!0),W(null);const G=`artifacts/${Ai}/users/${b}/bookings`;console.log("Attempting to listen to Firestore collection:",G,"with userId:",b);const It=kd(Pt,G),Ft=DC(It),re=UC(Ft,me=>{console.log("Firestore snapshot received.");const se=[];me.forEach(si=>{se.push({id:si.id,...si.data()})}),se.sort((si,ai)=>{var ki,Kn;return(((ki=ai.timestamp)==null?void 0:ki.toDate())||0)-(((Kn=si.timestamp)==null?void 0:Kn.toDate())||0)}),_(se),Y(!1),console.log("Bookings updated:",se.length,"bookings.")},me=>{console.error("Firestore Error fetching bookings:",me),W(`Failed to load bookings: ${me.message}`),Y(!1)});return()=>{console.log("Cleaning up Firestore listener."),re()}},[Pt,b,ut,at,Ai]);const pr=yt.useMemo(()=>new Date().toISOString().split("T")[0],[]),cs=yt.useMemo(()=>{const G=[];for(let It=9;It<=23;It++){const Ft=`${It.toString().padStart(2,"0")}:00`,re=It>12?`${It-12}:00 PM`:It===12?"12:00 PM":`${It}:00 AM`;G.push({value:Ft,label:re})}return G},[]),Dn=yt.useCallback(()=>u0*l,[l]),le=yt.useMemo(()=>l0.filter(G=>G.category==="player"),[]),Qt=yt.useMemo(()=>l0.filter(G=>G.category==="mixer"),[]),Je=yt.useCallback(G=>{g(It=>It.some(re=>re.id===G.id)?It.filter(re=>re.id!==G.id):[...It,G])},[]),Pe=yt.useCallback(async()=>{if(!q){mt("Authentication service not available.");return}mt(null);try{const G=await sw(q,jt,fn);console.log("User signed up successfully!",G.user),await $_(G.user,{displayName:jt.split("@")[0]||"New User"}),Te(G.user.displayName||jt.split("@")[0])}catch(G){console.error("Sign-up error:",G),mt(`Sign-up failed: ${G.message}`)}},[q,jt,fn]),na=yt.useCallback(async()=>{if(!q){mt("Authentication service not available.");return}mt(null);try{await aw(q,jt,fn),console.log("User signed in successfully!")}catch(G){console.error("Sign-in error:",G),mt(`Sign-in failed: ${G.message}`)}},[q,jt,fn]),_o=yt.useCallback(async()=>{if(!q){mt("Authentication service not available.");return}mt(null);try{const G=new ar;await xw(q,G),console.log("User signed in with Google successfully!")}catch(G){console.error("Google Sign-in error:",G),G.code==="auth/popup-closed-by-user"?mt("Google Sign-in popup closed. Please try again."):G.code==="auth/cancelled-popup-request"?mt("Another sign-in attempt was already in progress. Please try again."):mt(`Google Sign-in failed: ${G.message}`)}},[q]),Oi=yt.useCallback(async()=>{if(q)try{await hw(q),R(null),V(""),_([]),console.log("User logged out."),ht(null),t(""),s(""),c(2),g([]),it("cash")}catch(G){console.error("Logout error:",G),W(`Logout failed: ${G.message}`)}},[q]),Mi=yt.useCallback(async()=>{if(!(!b||!Pt||!q.currentUser)){if(!Gn.trim()){an("Display name cannot be empty.");return}ri(!0),an(null);try{await $_(q.currentUser,{displayName:Gn.trim()});const G=Il(Pt,`artifacts/${Ai}/users/${b}/profiles/userProfile`);await Ud(G,{displayName:Gn.trim()},{merge:!0}),V(Gn.trim()),xi(!1),console.log("User profile updated successfully!")}catch(G){console.error("Error updating profile:",G),an(`Failed to update profile: ${G.message}`)}finally{ri(!1)}}},[b,Pt,q,Gn,Ai]),Vi=yt.useCallback(()=>{if(!r||!n){W("Please select both date and time to proceed with booking.");return}if(!b||!Pt||ut||Qn||at||Ze){W("App not ready to book. Please wait for authentication or resolve prior errors."),console.error("Booking attempted when app state not ready.",{userId:b,dbInstance:Pt,isLoadingAuth:ut,profileLoading:Qn,authError:at,profileError:Ze});return}J==="online"?Tt(!0):dn("pending")},[r,n,l,f,Dn,b,Pt,ut,Qn,at,Ze,J]),dn=yt.useCallback(async G=>{try{W(null),Y(!0);const It=Dn();let Ft=O;!Ft&&q.currentUser?Ft=q.currentUser.displayName||q.currentUser.email||b:Ft||(Ft="Anonymous User");const re={date:r,time:n,duration:l,equipment:f.map(se=>({id:se.id,name:se.name,type:se.type})),total:It,userId:b,userName:Ft,timestamp:o0(),paymentMethod:J,paymentStatus:G},me=kd(Pt,`artifacts/${Ai}/users/${b}/bookings`);if(ct){const se=Il(me,ct);await Ud(se,re,{merge:!0}),console.log("Booking successfully UPDATED with ID:",ct),F({...re,id:ct,timestamp:new Date}),w(!0)}else{const se=await kC(me,re);console.log("Booking successfully ADDED with ID:",se.id),F({...re,id:se.id,timestamp:new Date}),w(!0)}ht(null),t(""),s(""),c(2),g([]),it("cash")}catch(It){console.error(`Error ${ct?"updating":"adding"} booking to Firestore:`,It),W(`Failed to ${ct?"update":"book"} session: ${It.message}`)}finally{Y(!1),Tt(!1)}},[r,n,l,f,Dn,b,O,Pt,J,Ai,ct,q]),yr=yt.useCallback(G=>{ht(G.id),t(G.date),s(G.time),c(G.duration),g(G.equipment||[]),it(G.paymentMethod||"cash"),W(null),us.current&&us.current.scrollIntoView({behavior:"smooth",block:"start"})},[]),Pi=yt.useCallback(G=>{M(G),_t(!0)},[]),hs=yt.useCallback(async()=>{if(!(!wt||!Pt||!b))try{W(null),Y(!0);const G=Il(kd(Pt,`artifacts/${Ai}/users/${b}/bookings`),wt.id);await PC(G),console.log("Booking successfully deleted:",wt.id)}catch(G){console.error("Error deleting booking:",G),W(`Failed to delete booking: ${G.message}`)}finally{Y(!1),_t(!1),M(null)}},[wt,Pt,b,Ai]);return ut||!k||at||Qn?D.jsxs("div",{className:"bg-gray-900 min-h-screen flex items-center justify-center text-orange-200 text-2xl p-4 text-center",children:[at?`Authentication Error: ${at}`:Qn?"Loading profile...":"Authenticating Firebase...",D.jsx("br",{}),nt&&D.jsx("span",{className:"text-red-300 text-base",children:nt}),Ze&&D.jsx("span",{className:"text-red-300 text-base",children:Ze})]}):D.jsx("div",{className:"bg-gray-900 min-h-screen p-4",children:D.jsxs("div",{className:"max-w-4xl mx-auto",children:[D.jsxs("div",{className:"text-center mb-8",children:[D.jsx("h1",{className:"text-4xl font-bold text-orange-400 mb-2",children:" DJ Studio Booking"}),D.jsx("p",{className:"text-gray-300 text-lg",children:"Book your professional DJ room with premium equipment"}),D.jsx("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-center gap-4",children:b?D.jsxs(D.Fragment,{children:[D.jsxs("p",{className:"text-gray-400 text-sm",children:["Logged In: ",D.jsx("span",{className:"font-semibold text-orange-200",children:O||(b?b.substring(0,8)+"...":"Loading...")})]}),D.jsx("button",{onClick:()=>{Te(O),xi(!0)},className:"px-4 py-2 bg-orange-600 text-white rounded-xl text-sm hover:bg-orange-700 transition duration-200 shadow-lg",children:"Edit Profile"}),D.jsx("button",{onClick:Oi,className:"px-4 py-2 bg-red-600 text-white rounded-xl text-sm hover:bg-red-700 transition duration-200 shadow-lg",children:"Logout"})]}):D.jsx("button",{onClick:()=>de(!0),className:"px-6 py-3 bg-orange-600 text-white rounded-xl text-lg font-semibold hover:bg-orange-700 transition duration-200 shadow-lg",children:"Sign In / Sign Up"})})]}),(nt||Ze)&&!at&&D.jsxs("div",{className:"bg-red-800 text-white px-4 py-3 rounded-xl relative mb-4",role:"alert",children:[D.jsx("strong",{className:"font-bold",children:"Error!"}),D.jsxs("span",{className:"block sm:inline",children:[" ",nt||Ze]})]}),D.jsx("div",{ref:us,className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mb-6 border border-gray-700",children:D.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[D.jsxs("div",{className:"space-y-6",children:[D.jsx("h2",{className:"text-2xl font-semibold text-orange-300 mb-4",children:" Schedule Your Session"}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"select-date",className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Date"}),D.jsx("input",{id:"select-date",type:"date",min:pr,value:r,onChange:G=>t(G.target.value),className:"w-full p-3 border border-gray-600 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition duration-200 bg-gray-700 text-white"})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"select-time",className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Time"}),D.jsxs("select",{id:"select-time",value:n,onChange:G=>s(G.target.value),className:"w-full p-3 border border-gray-600 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition duration-200 bg-gray-700 text-white",children:[D.jsx("option",{value:"",children:"Choose a time..."}),cs.map(G=>D.jsx("option",{value:G.value,children:G.label},G.value))]})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"select-duration",className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration (hours)"}),D.jsxs("select",{id:"select-duration",value:l,onChange:G=>c(parseInt(G.target.value)),className:"w-full p-3 border border-gray-600 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition duration-200 bg-gray-700 text-white",children:[D.jsx("option",{value:1,children:"1 hour"}),D.jsx("option",{value:2,children:"2 hours (Default)"}),D.jsx("option",{value:3,children:"3 hours"}),D.jsx("option",{value:4,children:"4 hours"}),D.jsx("option",{value:6,children:"6 hours"}),D.jsx("option",{value:8,children:"8 hours"})]})]})]}),D.jsxs("div",{className:"bg-gray-700 rounded-xl p-6 border border-gray-600",children:[D.jsx("h3",{className:"text-xl font-semibold text-orange-300 mb-4",children:" Booking Summary"}),D.jsxs("div",{className:"space-y-3 text-gray-300",children:[D.jsxs("div",{className:"flex justify-between text-sm",children:[D.jsx("span",{children:"Room Rate (per hour)"}),D.jsx("span",{children:Bs(u0)})]}),D.jsxs("div",{className:"flex justify-between text-sm",children:[D.jsx("span",{children:"Duration"}),D.jsxs("span",{children:[l," hours"]})]}),D.jsxs("div",{className:"flex justify-between text-sm",children:[D.jsx("span",{children:"Equipment"}),D.jsx("span",{className:"text-green-400",children:"Included"})]}),D.jsx("hr",{className:"my-3 border-gray-600"}),D.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[D.jsx("span",{children:"Total"}),D.jsx("span",{className:"text-orange-400",children:Bs(Dn())})]})]}),r&&n&&D.jsxs("div",{className:"mt-6 p-4 bg-gray-600 rounded-lg text-gray-200",children:[D.jsx("p",{className:"text-sm text-gray-300",children:"Session Details:"}),D.jsx("p",{className:"font-medium",children:Tl(r)}),D.jsxs("p",{className:"font-medium",children:[Ga(n)," - ",Ga(jC(n,l))]})]})]})]})}),D.jsxs("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mb-6 border border-gray-700",children:[D.jsx("h2",{className:"text-2xl font-semibold text-orange-300 mb-6",children:" Select Your Preferred Equipment"}),D.jsx("p",{className:"text-gray-300 mb-6",children:"All equipment is included in the room price. Please select what you'd like to use:"}),D.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[D.jsxs("div",{children:[D.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Players"}),D.jsx("div",{className:"space-y-3",children:le.map(G=>{const It=f.some(Ft=>Ft.id===G.id);return D.jsx("div",{onClick:()=>Je(G),className:`p-4 rounded-xl cursor-pointer border-2 transition-all duration-200 hover:translate-y-[-2px] ${It?"border-orange-500 bg-orange-900 shadow-md text-white":"border-gray-700 bg-gray-700 hover:border-orange-500 hover:shadow-sm text-gray-200"}`,children:D.jsxs("div",{className:"flex items-center space-x-3",children:[D.jsx("div",{className:"text-2xl",children:G.icon}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-semibold",children:G.name}),D.jsx("p",{className:"text-sm text-gray-400",children:G.type})]}),It&&D.jsx("div",{className:"ml-auto",children:D.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center",children:D.jsx("span",{className:"text-white text-sm",children:""})})})]})},G.id)})})]}),D.jsxs("div",{children:[D.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Mixers"}),D.jsx("div",{className:"space-y-3",children:Qt.map(G=>{const It=f.some(Ft=>Ft.id===G.id);return D.jsx("div",{onClick:()=>Je(G),className:`p-4 rounded-xl cursor-pointer border-2 transition-all duration-200 hover:translate-y-[-2px] ${It?"border-orange-500 bg-orange-900 shadow-md text-white":"border-gray-700 bg-gray-700 hover:border-orange-500 hover:shadow-sm text-gray-200"}`,children:D.jsxs("div",{className:"flex items-center space-x-3",children:[D.jsx("div",{className:"text-2xl",children:G.icon}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-semibold",children:G.name}),D.jsx("p",{className:"text-sm text-gray-400",children:G.type})]}),It&&D.jsx("div",{className:"ml-auto",children:D.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center",children:D.jsx("span",{className:"text-white text-sm",children:""})})})]})},G.id)})})]})]}),f.length>0&&D.jsxs("div",{className:"mt-6 p-4 bg-green-900 rounded-lg text-green-300 border border-green-700",children:[D.jsx("h4",{className:"font-semibold mb-2",children:"Selected Equipment:"}),D.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(G=>D.jsxs("span",{className:"bg-green-700 text-green-100 px-3 py-1 rounded-full text-sm",children:[G.icon," ",G.name]},G.id))})]})]}),D.jsxs("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mb-6 border border-gray-700",children:[D.jsx("h2",{className:"text-2xl font-semibold text-orange-300 mb-6",children:" Select Payment Method"}),D.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[D.jsxs("label",{className:`flex items-center p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 w-full ${J==="online"?"border-orange-500 bg-orange-900 text-white shadow-md":"border-gray-700 bg-gray-700 hover:border-orange-500 text-gray-200"}`,children:[D.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:J==="online",onChange:()=>it("online"),className:"form-radio h-5 w-5 text-orange-600"}),D.jsx("span",{className:"ml-3 text-lg font-medium",children:"Online Payment"})]}),D.jsxs("label",{className:`flex items-center p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 w-full ${J==="cash"?"border-orange-500 bg-orange-900 text-white shadow-md":"border-gray-700 bg-gray-700 hover:border-orange-500 text-gray-200"}`,children:[D.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:J==="cash",onChange:()=>it("cash"),className:"form-radio h-5 w-5 text-orange-600"}),D.jsx("span",{className:"ml-3 text-lg font-medium",children:"Cash on Arrival"})]})]})]}),D.jsxs("div",{className:"text-center",children:[D.jsx("button",{onClick:Vi,disabled:!r||!n||N||!b,className:`px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-200 ${r&&n&&!N&&b?"bg-gradient-to-r from-orange-600 to-orange-800 text-white hover:from-orange-700 hover:to-orange-900 shadow-lg hover:shadow-xl transform hover:scale-105":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:N?ct?"Updating...":"Booking...":ct?` Update Booking - ${Bs(Dn())}`:` Book DJ Studio - ${Bs(Dn())}`}),ct&&D.jsx("button",{onClick:()=>{ht(null),t(""),s(""),c(2),g([]),it("cash"),W(null)},className:"ml-4 px-6 py-3 bg-gray-700 text-gray-300 rounded-xl font-semibold hover:bg-gray-600 transition duration-200",children:"Cancel Edit"})]}),b&&N&&p.length===0&&!nt?D.jsx("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mt-6 text-center text-gray-400 border border-gray-700",children:"Loading bookings..."}):b&&p.length>0&&D.jsxs("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mt-6 border border-gray-700",children:[D.jsx("h2",{className:"text-2xl font-semibold text-orange-300 mb-6",children:" Recent Bookings"}),D.jsx("div",{className:"space-y-4",children:p.map(G=>D.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center border border-gray-600",children:[D.jsxs("div",{className:"flex-grow mb-4 sm:mb-0",children:[D.jsxs("p",{className:"font-medium text-gray-100",children:["Booking ID: ",D.jsx("span",{className:"font-mono text-xs text-gray-400",children:G.id})]}),D.jsxs("p",{className:"text-sm text-gray-300",children:[Tl(G.date)," at ",Ga(G.time)," (",G.duration," hours)"]}),D.jsxs("p",{className:"text-xs text-gray-400",children:["Equipment: ",G.equipment&&G.equipment.length>0?G.equipment.map(It=>It.name).join(", "):"None selected"]}),D.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Payment: ",G.paymentMethod==="online"?"Online":"Cash",D.jsx("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs font-semibold ${G.paymentStatus==="paid"?"bg-green-700 text-green-200":"bg-yellow-700 text-yellow-200"}`,children:G.paymentStatus==="paid"?"PAID":"PENDING"})]})]}),D.jsxs("div",{className:"text-right",children:[D.jsx("p",{className:"font-bold text-orange-400",children:Bs(G.total)}),D.jsxs("p",{className:"text-xs text-gray-400",children:["Booked by: ",D.jsx("span",{className:"font-semibold text-orange-200",children:G.userName||(G.userId?G.userId.substring(0,8)+"...":"N/A")})]})]}),D.jsx("div",{className:"flex flex-col sm:flex-row gap-2 mt-2 sm:mt-0 sm:ml-4",children:b===G.userId&&D.jsxs(D.Fragment,{children:[D.jsx("button",{onClick:()=>yr(G),className:"px-4 py-2 bg-orange-500 text-white rounded-xl text-sm hover:bg-orange-600 transition duration-200",children:"Edit"}),D.jsx("button",{onClick:()=>Pi(G),className:"px-4 py-2 bg-red-600 text-white rounded-xl text-sm hover:bg-red-700 transition duration-200",children:"Cancel"})]})})]},G.id))})]}),b&&!N&&p.length===0&&!nt&&D.jsx("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mt-6 text-center text-gray-400 border border-gray-700",children:"No recent bookings found. Make your first booking above!"}),!b&&D.jsx("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mt-6 text-center text-gray-400 border border-gray-700",children:"Sign in to view and make bookings."}),T&&C&&D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:D.jsx("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full text-white border border-gray-700",children:D.jsxs("div",{className:"text-center",children:[D.jsx("div",{className:"text-6xl mb-4 pulse-animation",children:""}),D.jsx("h2",{className:"text-2xl font-bold text-orange-400 mb-4",children:ct?"Booking Updated!":"Booking Confirmed!"}),D.jsxs("div",{className:"text-left bg-gray-700 rounded-lg p-4 mb-6 text-gray-200",children:[D.jsxs("p",{children:[D.jsx("strong",{children:"Date:"})," ",Tl(C.date)]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Time:"})," ",Ga(C.time)]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Duration:"})," ",C.duration," hours"]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Equipment:"})," ",C.equipment&&C.equipment.length>0?C.equipment.map(G=>G.name).join(", "):"None selected"]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Total:"})," ",Bs(C.total)]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Booking ID:"})," ",D.jsxs("span",{className:"font-mono text-xs text-gray-400",children:["#",C.id]})]}),D.jsxs("p",{className:"mt-2",children:[D.jsx("strong",{children:"Payment Method:"})," ",C.paymentMethod==="online"?"Online":"Cash on Arrival"]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Payment Status:"}),D.jsx("span",{className:`ml-1 font-semibold ${C.paymentStatus==="paid"?"text-green-400":"text-yellow-400"}`,children:C.paymentStatus==="paid"?"PAID":"PENDING"})]}),D.jsxs("p",{className:"mt-2",children:[D.jsx("strong",{children:"Booked By:"})," ",D.jsx("span",{className:"font-semibold text-orange-200",children:C.userName||"N/A"})]})]}),D.jsx("button",{onClick:()=>w(!1),className:"bg-orange-600 text-white px-6 py-3 rounded-xl hover:bg-orange-700 transition duration-200",children:"Awesome! Close"})]})})}),At&&D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:D.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full text-white border border-gray-700",children:[D.jsx("h2",{className:"text-2xl font-bold text-orange-400 mb-6 text-center",children:Nn?"Sign In":"Sign Up"}),at&&D.jsx("div",{className:"bg-red-800 text-white px-4 py-3 rounded-xl relative mb-4 text-sm",role:"alert",children:at}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),D.jsx("input",{type:"email",id:"email",value:jt,onChange:G=>_n(G.target.value),className:"w-full p-3 border border-gray-600 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition duration-200 bg-gray-700 text-white",placeholder:"your.email@example.com"})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),D.jsx("input",{type:"password",id:"password",value:fn,onChange:G=>Cn(G.target.value),className:"w-full p-3 border border-gray-600 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition duration-200 bg-gray-700 text-white",placeholder:"********"})]})]}),D.jsxs("div",{className:"mt-6 space-y-4",children:[D.jsx("button",{onClick:Nn?na:Pe,className:"w-full px-6 py-3 bg-orange-600 text-white rounded-xl font-semibold hover:bg-orange-700 transition duration-200",children:Nn?"Sign In":"Sign Up"}),D.jsx("button",{onClick:()=>Ni(G=>!G),className:"w-full px-6 py-3 bg-gray-700 text-gray-300 rounded-xl font-semibold hover:bg-gray-600 transition duration-200",children:Nn?"Need an account? Sign Up":"Already have an account? Sign In"}),D.jsxs("button",{onClick:_o,className:"w-full px-6 py-3 bg-red-700 text-white rounded-xl font-semibold hover:bg-red-800 transition duration-200 flex items-center justify-center",children:[D.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",className:"w-5 h-5 mr-2"}),"Sign In with Google"]}),D.jsx("button",{onClick:()=>{de(!1),mt(null),_n(""),Cn("")},className:"w-full text-sm text-gray-400 hover:text-gray-200 transition duration-200 mt-2",children:"Cancel"})]})]})}),Di&&b&&D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:D.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full text-white border border-gray-700",children:[D.jsx("h2",{className:"text-2xl font-bold text-orange-400 mb-6 text-center",children:"Manage Profile"}),Ze&&D.jsx("div",{className:"bg-red-800 text-white px-4 py-3 rounded-xl relative mb-4 text-sm",role:"alert",children:Ze}),D.jsx("div",{className:"space-y-4",children:D.jsxs("div",{children:[D.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name"}),D.jsx("input",{type:"text",id:"displayName",value:Gn,onChange:G=>Te(G.target.value),className:"w-full p-3 border border-gray-600 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition duration-200 bg-gray-700 text-white",placeholder:"Your Name"})]})}),D.jsxs("div",{className:"mt-6 space-y-4",children:[D.jsx("button",{onClick:Mi,disabled:Qn,className:"w-full px-6 py-3 bg-orange-600 text-white rounded-xl font-semibold hover:bg-orange-700 transition duration-200",children:Qn?"Updating...":"Update Profile"}),D.jsx("button",{onClick:()=>{xi(!1),an(null),Te(O)},className:"w-full text-sm text-gray-400 hover:text-gray-200 transition duration-200 mt-2",children:"Cancel"})]})]})}),tt&&D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:D.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full text-white text-center border border-gray-700",children:[D.jsx("h2",{className:"text-2xl font-bold text-orange-400 mb-4",children:"Simulate Online Payment"}),D.jsxs("p",{className:"text-gray-300 mb-6",children:["Please confirm payment of **",Bs(Dn()),"** for your booking on ",Tl(r)," at ",Ga(n),"."]}),D.jsxs("div",{className:"flex justify-center gap-4",children:[D.jsx("button",{onClick:()=>dn("paid"),className:"px-6 py-3 bg-green-700 text-white rounded-xl font-semibold hover:bg-green-800 transition duration-200",children:"Confirm Payment (Simulated)"}),D.jsx("button",{onClick:()=>{Tt(!1),W("Payment cancelled by user.")},className:"px-6 py-3 bg-gray-700 text-gray-300 rounded-xl font-semibold hover:bg-gray-600 transition duration-200",children:"Cancel"})]})]})}),Ot&&wt&&D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:D.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full text-white text-center border border-gray-700",children:[D.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:"Confirm Deletion"}),D.jsxs("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to cancel the booking for **",Tl(wt.date)," at ",Ga(wt.time),"** (Booking ID: ",D.jsxs("span",{className:"font-mono text-xs text-gray-400",children:[wt.id.substring(0,8),"..."]}),")? This action cannot be undone."]}),D.jsxs("div",{className:"flex justify-center gap-4",children:[D.jsx("button",{onClick:hs,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition duration-200",children:"Yes, Cancel Booking"}),D.jsx("button",{onClick:()=>{_t(!1),M(null),W(null)},className:"px-6 py-3 bg-gray-700 text-gray-300 rounded-xl font-semibold hover:bg-gray-600 transition duration-200",children:"No, Keep Booking"})]})]})})]})})}Tb.createRoot(document.getElementById("root")).render(D.jsx(db.StrictMode,{children:D.jsx(zC,{})}));
